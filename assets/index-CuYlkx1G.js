var U_=Object.defineProperty;var q_=(t,e,n)=>e in t?U_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ce=(t,e,n)=>q_(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lp={exports:{}},Xa={},up={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=Symbol.for("react.element"),$_=Symbol.for("react.portal"),G_=Symbol.for("react.fragment"),H_=Symbol.for("react.strict_mode"),Z_=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),X_=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),K_=Symbol.for("react.suspense"),J_=Symbol.for("react.memo"),e0=Symbol.for("react.lazy"),cd=Symbol.iterator;function t0(t){return t===null||typeof t!="object"?null:(t=cd&&t[cd]||t["@@iterator"],typeof t=="function"?t:null)}var cp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hp=Object.assign,dp={};function Qs(t,e,n){this.props=t,this.context=e,this.refs=dp,this.updater=n||cp}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fp(){}fp.prototype=Qs.prototype;function xc(t,e,n){this.props=t,this.context=e,this.refs=dp,this.updater=n||cp}var kc=xc.prototype=new fp;kc.constructor=xc;hp(kc,Qs.prototype);kc.isPureReactComponent=!0;var hd=Array.isArray,pp=Object.prototype.hasOwnProperty,Sc={current:null},mp={key:!0,ref:!0,__self:!0,__source:!0};function gp(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)pp.call(e,r)&&!mp.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ki,type:t,key:i,ref:o,props:s,_owner:Sc.current}}function n0(t,e){return{$$typeof:Ki,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ki}function r0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dd=/\/+/g;function Ll(t,e){return typeof t=="object"&&t!==null&&t.key!=null?r0(""+t.key):e.toString(36)}function Qo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ki:case $_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ll(o,0):r,hd(s)?(n="",t!=null&&(n=t.replace(dd,"$&/")+"/"),Qo(s,e,n,"",function(u){return u})):s!=null&&(Cc(s)&&(s=n0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",hd(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ll(i,a);o+=Qo(i,e,n,l,s)}else if(l=t0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ll(i,a++),o+=Qo(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Co(t,e,n){if(t==null)return t;var r=[],s=0;return Qo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function s0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Xo={transition:null},i0={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Xo,ReactCurrentOwner:Sc};function _p(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Co,forEach:function(t,e,n){Co(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Co(t,function(){e++}),e},toArray:function(t){return Co(t,function(e){return e})||[]},only:function(t){if(!Cc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Qs;ve.Fragment=G_;ve.Profiler=Z_;ve.PureComponent=xc;ve.StrictMode=H_;ve.Suspense=K_;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i0;ve.act=_p;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pp.call(e,l)&&!mp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ki,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:X_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q_,_context:t},t.Consumer=t};ve.createElement=gp;ve.createFactory=function(t){var e=gp.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:Y_,render:t}};ve.isValidElement=Cc;ve.lazy=function(t){return{$$typeof:e0,_payload:{_status:-1,_result:t},_init:s0}};ve.memo=function(t,e){return{$$typeof:J_,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Xo.transition;Xo.transition={};try{t()}finally{Xo.transition=e}};ve.unstable_act=_p;ve.useCallback=function(t,e){return kt.current.useCallback(t,e)};ve.useContext=function(t){return kt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return kt.current.useEffect(t,e)};ve.useId=function(){return kt.current.useId()};ve.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return kt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ve.useRef=function(t){return kt.current.useRef(t)};ve.useState=function(t){return kt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return kt.current.useTransition()};ve.version="18.3.1";up.exports=ve;var se=up.exports;const o0=ap(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=se,l0=Symbol.for("react.element"),u0=Symbol.for("react.fragment"),c0=Object.prototype.hasOwnProperty,h0=a0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d0={key:!0,ref:!0,__self:!0,__source:!0};function yp(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)c0.call(e,r)&&!d0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:l0,type:t,key:i,ref:o,props:s,_owner:h0.current}}Xa.Fragment=u0;Xa.jsx=yp;Xa.jsxs=yp;lp.exports=Xa;var O=lp.exports,yu={},vp={exports:{}},Ut={},wp={exports:{}},xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,z){var H=q.length;q.push(z);e:for(;0<H;){var R=H-1>>>1,F=q[R];if(0<s(F,z))q[R]=z,q[H]=F,H=R;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var z=q[0],H=q.pop();if(H!==z){q[0]=H;e:for(var R=0,F=q.length,ne=F>>>1;R<ne;){var J=2*(R+1)-1,G=q[J],ie=J+1,fe=q[ie];if(0>s(G,H))ie<F&&0>s(fe,G)?(q[R]=fe,q[ie]=H,R=ie):(q[R]=G,q[J]=H,R=J);else if(ie<F&&0>s(fe,H))q[R]=fe,q[ie]=H,R=ie;else break e}}return z}function s(q,z){var H=q.sortIndex-z.sortIndex;return H!==0?H:q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,m=3,f=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(q){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=q)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function S(q){if(p=!1,v(q),!g)if(n(l)!==null)g=!0,Q(k);else{var z=n(u);z!==null&&U(S,z.startTime-q)}}function k(q,z){g=!1,p&&(p=!1,d(N),N=-1),f=!0;var H=m;try{for(v(z),h=n(l);h!==null&&(!(h.expirationTime>z)||q&&!V());){var R=h.callback;if(typeof R=="function"){h.callback=null,m=h.priorityLevel;var F=R(h.expirationTime<=z);z=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(l)&&r(l),v(z)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var J=n(u);J!==null&&U(S,J.startTime-z),ne=!1}return ne}finally{h=null,m=H,f=!1}}var E=!1,C=null,N=-1,I=5,D=-1;function V(){return!(t.unstable_now()-D<I)}function T(){if(C!==null){var q=t.unstable_now();D=q;var z=!0;try{z=C(!0,q)}finally{z?P():(E=!1,C=null)}}else E=!1}var P;if(typeof _=="function")P=function(){_(T)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,B=x.port2;x.port1.onmessage=T,P=function(){B.postMessage(null)}}else P=function(){y(T,0)};function Q(q){C=q,E||(E=!0,P())}function U(q,z){N=y(function(){q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Q(k))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var H=m;m=z;try{return q()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var H=m;m=q;try{return z()}finally{m=H}},t.unstable_scheduleCallback=function(q,z,H){var R=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?R+H:R):H=R,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,q={id:c++,callback:z,priorityLevel:q,startTime:H,expirationTime:F,sortIndex:-1},H>R?(q.sortIndex=H,e(u,q),n(l)===null&&q===n(u)&&(p?(d(N),N=-1):p=!0,U(S,H-R))):(q.sortIndex=F,e(l,q),g||f||(g=!0,Q(k))),q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(q){var z=m;return function(){var H=m;m=z;try{return q.apply(this,arguments)}finally{m=H}}}})(xp);wp.exports=xp;var f0=wp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=se,Bt=f0;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kp=new Set,Mi={};function es(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for(Mi[t]=e,t=0;t<e.length;t++)kp.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,m0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fd={},pd={};function g0(t){return vu.call(pd,t)?!0:vu.call(fd,t)?!1:m0.test(t)?pd[t]=!0:(fd[t]=!0,!1)}function _0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y0(t,e,n,r){if(e===null||typeof e>"u"||_0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tc=/[\-:]([a-z])/g;function bc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tc,bc);ht[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tc,bc);ht[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tc,bc);ht[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ec(t,e,n,r){var s=ht.hasOwnProperty(e)?ht[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y0(e,n,s,r)&&(n=null),r||s===null?g0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qn=p0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),ds=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),Sp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),Ac=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Oc=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Tp=Symbol.for("react.offscreen"),md=Symbol.iterator;function ui(t){return t===null||typeof t!="object"?null:(t=md&&t[md]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Vl;function _i(t){if(Vl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vl=e&&e[1]||""}return`
`+Vl+t}var Bl=!1;function Wl(t,e){if(!t||Bl)return"";Bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_i(t):""}function v0(t){switch(t.tag){case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return t=Wl(t.type,!1),t;case 11:return t=Wl(t.type.render,!1),t;case 1:return t=Wl(t.type,!0),t;default:return""}}function Su(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case ds:return"Portal";case wu:return"Profiler";case Nc:return"StrictMode";case xu:return"Suspense";case ku:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cp:return(t.displayName||"Context")+".Consumer";case Sp:return(t._context.displayName||"Context")+".Provider";case Ac:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Oc:return e=t.displayName||null,e!==null?e:Su(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return Su(t(e))}catch{}}return null}function w0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Su(e);case 8:return e===Nc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function x0(t){var e=bp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bo(t){t._valueTracker||(t._valueTracker=x0(t))}function Ep(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cu(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Np(t,e){e=e.checked,e!=null&&Ec(t,"checked",e,!1)}function Tu(t,e){Np(t,e);var n=wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bu(t,e.type,n):e.hasOwnProperty("defaultValue")&&bu(t,e.type,wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _d(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bu(t,e,n){(e!=="number"||ca(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yi=Array.isArray;function Ns(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(yi(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wr(n)}}function Ap(t,e){var n=wr(e.value),r=wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Op(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Op(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eo,Ip=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k0=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(t){k0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ki[e]=ki[t]})});function Mp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ki.hasOwnProperty(t)&&ki[t]?(""+e).trim():e+"px"}function Dp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Mp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var S0=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(S0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Ou(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function Ic(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mu=null,As=null,Os=null;function wd(t){if(t=to(t)){if(typeof Mu!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=tl(e),Mu(t.stateNode,t.type,e))}}function Rp(t){As?Os?Os.push(t):Os=[t]:As=t}function Pp(){if(As){var t=As,e=Os;if(Os=As=null,wd(t),e)for(t=0;t<e.length;t++)wd(e[t])}}function Fp(t,e){return t(e)}function jp(){}var Ul=!1;function zp(t,e,n){if(Ul)return t(e,n);Ul=!0;try{return Fp(t,e,n)}finally{Ul=!1,(As!==null||Os!==null)&&(jp(),Pp())}}function Ri(t,e){var n=t.stateNode;if(n===null)return null;var r=tl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Du=!1;if(Un)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Du=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Du=!1}function C0(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Si=!1,ha=null,da=!1,Ru=null,T0={onError:function(t){Si=!0,ha=t}};function b0(t,e,n,r,s,i,o,a,l){Si=!1,ha=null,C0.apply(T0,arguments)}function E0(t,e,n,r,s,i,o,a,l){if(b0.apply(this,arguments),Si){if(Si){var u=ha;Si=!1,ha=null}else throw Error(ee(198));da||(da=!0,Ru=u)}}function ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xd(t){if(ts(t)!==t)throw Error(ee(188))}function N0(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xd(s),t;if(i===r)return xd(s),e;i=i.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function Vp(t){return t=N0(t),t!==null?Bp(t):null}function Bp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bp(t);if(e!==null)return e;t=t.sibling}return null}var Wp=Bt.unstable_scheduleCallback,kd=Bt.unstable_cancelCallback,A0=Bt.unstable_shouldYield,O0=Bt.unstable_requestPaint,Xe=Bt.unstable_now,I0=Bt.unstable_getCurrentPriorityLevel,Mc=Bt.unstable_ImmediatePriority,Up=Bt.unstable_UserBlockingPriority,fa=Bt.unstable_NormalPriority,M0=Bt.unstable_LowPriority,qp=Bt.unstable_IdlePriority,Ya=null,bn=null;function D0(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ya,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:F0,R0=Math.log,P0=Math.LN2;function F0(t){return t>>>=0,t===0?32:31-(R0(t)/P0|0)|0}var No=64,Ao=4194304;function vi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=vi(a):(i&=o,i!==0&&(r=vi(i)))}else o=n&~s,o!==0?r=vi(o):i!==0&&(r=vi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),s=1<<n,r|=t[n],e&=~s;return r}function j0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=j0(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $p(){var t=No;return No<<=1,!(No&4194240)&&(No=64),t}function ql(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ji(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function L0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ie=0;function Gp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hp,Rc,Zp,Qp,Xp,Fu=!1,Oo=[],cr=null,hr=null,dr=null,Pi=new Map,Fi=new Map,or=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sd(t,e){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(e.pointerId)}}function hi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=to(e),e!==null&&Rc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function B0(t,e,n,r,s){switch(e){case"focusin":return cr=hi(cr,t,e,n,r,s),!0;case"dragenter":return hr=hi(hr,t,e,n,r,s),!0;case"mouseover":return dr=hi(dr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,hi(Pi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fi.set(i,hi(Fi.get(i)||null,t,e,n,r,s)),!0}return!1}function Yp(t){var e=jr(t.target);if(e!==null){var n=ts(e);if(n!==null){if(e=n.tag,e===13){if(e=Lp(n),e!==null){t.blockedOn=e,Xp(t.priority,function(){Zp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ju(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Iu=r,n.target.dispatchEvent(r),Iu=null}else return e=to(n),e!==null&&Rc(e),t.blockedOn=n,!1;e.shift()}return!0}function Cd(t,e,n){Yo(t)&&n.delete(e)}function W0(){Fu=!1,cr!==null&&Yo(cr)&&(cr=null),hr!==null&&Yo(hr)&&(hr=null),dr!==null&&Yo(dr)&&(dr=null),Pi.forEach(Cd),Fi.forEach(Cd)}function di(t,e){t.blockedOn===e&&(t.blockedOn=null,Fu||(Fu=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,W0)))}function ji(t){function e(s){return di(s,t)}if(0<Oo.length){di(Oo[0],t);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cr!==null&&di(cr,t),hr!==null&&di(hr,t),dr!==null&&di(dr,t),Pi.forEach(e),Fi.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)Yp(n),n.blockedOn===null&&or.shift()}var Is=Qn.ReactCurrentBatchConfig,ma=!0;function U0(t,e,n,r){var s=Ie,i=Is.transition;Is.transition=null;try{Ie=1,Pc(t,e,n,r)}finally{Ie=s,Is.transition=i}}function q0(t,e,n,r){var s=Ie,i=Is.transition;Is.transition=null;try{Ie=4,Pc(t,e,n,r)}finally{Ie=s,Is.transition=i}}function Pc(t,e,n,r){if(ma){var s=ju(t,e,n,r);if(s===null)eu(t,e,r,ga,n),Sd(t,r);else if(B0(s,t,e,n,r))r.stopPropagation();else if(Sd(t,r),e&4&&-1<V0.indexOf(t)){for(;s!==null;){var i=to(s);if(i!==null&&Hp(i),i=ju(t,e,n,r),i===null&&eu(t,e,r,ga,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else eu(t,e,r,null,n)}}var ga=null;function ju(t,e,n,r){if(ga=null,t=Ic(r),t=jr(t),t!==null)if(e=ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ga=t,null}function Kp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I0()){case Mc:return 1;case Up:return 4;case fa:case M0:return 16;case qp:return 536870912;default:return 16}default:return 16}}var lr=null,Fc=null,Ko=null;function Jp(){if(Ko)return Ko;var t,e=Fc,n=e.length,r,s="value"in lr?lr.value:lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ko=s.slice(t,1<r?1-r:void 0)}function Jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Io(){return!0}function Td(){return!1}function qt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Io:Td,this.isPropagationStopped=Td,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),e}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=qt(Xs),eo=Ge({},Xs,{view:0,detail:0}),$0=qt(eo),$l,Gl,fi,Ka=Ge({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?($l=t.screenX-fi.screenX,Gl=t.screenY-fi.screenY):Gl=$l=0,fi=t),$l)},movementY:function(t){return"movementY"in t?t.movementY:Gl}}),bd=qt(Ka),G0=Ge({},Ka,{dataTransfer:0}),H0=qt(G0),Z0=Ge({},eo,{relatedTarget:0}),Hl=qt(Z0),Q0=Ge({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),X0=qt(Q0),Y0=Ge({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K0=qt(Y0),J0=Ge({},Xs,{data:0}),Ed=qt(J0),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ny[t])?!!e[t]:!1}function zc(){return ry}var sy=Ge({},eo,{key:function(t){if(t.key){var e=ey[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ty[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(t){return t.type==="keypress"?Jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iy=qt(sy),oy=Ge({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=qt(oy),ay=Ge({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),ly=qt(ay),uy=Ge({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=qt(uy),hy=Ge({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=qt(hy),fy=[9,13,27,32],Lc=Un&&"CompositionEvent"in window,Ci=null;Un&&"documentMode"in document&&(Ci=document.documentMode);var py=Un&&"TextEvent"in window&&!Ci,em=Un&&(!Lc||Ci&&8<Ci&&11>=Ci),Ad=" ",Od=!1;function tm(t,e){switch(t){case"keyup":return fy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function my(t,e){switch(t){case"compositionend":return nm(e);case"keypress":return e.which!==32?null:(Od=!0,Ad);case"textInput":return t=e.data,t===Ad&&Od?null:t;default:return null}}function gy(t,e){if(ps)return t==="compositionend"||!Lc&&tm(t,e)?(t=Jp(),Ko=Fc=lr=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return em&&e.locale!=="ko"?null:e.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_y[t.type]:e==="textarea"}function rm(t,e,n,r){Rp(r),e=_a(e,"onChange"),0<e.length&&(n=new jc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ti=null,zi=null;function yy(t){pm(t,0)}function Ja(t){var e=_s(t);if(Ep(e))return t}function vy(t,e){if(t==="change")return e}var sm=!1;if(Un){var Zl;if(Un){var Ql="oninput"in document;if(!Ql){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Ql=typeof Md.oninput=="function"}Zl=Ql}else Zl=!1;sm=Zl&&(!document.documentMode||9<document.documentMode)}function Dd(){Ti&&(Ti.detachEvent("onpropertychange",im),zi=Ti=null)}function im(t){if(t.propertyName==="value"&&Ja(zi)){var e=[];rm(e,zi,t,Ic(t)),zp(yy,e)}}function wy(t,e,n){t==="focusin"?(Dd(),Ti=e,zi=n,Ti.attachEvent("onpropertychange",im)):t==="focusout"&&Dd()}function xy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ja(zi)}function ky(t,e){if(t==="click")return Ja(e)}function Sy(t,e){if(t==="input"||t==="change")return Ja(e)}function Cy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:Cy;function Li(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vu.call(e,s)||!mn(t[s],e[s]))return!1}return!0}function Rd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,e){var n=Rd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rd(n)}}function om(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?om(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function am(){for(var t=window,e=ca();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ca(t.document)}return e}function Vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ty(t){var e=am(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&om(n.ownerDocument.documentElement,n)){if(r!==null&&Vc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Pd(n,i);var o=Pd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var by=Un&&"documentMode"in document&&11>=document.documentMode,ms=null,zu=null,bi=null,Lu=!1;function Fd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||ms==null||ms!==ca(r)||(r=ms,"selectionStart"in r&&Vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bi&&Li(bi,r)||(bi=r,r=_a(zu,"onSelect"),0<r.length&&(e=new jc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}function Mo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},Xl={},lm={};Un&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function el(t){if(Xl[t])return Xl[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lm)return Xl[t]=e[n];return t}var um=el("animationend"),cm=el("animationiteration"),hm=el("animationstart"),dm=el("transitionend"),fm=new Map,jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){fm.set(t,e),es(e,[t])}for(var Yl=0;Yl<jd.length;Yl++){var Kl=jd[Yl],Ey=Kl.toLowerCase(),Ny=Kl[0].toUpperCase()+Kl.slice(1);br(Ey,"on"+Ny)}br(um,"onAnimationEnd");br(cm,"onAnimationIteration");br(hm,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(dm,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function zd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E0(r,e,void 0,t),t.currentTarget=null}function pm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;zd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;zd(s,a,u),i=l}}}if(da)throw t=Ru,da=!1,Ru=null,t}function Fe(t,e){var n=e[qu];n===void 0&&(n=e[qu]=new Set);var r=t+"__bubble";n.has(r)||(mm(e,t,2,!1),n.add(r))}function Jl(t,e,n){var r=0;e&&(r|=4),mm(n,t,r,e)}var Do="_reactListening"+Math.random().toString(36).slice(2);function Vi(t){if(!t[Do]){t[Do]=!0,kp.forEach(function(n){n!=="selectionchange"&&(Ay.has(n)||Jl(n,!1,t),Jl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Do]||(e[Do]=!0,Jl("selectionchange",!1,e))}}function mm(t,e,n,r){switch(Kp(e)){case 1:var s=U0;break;case 4:s=q0;break;default:s=Pc}n=s.bind(null,e,n,t),s=void 0,!Du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function eu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=jr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}zp(function(){var u=i,c=Ic(n),h=[];e:{var m=fm.get(t);if(m!==void 0){var f=jc,g=t;switch(t){case"keypress":if(Jo(n)===0)break e;case"keydown":case"keyup":f=iy;break;case"focusin":g="focus",f=Hl;break;case"focusout":g="blur",f=Hl;break;case"beforeblur":case"afterblur":f=Hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ly;break;case um:case cm:case hm:f=X0;break;case dm:f=cy;break;case"scroll":f=$0;break;case"wheel":f=dy;break;case"copy":case"cut":case"paste":f=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Nd}var p=(e&4)!==0,y=!p&&t==="scroll",d=p?m!==null?m+"Capture":null:m;p=[];for(var _=u,v;_!==null;){v=_;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,d!==null&&(S=Ri(_,d),S!=null&&p.push(Bi(_,S,v)))),y)break;_=_.return}0<p.length&&(m=new f(m,g,null,n,c),h.push({event:m,listeners:p}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&n!==Iu&&(g=n.relatedTarget||n.fromElement)&&(jr(g)||g[qn]))break e;if((f||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?jr(g):null,g!==null&&(y=ts(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(p=bd,S="onMouseLeave",d="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(p=Nd,S="onPointerLeave",d="onPointerEnter",_="pointer"),y=f==null?m:_s(f),v=g==null?m:_s(g),m=new p(S,_+"leave",f,n,c),m.target=y,m.relatedTarget=v,S=null,jr(c)===u&&(p=new p(d,_+"enter",g,n,c),p.target=v,p.relatedTarget=y,S=p),y=S,f&&g)t:{for(p=f,d=g,_=0,v=p;v;v=ls(v))_++;for(v=0,S=d;S;S=ls(S))v++;for(;0<_-v;)p=ls(p),_--;for(;0<v-_;)d=ls(d),v--;for(;_--;){if(p===d||d!==null&&p===d.alternate)break t;p=ls(p),d=ls(d)}p=null}else p=null;f!==null&&Ld(h,m,f,p,!1),g!==null&&y!==null&&Ld(h,y,g,p,!0)}}e:{if(m=u?_s(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var k=vy;else if(Id(m))if(sm)k=Sy;else{k=xy;var E=wy}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=ky);if(k&&(k=k(t,u))){rm(h,k,n,c);break e}E&&E(t,m,u),t==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&bu(m,"number",m.value)}switch(E=u?_s(u):window,t){case"focusin":(Id(E)||E.contentEditable==="true")&&(ms=E,zu=u,bi=null);break;case"focusout":bi=zu=ms=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,Fd(h,n,c);break;case"selectionchange":if(by)break;case"keydown":case"keyup":Fd(h,n,c)}var C;if(Lc)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ps?tm(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(em&&n.locale!=="ko"&&(ps||N!=="onCompositionStart"?N==="onCompositionEnd"&&ps&&(C=Jp()):(lr=c,Fc="value"in lr?lr.value:lr.textContent,ps=!0)),E=_a(u,N),0<E.length&&(N=new Ed(N,t,null,n,c),h.push({event:N,listeners:E}),C?N.data=C:(C=nm(n),C!==null&&(N.data=C)))),(C=py?my(t,n):gy(t,n))&&(u=_a(u,"onBeforeInput"),0<u.length&&(c=new Ed("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}pm(h,e)})}function Bi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _a(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ri(t,n),i!=null&&r.unshift(Bi(t,i,s)),i=Ri(t,e),i!=null&&r.push(Bi(t,i,s))),t=t.return}return r}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ld(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ri(n,i),l!=null&&o.unshift(Bi(n,l,a))):s||(l=Ri(n,i),l!=null&&o.push(Bi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Oy=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function Vd(t){return(typeof t=="string"?t:""+t).replace(Oy,`
`).replace(Iy,"")}function Ro(t,e,n){if(e=Vd(e),Vd(t)!==e&&n)throw Error(ee(425))}function ya(){}var Vu=null,Bu=null;function Wu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,Dy=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(t){return Bd.resolve(null).then(t).catch(Ry)}:Uu;function Ry(t){setTimeout(function(){throw t})}function tu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ji(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ji(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Ys,Wi="__reactProps$"+Ys,qn="__reactContainer$"+Ys,qu="__reactEvents$"+Ys,Py="__reactListeners$"+Ys,Fy="__reactHandles$"+Ys;function jr(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wd(t);t!==null;){if(n=t[Tn])return n;t=Wd(t)}return e}t=n,n=t.parentNode}return null}function to(t){return t=t[Tn]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function tl(t){return t[Wi]||null}var $u=[],ys=-1;function Er(t){return{current:t}}function je(t){0>ys||(t.current=$u[ys],$u[ys]=null,ys--)}function Re(t,e){ys++,$u[ys]=t.current,t.current=e}var xr={},gt=Er(xr),It=Er(!1),$r=xr;function js(t,e){var n=t.type.contextTypes;if(!n)return xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mt(t){return t=t.childContextTypes,t!=null}function va(){je(It),je(gt)}function Ud(t,e,n){if(gt.current!==xr)throw Error(ee(168));Re(gt,e),Re(It,n)}function gm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,w0(t)||"Unknown",s));return Ge({},n,r)}function wa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xr,$r=gt.current,Re(gt,t),Re(It,It.current),!0}function qd(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=gm(t,e,$r),r.__reactInternalMemoizedMergedChildContext=t,je(It),je(gt),Re(gt,t)):je(It),Re(It,n)}var zn=null,nl=!1,nu=!1;function _m(t){zn===null?zn=[t]:zn.push(t)}function jy(t){nl=!0,_m(t)}function Nr(){if(!nu&&zn!==null){nu=!0;var t=0,e=Ie;try{var n=zn;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zn=null,nl=!1}catch(s){throw zn!==null&&(zn=zn.slice(t+1)),Wp(Mc,Nr),s}finally{Ie=e,nu=!1}}return null}var vs=[],ws=0,xa=null,ka=0,Ht=[],Zt=0,Gr=null,Ln=1,Vn="";function Pr(t,e){vs[ws++]=ka,vs[ws++]=xa,xa=t,ka=e}function ym(t,e,n){Ht[Zt++]=Ln,Ht[Zt++]=Vn,Ht[Zt++]=Gr,Gr=t;var r=Ln;t=Vn;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var i=32-dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ln=1<<32-dn(e)+s|n<<s|r,Vn=i+t}else Ln=1<<i|n<<s|r,Vn=t}function Bc(t){t.return!==null&&(Pr(t,1),ym(t,1,0))}function Wc(t){for(;t===xa;)xa=vs[--ws],vs[ws]=null,ka=vs[--ws],vs[ws]=null;for(;t===Gr;)Gr=Ht[--Zt],Ht[Zt]=null,Vn=Ht[--Zt],Ht[Zt]=null,Ln=Ht[--Zt],Ht[Zt]=null}var Vt=null,Lt=null,Be=!1,ln=null;function vm(t,e){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $d(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Lt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gr!==null?{id:Ln,overflow:Vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Lt=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hu(t){if(Be){var e=Lt;if(e){var n=e;if(!$d(t,e)){if(Gu(t))throw Error(ee(418));e=fr(n.nextSibling);var r=Vt;e&&$d(t,e)?vm(r,n):(t.flags=t.flags&-4097|2,Be=!1,Vt=t)}}else{if(Gu(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Be=!1,Vt=t}}}function Gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Po(t){if(t!==Vt)return!1;if(!Be)return Gd(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wu(t.type,t.memoizedProps)),e&&(e=Lt)){if(Gu(t))throw wm(),Error(ee(418));for(;e;)vm(t,e),e=fr(e.nextSibling)}if(Gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Vt?fr(t.stateNode.nextSibling):null;return!0}function wm(){for(var t=Lt;t;)t=fr(t.nextSibling)}function zs(){Lt=Vt=null,Be=!1}function Uc(t){ln===null?ln=[t]:ln.push(t)}var zy=Qn.ReactCurrentBatchConfig;function pi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Fo(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hd(t){var e=t._init;return e(t._payload)}function xm(t){function e(d,_){if(t){var v=d.deletions;v===null?(d.deletions=[_],d.flags|=16):v.push(_)}}function n(d,_){if(!t)return null;for(;_!==null;)e(d,_),_=_.sibling;return null}function r(d,_){for(d=new Map;_!==null;)_.key!==null?d.set(_.key,_):d.set(_.index,_),_=_.sibling;return d}function s(d,_){return d=_r(d,_),d.index=0,d.sibling=null,d}function i(d,_,v){return d.index=v,t?(v=d.alternate,v!==null?(v=v.index,v<_?(d.flags|=2,_):v):(d.flags|=2,_)):(d.flags|=1048576,_)}function o(d){return t&&d.alternate===null&&(d.flags|=2),d}function a(d,_,v,S){return _===null||_.tag!==6?(_=uu(v,d.mode,S),_.return=d,_):(_=s(_,v),_.return=d,_)}function l(d,_,v,S){var k=v.type;return k===fs?c(d,_,v.props.children,S,v.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rr&&Hd(k)===_.type)?(S=s(_,v.props),S.ref=pi(d,_,v),S.return=d,S):(S=oa(v.type,v.key,v.props,null,d.mode,S),S.ref=pi(d,_,v),S.return=d,S)}function u(d,_,v,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=cu(v,d.mode,S),_.return=d,_):(_=s(_,v.children||[]),_.return=d,_)}function c(d,_,v,S,k){return _===null||_.tag!==7?(_=Wr(v,d.mode,S,k),_.return=d,_):(_=s(_,v),_.return=d,_)}function h(d,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=uu(""+_,d.mode,v),_.return=d,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case To:return v=oa(_.type,_.key,_.props,null,d.mode,v),v.ref=pi(d,null,_),v.return=d,v;case ds:return _=cu(_,d.mode,v),_.return=d,_;case rr:var S=_._init;return h(d,S(_._payload),v)}if(yi(_)||ui(_))return _=Wr(_,d.mode,v,null),_.return=d,_;Fo(d,_)}return null}function m(d,_,v,S){var k=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(d,_,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case To:return v.key===k?l(d,_,v,S):null;case ds:return v.key===k?u(d,_,v,S):null;case rr:return k=v._init,m(d,_,k(v._payload),S)}if(yi(v)||ui(v))return k!==null?null:c(d,_,v,S,null);Fo(d,v)}return null}function f(d,_,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return d=d.get(v)||null,a(_,d,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case To:return d=d.get(S.key===null?v:S.key)||null,l(_,d,S,k);case ds:return d=d.get(S.key===null?v:S.key)||null,u(_,d,S,k);case rr:var E=S._init;return f(d,_,v,E(S._payload),k)}if(yi(S)||ui(S))return d=d.get(v)||null,c(_,d,S,k,null);Fo(_,S)}return null}function g(d,_,v,S){for(var k=null,E=null,C=_,N=_=0,I=null;C!==null&&N<v.length;N++){C.index>N?(I=C,C=null):I=C.sibling;var D=m(d,C,v[N],S);if(D===null){C===null&&(C=I);break}t&&C&&D.alternate===null&&e(d,C),_=i(D,_,N),E===null?k=D:E.sibling=D,E=D,C=I}if(N===v.length)return n(d,C),Be&&Pr(d,N),k;if(C===null){for(;N<v.length;N++)C=h(d,v[N],S),C!==null&&(_=i(C,_,N),E===null?k=C:E.sibling=C,E=C);return Be&&Pr(d,N),k}for(C=r(d,C);N<v.length;N++)I=f(C,d,N,v[N],S),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?N:I.key),_=i(I,_,N),E===null?k=I:E.sibling=I,E=I);return t&&C.forEach(function(V){return e(d,V)}),Be&&Pr(d,N),k}function p(d,_,v,S){var k=ui(v);if(typeof k!="function")throw Error(ee(150));if(v=k.call(v),v==null)throw Error(ee(151));for(var E=k=null,C=_,N=_=0,I=null,D=v.next();C!==null&&!D.done;N++,D=v.next()){C.index>N?(I=C,C=null):I=C.sibling;var V=m(d,C,D.value,S);if(V===null){C===null&&(C=I);break}t&&C&&V.alternate===null&&e(d,C),_=i(V,_,N),E===null?k=V:E.sibling=V,E=V,C=I}if(D.done)return n(d,C),Be&&Pr(d,N),k;if(C===null){for(;!D.done;N++,D=v.next())D=h(d,D.value,S),D!==null&&(_=i(D,_,N),E===null?k=D:E.sibling=D,E=D);return Be&&Pr(d,N),k}for(C=r(d,C);!D.done;N++,D=v.next())D=f(C,d,N,D.value,S),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?N:D.key),_=i(D,_,N),E===null?k=D:E.sibling=D,E=D);return t&&C.forEach(function(T){return e(d,T)}),Be&&Pr(d,N),k}function y(d,_,v,S){if(typeof v=="object"&&v!==null&&v.type===fs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case To:e:{for(var k=v.key,E=_;E!==null;){if(E.key===k){if(k=v.type,k===fs){if(E.tag===7){n(d,E.sibling),_=s(E,v.props.children),_.return=d,d=_;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rr&&Hd(k)===E.type){n(d,E.sibling),_=s(E,v.props),_.ref=pi(d,E,v),_.return=d,d=_;break e}n(d,E);break}else e(d,E);E=E.sibling}v.type===fs?(_=Wr(v.props.children,d.mode,S,v.key),_.return=d,d=_):(S=oa(v.type,v.key,v.props,null,d.mode,S),S.ref=pi(d,_,v),S.return=d,d=S)}return o(d);case ds:e:{for(E=v.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(d,_.sibling),_=s(_,v.children||[]),_.return=d,d=_;break e}else{n(d,_);break}else e(d,_);_=_.sibling}_=cu(v,d.mode,S),_.return=d,d=_}return o(d);case rr:return E=v._init,y(d,_,E(v._payload),S)}if(yi(v))return g(d,_,v,S);if(ui(v))return p(d,_,v,S);Fo(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(d,_.sibling),_=s(_,v),_.return=d,d=_):(n(d,_),_=uu(v,d.mode,S),_.return=d,d=_),o(d)):n(d,_)}return y}var Ls=xm(!0),km=xm(!1),Sa=Er(null),Ca=null,xs=null,qc=null;function $c(){qc=xs=Ca=null}function Gc(t){var e=Sa.current;je(Sa),t._currentValue=e}function Zu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){Ca=t,qc=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(qc!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(Ca===null)throw Error(ee(308));xs=t,Ca.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var zr=null;function Hc(t){zr===null?zr=[t]:zr.push(t)}function Sm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Hc(e)):(n.next=s.next,s.next=n),e.interleaved=n,$n(t,r)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$n(t,n)}return s=r.interleaved,s===null?(e.next=e,Hc(r)):(e.next=s.next,s.next=e),r.interleaved=e,$n(t,n)}function ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}function Zd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ta(t,e,n,r){var s=t.updateQueue;sr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var m=a.lane,f=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,p=a;switch(m=e,f=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(f,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,m=typeof g=="function"?g.call(f,h,m):g,m==null)break e;h=Ge({},h,m);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else f={eventTime:f,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=h}}function Qd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var no={},En=Er(no),Ui=Er(no),qi=Er(no);function Lr(t){if(t===no)throw Error(ee(174));return t}function Qc(t,e){switch(Re(qi,e),Re(Ui,t),Re(En,no),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nu(e,t)}je(En),Re(En,e)}function Vs(){je(En),je(Ui),je(qi)}function Tm(t){Lr(qi.current);var e=Lr(En.current),n=Nu(e,t.type);e!==n&&(Re(Ui,t),Re(En,n))}function Xc(t){Ui.current===t&&(je(En),je(Ui))}var Ue=Er(0);function ba(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ru=[];function Yc(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var ta=Qn.ReactCurrentDispatcher,su=Qn.ReactCurrentBatchConfig,Hr=0,$e=null,rt=null,ot=null,Ea=!1,Ei=!1,$i=0,Ly=0;function ft(){throw Error(ee(321))}function Kc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function Jc(t,e,n,r,s,i){if(Hr=i,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ta.current=t===null||t.memoizedState===null?Uy:qy,t=n(r,s),Ei){i=0;do{if(Ei=!1,$i=0,25<=i)throw Error(ee(301));i+=1,ot=rt=null,e.updateQueue=null,ta.current=$y,t=n(r,s)}while(Ei)}if(ta.current=Na,e=rt!==null&&rt.next!==null,Hr=0,ot=rt=$e=null,Ea=!1,e)throw Error(ee(300));return t}function eh(){var t=$i!==0;return $i=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?$e.memoizedState=ot=t:ot=ot.next=t,ot}function nn(){if(rt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ot===null?$e.memoizedState:ot.next;if(e!==null)ot=e,rt=t;else{if(t===null)throw Error(ee(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ot===null?$e.memoizedState=ot=t:ot=ot.next=t}return ot}function Gi(t,e){return typeof e=="function"?e(t):e}function iu(t){var e=nn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Hr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=c,Zr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,mn(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$e.lanes|=i,Zr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ou(t){var e=nn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);mn(i,e.memoizedState)||(Ot=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bm(){}function Em(t,e){var n=$e,r=nn(),s=e(),i=!mn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ot=!0),r=r.queue,th(Om.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Hi(9,Am.bind(null,n,r,s,e),void 0,null),at===null)throw Error(ee(349));Hr&30||Nm(n,e,s)}return s}function Nm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Am(t,e,n,r){e.value=n,e.getSnapshot=r,Im(e)&&Mm(t)}function Om(t,e,n){return n(function(){Im(e)&&Mm(t)})}function Im(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function Mm(t){var e=$n(t,1);e!==null&&fn(e,t,1,-1)}function Xd(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},e.queue=t,t=t.dispatch=Wy.bind(null,$e,t),[e.memoizedState,t]}function Hi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dm(){return nn().memoizedState}function na(t,e,n,r){var s=Cn();$e.flags|=t,s.memoizedState=Hi(1|e,n,void 0,r===void 0?null:r)}function rl(t,e,n,r){var s=nn();r=r===void 0?null:r;var i=void 0;if(rt!==null){var o=rt.memoizedState;if(i=o.destroy,r!==null&&Kc(r,o.deps)){s.memoizedState=Hi(e,n,i,r);return}}$e.flags|=t,s.memoizedState=Hi(1|e,n,i,r)}function Yd(t,e){return na(8390656,8,t,e)}function th(t,e){return rl(2048,8,t,e)}function Rm(t,e){return rl(4,2,t,e)}function Pm(t,e){return rl(4,4,t,e)}function Fm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jm(t,e,n){return n=n!=null?n.concat([t]):null,rl(4,4,Fm.bind(null,e,t),n)}function nh(){}function zm(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lm(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vm(t,e,n){return Hr&21?(mn(n,e)||(n=$p(),$e.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function Vy(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=su.transition;su.transition={};try{t(!1),e()}finally{Ie=n,su.transition=r}}function Bm(){return nn().memoizedState}function By(t,e,n){var r=gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wm(t))Um(e,n);else if(n=Sm(t,e,n,r),n!==null){var s=xt();fn(n,t,r,s),qm(n,e,r)}}function Wy(t,e,n){var r=gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wm(t))Um(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mn(a,o)){var l=e.interleaved;l===null?(s.next=s,Hc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Sm(t,e,s,r),n!==null&&(s=xt(),fn(n,t,r,s),qm(n,e,r))}}function Wm(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Um(t,e){Ei=Ea=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}var Na={readContext:tn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Uy={readContext:tn,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:Yd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,na(4194308,4,Fm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return na(4194308,4,t,e)},useInsertionEffect:function(t,e){return na(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=By.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:Xd,useDebugValue:nh,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=Xd(!1),e=t[0];return t=Vy.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,s=Cn();if(Be){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),at===null)throw Error(ee(349));Hr&30||Nm(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Yd(Om.bind(null,r,i,t),[t]),r.flags|=2048,Hi(9,Am.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cn(),e=at.identifierPrefix;if(Be){var n=Vn,r=Ln;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$i++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ly++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qy={readContext:tn,useCallback:zm,useContext:tn,useEffect:th,useImperativeHandle:jm,useInsertionEffect:Rm,useLayoutEffect:Pm,useMemo:Lm,useReducer:iu,useRef:Dm,useState:function(){return iu(Gi)},useDebugValue:nh,useDeferredValue:function(t){var e=nn();return Vm(e,rt.memoizedState,t)},useTransition:function(){var t=iu(Gi)[0],e=nn().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:Em,useId:Bm,unstable_isNewReconciler:!1},$y={readContext:tn,useCallback:zm,useContext:tn,useEffect:th,useImperativeHandle:jm,useInsertionEffect:Rm,useLayoutEffect:Pm,useMemo:Lm,useReducer:ou,useRef:Dm,useState:function(){return ou(Gi)},useDebugValue:nh,useDeferredValue:function(t){var e=nn();return rt===null?e.memoizedState=t:Vm(e,rt.memoizedState,t)},useTransition:function(){var t=ou(Gi)[0],e=nn().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:Em,useId:Bm,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sl={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=gr(t),i=Bn(r,s);i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(fn(e,t,s,r),ea(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=gr(t),i=Bn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(fn(e,t,s,r),ea(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=gr(t),s=Bn(n,r);s.tag=2,e!=null&&(s.callback=e),e=pr(t,s,r),e!==null&&(fn(e,t,r,n),ea(e,t,r))}};function Kd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Li(n,r)||!Li(s,i):!0}function $m(t,e,n){var r=!1,s=xr,i=e.contextType;return typeof i=="object"&&i!==null?i=tn(i):(s=Mt(e)?$r:gt.current,r=e.contextTypes,i=(r=r!=null)?js(t,s):xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Jd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sl.enqueueReplaceState(e,e.state,null)}function Xu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=tn(i):(i=Mt(e)?$r:gt.current,s.context=js(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&sl.enqueueReplaceState(s,s.state,null),Ta(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bs(t,e){try{var n="",r=e;do n+=v0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function au(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gy=typeof WeakMap=="function"?WeakMap:Map;function Gm(t,e,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oa||(Oa=!0,ac=r),Yu(t,e)},n}function Hm(t,e,n){n=Bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yu(t,e),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ef(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gy;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ov.bind(null,t,e,n),e.then(t,t))}function tf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bn(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var Hy=Qn.ReactCurrentOwner,Ot=!1;function yt(t,e,n,r){e.child=t===null?km(e,null,n,r):Ls(e,t.child,n,r)}function rf(t,e,n,r,s){n=n.render;var i=e.ref;return Ms(e,s),r=Jc(t,e,n,r,i,s),n=eh(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gn(t,e,s)):(Be&&n&&Bc(e),e.flags|=1,yt(t,e,r,s),e.child)}function sf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ch(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Zm(t,e,i,r,s)):(t=oa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(o,r)&&t.ref===e.ref)return Gn(t,e,s)}return e.flags|=1,t=_r(i,r),t.ref=e.ref,t.return=e,e.child=t}function Zm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Li(i,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,Gn(t,e,s)}return Ku(t,e,n,r,s)}function Qm(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ss,jt),jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Ss,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(Ss,jt),jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Re(Ss,jt),jt|=r;return yt(t,e,s,n),e.child}function Xm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ku(t,e,n,r,s){var i=Mt(n)?$r:gt.current;return i=js(e,i),Ms(e,s),n=Jc(t,e,n,r,i,s),r=eh(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gn(t,e,s)):(Be&&r&&Bc(e),e.flags|=1,yt(t,e,n,s),e.child)}function of(t,e,n,r,s){if(Mt(n)){var i=!0;wa(e)}else i=!1;if(Ms(e,s),e.stateNode===null)ra(t,e),$m(e,n,r),Xu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=Mt(n)?$r:gt.current,u=js(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Jd(e,o,r,u),sr=!1;var m=e.memoizedState;o.state=m,Ta(e,r,o,s),l=e.memoizedState,a!==r||m!==l||It.current||sr?(typeof c=="function"&&(Qu(e,n,c,r),l=e.memoizedState),(a=sr||Kd(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:on(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=Mt(n)?$r:gt.current,l=js(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&Jd(e,o,r,l),sr=!1,m=e.memoizedState,o.state=m,Ta(e,r,o,s);var g=e.memoizedState;a!==h||m!==g||It.current||sr?(typeof f=="function"&&(Qu(e,n,f,r),g=e.memoizedState),(u=sr||Kd(e,n,u,r,m,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ju(t,e,n,r,i,s)}function Ju(t,e,n,r,s,i){Xm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&qd(e,n,!1),Gn(t,e,i);r=e.stateNode,Hy.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ls(e,t.child,null,i),e.child=Ls(e,null,a,i)):yt(t,e,a,i),e.memoizedState=r.state,s&&qd(e,n,!0),e.child}function Ym(t){var e=t.stateNode;e.pendingContext?Ud(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ud(t,e.context,!1),Qc(t,e.containerInfo)}function af(t,e,n,r,s){return zs(),Uc(s),e.flags|=256,yt(t,e,n,r),e.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Km(t,e,n){var r=e.pendingProps,s=Ue.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Re(Ue,s&1),t===null)return Hu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=al(o,r,0,null),t=Wr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tc(n),e.memoizedState=ec,t):rh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Zy(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_r(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_r(a,i):(i=Wr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ec,r}return i=t.child,t=i.sibling,r=_r(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rh(t,e){return e=al({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jo(t,e,n,r){return r!==null&&Uc(r),Ls(e,t.child,null,n),t=rh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zy(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=au(Error(ee(422))),jo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=al({mode:"visible",children:r.children},s,0,null),i=Wr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ls(e,t.child,null,o),e.child.memoizedState=tc(o),e.memoizedState=ec,i);if(!(e.mode&1))return jo(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ee(419)),r=au(i,r,void 0),jo(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ot||a){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$n(t,s),fn(r,t,s,-1))}return uh(),r=au(Error(ee(421))),jo(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=av.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Lt=fr(s.nextSibling),Vt=e,Be=!0,ln=null,t!==null&&(Ht[Zt++]=Ln,Ht[Zt++]=Vn,Ht[Zt++]=Gr,Ln=t.id,Vn=t.overflow,Gr=e),e=rh(e,r.children),e.flags|=4096,e)}function lf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zu(t.return,e,n)}function lu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lf(t,n,e);else if(t.tag===19)lf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ba(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ba(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lu(e,!0,n,null,i);break;case"together":lu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ra(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=_r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qy(t,e,n){switch(e.tag){case 3:Ym(e),zs();break;case 5:Tm(e);break;case 1:Mt(e.type)&&wa(e);break;case 4:Qc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Re(Sa,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?Km(t,e,n):(Re(Ue,Ue.current&1),t=Gn(t,e,n),t!==null?t.sibling:null);Re(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,Qm(t,e,n)}return Gn(t,e,n)}var eg,nc,tg,ng;eg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nc=function(){};tg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Lr(En.current);var i=null;switch(n){case"input":s=Cu(t,s),r=Cu(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=Eu(t,s),r=Eu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ya)}Au(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ng=function(t,e,n,r){n!==r&&(e.flags|=4)};function mi(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xy(t,e,n){var r=e.pendingProps;switch(Wc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Mt(e.type)&&va(),pt(e),null;case 3:return r=e.stateNode,Vs(),je(It),je(gt),Yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Po(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(cc(ln),ln=null))),nc(t,e),pt(e),null;case 5:Xc(e);var s=Lr(qi.current);if(n=e.type,t!==null&&e.stateNode!=null)tg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return pt(e),null}if(t=Lr(En.current),Po(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tn]=e,r[Wi]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<wi.length;s++)Fe(wi[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":gd(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":yd(r,i),Fe("invalid",r)}Au(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,a,t),s=["children",""+a]):Mi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":bo(r),_d(r,i,!0);break;case"textarea":bo(r),vd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ya)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Op(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[Wi]=r,eg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ou(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<wi.length;s++)Fe(wi[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":gd(t,r),s=Cu(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":yd(t,r),s=Eu(t,r),Fe("invalid",t);break;default:s=r}Au(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Dp(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ip(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Di(t,l):typeof l=="number"&&Di(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",t):l!=null&&Ec(t,i,l,o))}switch(n){case"input":bo(t),_d(t,r,!1);break;case"textarea":bo(t),vd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ns(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)ng(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Lr(qi.current),Lr(En.current),Po(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(i=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Ro(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ro(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return pt(e),null;case 13:if(je(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Lt!==null&&e.mode&1&&!(e.flags&128))wm(),zs(),e.flags|=98560,i=!1;else if(i=Po(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[Tn]=e}else zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),i=!1}else ln!==null&&(cc(ln),ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?st===0&&(st=3):uh())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return Vs(),nc(t,e),t===null&&Vi(e.stateNode.containerInfo),pt(e),null;case 10:return Gc(e.type._context),pt(e),null;case 17:return Mt(e.type)&&va(),pt(e),null;case 19:if(je(Ue),i=e.memoizedState,i===null)return pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)mi(i,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ba(t),o!==null){for(e.flags|=128,mi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Ue,Ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>Ws&&(e.flags|=128,r=!0,mi(i,!1),e.lanes=4194304)}else{if(!r)if(t=ba(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return pt(e),null}else 2*Xe()-i.renderingStartTime>Ws&&n!==1073741824&&(e.flags|=128,r=!0,mi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=Ue.current,Re(Ue,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return lh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function Yy(t,e){switch(Wc(e),e.tag){case 1:return Mt(e.type)&&va(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vs(),je(It),je(gt),Yc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xc(e),null;case 13:if(je(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Ue),null;case 4:return Vs(),null;case 10:return Gc(e.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var zo=!1,mt=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function rc(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var uf=!1;function Jy(t,e){if(Vu=ma,t=am(),Vc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,m=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bu={focusedElem:t,selectionRange:n},ma=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,d=e.stateNode,_=d.getSnapshotBeforeUpdate(e.elementType===e.type?p:on(e.type,p),y);d.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(S){Ze(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=uf,uf=!1,g}function Ni(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rc(e,n,i)}s=s.next}while(s!==r)}}function il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rg(t){var e=t.alternate;e!==null&&(t.alternate=null,rg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Wi],delete e[qu],delete e[Py],delete e[Fy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sg(t){return t.tag===5||t.tag===3||t.tag===4}function cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ic(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ya));else if(r!==4&&(t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}function oc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oc(t,e,n),t=t.sibling;t!==null;)oc(t,e,n),t=t.sibling}var ut=null,an=!1;function tr(t,e,n){for(n=n.child;n!==null;)ig(t,e,n),n=n.sibling}function ig(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ya,n)}catch{}switch(n.tag){case 5:mt||ks(n,e);case 6:var r=ut,s=an;ut=null,tr(t,e,n),ut=r,an=s,ut!==null&&(an?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(an?(t=ut,n=n.stateNode,t.nodeType===8?tu(t.parentNode,n):t.nodeType===1&&tu(t,n),ji(t)):tu(ut,n.stateNode));break;case 4:r=ut,s=an,ut=n.stateNode.containerInfo,an=!0,tr(t,e,n),ut=r,an=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rc(n,e,o),s=s.next}while(s!==r)}tr(t,e,n);break;case 1:if(!mt&&(ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,tr(t,e,n),mt=r):tr(t,e,n);break;default:tr(t,e,n)}}function hf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ky),e.forEach(function(r){var s=lv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,an=!1;break e;case 3:ut=a.stateNode.containerInfo,an=!0;break e;case 4:ut=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(ut===null)throw Error(ee(160));ig(i,o,s),ut=null,an=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ze(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)og(e,t),e=e.sibling}function og(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),Sn(t),r&4){try{Ni(3,t,t.return),il(3,t)}catch(p){Ze(t,t.return,p)}try{Ni(5,t,t.return)}catch(p){Ze(t,t.return,p)}}break;case 1:sn(e,t),Sn(t),r&512&&n!==null&&ks(n,n.return);break;case 5:if(sn(e,t),Sn(t),r&512&&n!==null&&ks(n,n.return),t.flags&32){var s=t.stateNode;try{Di(s,"")}catch(p){Ze(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Np(s,i),Ou(a,o);var u=Ou(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Dp(s,h):c==="dangerouslySetInnerHTML"?Ip(s,h):c==="children"?Di(s,h):Ec(s,c,h,u)}switch(a){case"input":Tu(s,i);break;case"textarea":Ap(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ns(s,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ns(s,!!i.multiple,i.defaultValue,!0):Ns(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wi]=i}catch(p){Ze(t,t.return,p)}}break;case 6:if(sn(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){Ze(t,t.return,p)}}break;case 3:if(sn(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ji(e.containerInfo)}catch(p){Ze(t,t.return,p)}break;case 4:sn(e,t),Sn(t);break;case 13:sn(e,t),Sn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(oh=Xe())),r&4&&hf(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(u=mt)||c,sn(e,t),mt=u):sn(e,t),Sn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(h=oe=c;oe!==null;){switch(m=oe,f=m.child,m.tag){case 0:case 11:case 14:case 15:Ni(4,m,m.return);break;case 1:ks(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){Ze(r,n,p)}}break;case 5:ks(m,m.return);break;case 22:if(m.memoizedState!==null){ff(h);continue}}f!==null?(f.return=m,oe=f):ff(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mp("display",o))}catch(p){Ze(t,t.return,p)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Ze(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sn(e,t),Sn(t),r&4&&hf(t);break;case 21:break;default:sn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sg(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Di(s,""),r.flags&=-33);var i=cf(t);oc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cf(t);ic(t,a,o);break;default:throw Error(ee(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ev(t,e,n){oe=t,ag(t)}function ag(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||zo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mt;a=zo;var u=mt;if(zo=o,(mt=l)&&!u)for(oe=s;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?pf(s):l!==null?(l.return=o,oe=l):pf(s);for(;i!==null;)oe=i,ag(i),i=i.sibling;oe=s,zo=a,mt=u}df(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):df(t)}}function df(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||il(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:on(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ji(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}mt||e.flags&512&&sc(e)}catch(m){Ze(e,e.return,m)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function ff(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function pf(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ze(e,s,l)}}var i=e.return;try{sc(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{sc(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var tv=Math.ceil,Aa=Qn.ReactCurrentDispatcher,sh=Qn.ReactCurrentOwner,Kt=Qn.ReactCurrentBatchConfig,Te=0,at=null,Je=null,ct=0,jt=0,Ss=Er(0),st=0,Zi=null,Zr=0,ol=0,ih=0,Ai=null,Nt=null,oh=0,Ws=1/0,Fn=null,Oa=!1,ac=null,mr=null,Lo=!1,ur=null,Ia=0,Oi=0,lc=null,sa=-1,ia=0;function xt(){return Te&6?Xe():sa!==-1?sa:sa=Xe()}function gr(t){return t.mode&1?Te&2&&ct!==0?ct&-ct:zy.transition!==null?(ia===0&&(ia=$p()),ia):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Kp(t.type)),t):1}function fn(t,e,n,r){if(50<Oi)throw Oi=0,lc=null,Error(ee(185));Ji(t,n,r),(!(Te&2)||t!==at)&&(t===at&&(!(Te&2)&&(ol|=n),st===4&&ar(t,ct)),Dt(t,r),n===1&&Te===0&&!(e.mode&1)&&(Ws=Xe()+500,nl&&Nr()))}function Dt(t,e){var n=t.callbackNode;z0(t,e);var r=pa(t,t===at?ct:0);if(r===0)n!==null&&kd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kd(n),e===1)t.tag===0?jy(mf.bind(null,t)):_m(mf.bind(null,t)),Dy(function(){!(Te&6)&&Nr()}),n=null;else{switch(Gp(r)){case 1:n=Mc;break;case 4:n=Up;break;case 16:n=fa;break;case 536870912:n=qp;break;default:n=fa}n=mg(n,lg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lg(t,e){if(sa=-1,ia=0,Te&6)throw Error(ee(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=pa(t,t===at?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ma(t,r);else{e=r;var s=Te;Te|=2;var i=cg();(at!==t||ct!==e)&&(Fn=null,Ws=Xe()+500,Br(t,e));do try{sv();break}catch(a){ug(t,a)}while(!0);$c(),Aa.current=i,Te=s,Je!==null?e=0:(at=null,ct=0,e=st)}if(e!==0){if(e===2&&(s=Pu(t),s!==0&&(r=s,e=uc(t,s))),e===1)throw n=Zi,Br(t,0),ar(t,r),Dt(t,Xe()),n;if(e===6)ar(t,r);else{if(s=t.current.alternate,!(r&30)&&!nv(s)&&(e=Ma(t,r),e===2&&(i=Pu(t),i!==0&&(r=i,e=uc(t,i))),e===1))throw n=Zi,Br(t,0),ar(t,r),Dt(t,Xe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Fr(t,Nt,Fn);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=oh+500-Xe(),10<e)){if(pa(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uu(Fr.bind(null,t,Nt,Fn),e);break}Fr(t,Nt,Fn);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tv(r/1960))-r,10<r){t.timeoutHandle=Uu(Fr.bind(null,t,Nt,Fn),r);break}Fr(t,Nt,Fn);break;case 5:Fr(t,Nt,Fn);break;default:throw Error(ee(329))}}}return Dt(t,Xe()),t.callbackNode===n?lg.bind(null,t):null}function uc(t,e){var n=Ai;return t.current.memoizedState.isDehydrated&&(Br(t,e).flags|=256),t=Ma(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&cc(e)),t}function cc(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function nv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~ih,e&=~ol,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function mf(t){if(Te&6)throw Error(ee(327));Ds();var e=pa(t,0);if(!(e&1))return Dt(t,Xe()),null;var n=Ma(t,e);if(t.tag!==0&&n===2){var r=Pu(t);r!==0&&(e=r,n=uc(t,r))}if(n===1)throw n=Zi,Br(t,0),ar(t,e),Dt(t,Xe()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fr(t,Nt,Fn),Dt(t,Xe()),null}function ah(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Ws=Xe()+500,nl&&Nr())}}function Qr(t){ur!==null&&ur.tag===0&&!(Te&6)&&Ds();var e=Te;Te|=1;var n=Kt.transition,r=Ie;try{if(Kt.transition=null,Ie=1,t)return t()}finally{Ie=r,Kt.transition=n,Te=e,!(Te&6)&&Nr()}}function lh(){jt=Ss.current,je(Ss)}function Br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,My(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Wc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&va();break;case 3:Vs(),je(It),je(gt),Yc();break;case 5:Xc(r);break;case 4:Vs();break;case 13:je(Ue);break;case 19:je(Ue);break;case 10:Gc(r.type._context);break;case 22:case 23:lh()}n=n.return}if(at=t,Je=t=_r(t.current,null),ct=jt=e,st=0,Zi=null,ih=ol=Zr=0,Nt=Ai=null,zr!==null){for(e=0;e<zr.length;e++)if(n=zr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}zr=null}return t}function ug(t,e){do{var n=Je;try{if($c(),ta.current=Na,Ea){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ea=!1}if(Hr=0,ot=rt=$e=null,Ei=!1,$i=0,sh.current=null,n===null||n.return===null){st=1,Zi=e,Je=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=tf(o);if(f!==null){f.flags&=-257,nf(f,o,a,i,e),f.mode&1&&ef(i,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){ef(i,u,e),uh();break e}l=Error(ee(426))}}else if(Be&&a.mode&1){var y=tf(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),nf(y,o,a,i,e),Uc(Bs(l,a));break e}}i=l=Bs(l,a),st!==4&&(st=2),Ai===null?Ai=[i]:Ai.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var d=Gm(i,l,e);Zd(i,d);break e;case 1:a=l;var _=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mr===null||!mr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Hm(i,a,e);Zd(i,S);break e}}i=i.return}while(i!==null)}dg(n)}catch(k){e=k,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function cg(){var t=Aa.current;return Aa.current=Na,t===null?Na:t}function uh(){(st===0||st===3||st===2)&&(st=4),at===null||!(Zr&268435455)&&!(ol&268435455)||ar(at,ct)}function Ma(t,e){var n=Te;Te|=2;var r=cg();(at!==t||ct!==e)&&(Fn=null,Br(t,e));do try{rv();break}catch(s){ug(t,s)}while(!0);if($c(),Te=n,Aa.current=r,Je!==null)throw Error(ee(261));return at=null,ct=0,st}function rv(){for(;Je!==null;)hg(Je)}function sv(){for(;Je!==null&&!A0();)hg(Je)}function hg(t){var e=pg(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?dg(t):Je=e,sh.current=null}function dg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Yy(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Je=null;return}}else if(n=Xy(n,e,jt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);st===0&&(st=5)}function Fr(t,e,n){var r=Ie,s=Kt.transition;try{Kt.transition=null,Ie=1,iv(t,e,n,r)}finally{Kt.transition=s,Ie=r}return null}function iv(t,e,n,r){do Ds();while(ur!==null);if(Te&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(L0(t,i),t===at&&(Je=at=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lo||(Lo=!0,mg(fa,function(){return Ds(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kt.transition,Kt.transition=null;var o=Ie;Ie=1;var a=Te;Te|=4,sh.current=null,Jy(t,n),og(n,t),Ty(Bu),ma=!!Vu,Bu=Vu=null,t.current=n,ev(n),O0(),Te=a,Ie=o,Kt.transition=i}else t.current=n;if(Lo&&(Lo=!1,ur=t,Ia=s),i=t.pendingLanes,i===0&&(mr=null),D0(n.stateNode),Dt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Oa)throw Oa=!1,t=ac,ac=null,t;return Ia&1&&t.tag!==0&&Ds(),i=t.pendingLanes,i&1?t===lc?Oi++:(Oi=0,lc=t):Oi=0,Nr(),null}function Ds(){if(ur!==null){var t=Gp(Ia),e=Kt.transition,n=Ie;try{if(Kt.transition=null,Ie=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,Ia=0,Te&6)throw Error(ee(331));var s=Te;for(Te|=4,oe=t.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Ni(8,c,i)}var h=c.child;if(h!==null)h.return=c,oe=h;else for(;oe!==null;){c=oe;var m=c.sibling,f=c.return;if(rg(c),c===u){oe=null;break}if(m!==null){m.return=f,oe=m;break}oe=f}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ni(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,oe=d;break e}oe=i.return}}var _=t.current;for(oe=_;oe!==null;){o=oe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,oe=v;else e:for(o=_;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:il(9,a)}}catch(k){Ze(a,a.return,k)}if(a===o){oe=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,oe=S;break e}oe=a.return}}if(Te=s,Nr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ya,t)}catch{}r=!0}return r}finally{Ie=n,Kt.transition=e}}return!1}function gf(t,e,n){e=Bs(n,e),e=Gm(t,e,1),t=pr(t,e,1),e=xt(),t!==null&&(Ji(t,1,e),Dt(t,e))}function Ze(t,e,n){if(t.tag===3)gf(t,t,n);else for(;e!==null;){if(e.tag===3){gf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){t=Bs(n,t),t=Hm(e,t,1),e=pr(e,t,1),t=xt(),e!==null&&(Ji(e,1,t),Dt(e,t));break}}e=e.return}}function ov(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ct&n)===n&&(st===4||st===3&&(ct&130023424)===ct&&500>Xe()-oh?Br(t,0):ih|=n),Dt(t,e)}function fg(t,e){e===0&&(t.mode&1?(e=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):e=1);var n=xt();t=$n(t,e),t!==null&&(Ji(t,e,n),Dt(t,n))}function av(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fg(t,n)}function lv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),fg(t,n)}var pg;pg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,Qy(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Be&&e.flags&1048576&&ym(e,ka,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ra(t,e),t=e.pendingProps;var s=js(e,gt.current);Ms(e,n),s=Jc(null,e,r,t,s,n);var i=eh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(i=!0,wa(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zc(e),s.updater=sl,e.stateNode=s,s._reactInternals=e,Xu(e,r,t,n),e=Ju(null,e,r,!0,i,n)):(e.tag=0,Be&&i&&Bc(e),yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ra(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=cv(r),t=on(r,t),s){case 0:e=Ku(null,e,r,t,n);break e;case 1:e=of(null,e,r,t,n);break e;case 11:e=rf(null,e,r,t,n);break e;case 14:e=sf(null,e,r,on(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),Ku(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),of(t,e,r,s,n);case 3:e:{if(Ym(e),t===null)throw Error(ee(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Cm(t,e),Ta(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bs(Error(ee(423)),e),e=af(t,e,r,n,s);break e}else if(r!==s){s=Bs(Error(ee(424)),e),e=af(t,e,r,n,s);break e}else for(Lt=fr(e.stateNode.containerInfo.firstChild),Vt=e,Be=!0,ln=null,n=km(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zs(),r===s){e=Gn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return Tm(e),t===null&&Hu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Wu(r,s)?o=null:i!==null&&Wu(r,i)&&(e.flags|=32),Xm(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&Hu(e),null;case 13:return Km(t,e,n);case 4:return Qc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ls(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),rf(t,e,r,s,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Re(Sa,r._currentValue),r._currentValue=o,i!==null)if(mn(i.value,o)){if(i.children===s.children&&!It.current){e=Gn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Bn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Zu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ms(e,n),s=tn(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,s=on(r,e.pendingProps),s=on(r.type,s),sf(t,e,r,s,n);case 15:return Zm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),ra(t,e),e.tag=1,Mt(r)?(t=!0,wa(e)):t=!1,Ms(e,n),$m(e,r,s),Xu(e,r,s,n),Ju(null,e,r,!0,t,n);case 19:return Jm(t,e,n);case 22:return Qm(t,e,n)}throw Error(ee(156,e.tag))};function mg(t,e){return Wp(t,e)}function uv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,r){return new uv(t,e,n,r)}function ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cv(t){if(typeof t=="function")return ch(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ac)return 11;if(t===Oc)return 14}return 2}function _r(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oa(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ch(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fs:return Wr(n.children,s,i,e);case Nc:o=8,s|=8;break;case wu:return t=Qt(12,n,e,s|2),t.elementType=wu,t.lanes=i,t;case xu:return t=Qt(13,n,e,s),t.elementType=xu,t.lanes=i,t;case ku:return t=Qt(19,n,e,s),t.elementType=ku,t.lanes=i,t;case Tp:return al(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sp:o=10;break e;case Cp:o=9;break e;case Ac:o=11;break e;case Oc:o=14;break e;case rr:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Qt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Wr(t,e,n,r){return t=Qt(7,t,r,e),t.lanes=n,t}function al(t,e,n,r){return t=Qt(22,t,r,e),t.elementType=Tp,t.lanes=n,t.stateNode={isHidden:!1},t}function uu(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function cu(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hh(t,e,n,r,s,i,o,a,l){return t=new hv(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(i),t}function dv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gg(t){if(!t)return xr;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Mt(n))return gm(t,n,e)}return e}function _g(t,e,n,r,s,i,o,a,l){return t=hh(n,r,!0,t,s,i,o,a,l),t.context=gg(null),n=t.current,r=xt(),s=gr(n),i=Bn(r,s),i.callback=e??null,pr(n,i,s),t.current.lanes=s,Ji(t,s,r),Dt(t,r),t}function ll(t,e,n,r){var s=e.current,i=xt(),o=gr(s);return n=gg(n),e.context===null?e.context=n:e.pendingContext=n,e=Bn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(s,e,o),t!==null&&(fn(t,s,o,i),ea(t,s,o)),o}function Da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _f(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dh(t,e){_f(t,e),(t=t.alternate)&&_f(t,e)}function fv(){return null}var yg=typeof reportError=="function"?reportError:function(t){console.error(t)};function fh(t){this._internalRoot=t}ul.prototype.render=fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));ll(t,e,null,null)};ul.prototype.unmount=fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){ll(null,t,null,null)}),e[qn]=null}};function ul(t){this._internalRoot=t}ul.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&Yp(t)}};function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yf(){}function pv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Da(o);i.call(u)}}var o=_g(e,r,t,0,null,!1,!1,"",yf);return t._reactRootContainer=o,t[qn]=o.current,Vi(t.nodeType===8?t.parentNode:t),Qr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Da(l);a.call(u)}}var l=hh(t,0,!1,null,null,!1,!1,"",yf);return t._reactRootContainer=l,t[qn]=l.current,Vi(t.nodeType===8?t.parentNode:t),Qr(function(){ll(e,l,n,r)}),l}function hl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Da(o);a.call(l)}}ll(e,o,t,s)}else o=pv(n,e,t,s,r);return Da(o)}Hp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vi(e.pendingLanes);n!==0&&(Dc(e,n|1),Dt(e,Xe()),!(Te&6)&&(Ws=Xe()+500,Nr()))}break;case 13:Qr(function(){var r=$n(t,1);if(r!==null){var s=xt();fn(r,t,1,s)}}),dh(t,1)}};Rc=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=xt();fn(e,t,134217728,n)}dh(t,134217728)}};Zp=function(t){if(t.tag===13){var e=gr(t),n=$n(t,e);if(n!==null){var r=xt();fn(n,t,e,r)}dh(t,e)}};Qp=function(){return Ie};Xp=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Mu=function(t,e,n){switch(e){case"input":if(Tu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=tl(r);if(!s)throw Error(ee(90));Ep(r),Tu(r,s)}}}break;case"textarea":Ap(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};Fp=ah;jp=Qr;var mv={usingClientEntryPoint:!1,Events:[to,_s,tl,Rp,Pp,ah]},gi={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gv={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vp(t),t===null?null:t.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Ya=Vo.inject(gv),bn=Vo}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mv;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ph(e))throw Error(ee(200));return dv(t,e,null,n)};Ut.createRoot=function(t,e){if(!ph(t))throw Error(ee(299));var n=!1,r="",s=yg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hh(t,1,!1,null,null,n,!1,r,s),t[qn]=e.current,Vi(t.nodeType===8?t.parentNode:t),new fh(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Vp(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return Qr(t)};Ut.hydrate=function(t,e,n){if(!cl(e))throw Error(ee(200));return hl(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!ph(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_g(e,null,t,1,n??null,s,!1,i,o),t[qn]=e.current,Vi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ul(e)};Ut.render=function(t,e,n){if(!cl(e))throw Error(ee(200));return hl(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!cl(t))throw Error(ee(40));return t._reactRootContainer?(Qr(function(){hl(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1};Ut.unstable_batchedUpdates=ah;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cl(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return hl(t,e,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vg)}catch(t){console.error(t)}}vg(),vp.exports=Ut;var _v=vp.exports,vf=_v;yu.createRoot=vf.createRoot,yu.hydrateRoot=vf.hydrateRoot;function yn({title:t,accent:e="default",children:n,className:r="",titleSize:s="lg"}){const i=yv(e),o=(()=>{switch(s){case"xl":return"text-[18px] sm:text-[20px] font-extrabold tracking-wide uppercase";case"md":return"text-sm font-semibold";case"lg":default:return"text-[15px] sm:text-[16px] font-bold leading-tight"}})();return O.jsxs("div",{className:["waff-card relative mb-4 p-3 rounded-md bg-[#1a1a1a]/80 backdrop-blur-sm border transition-colors",i,r].join(" "),children:[O.jsx("h3",{className:["waff-module-title mb-2 flex items-center gap-1 select-none text-white",o].join(" "),children:t}),n]})}function yv(t){switch(t){case"fx":return"border-purple-500/50 hover:border-purple-300/70";case"img":return"border-cyan-500/50 hover:border-cyan-300/70";case"mod":return"border-lime-500/50 hover:border-lime-300/70";case"master":return"border-amber-500/50 hover:border-amber-300/70";case"default":default:return"border-gray-600/60 hover:border-gray-300/70"}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$t=(t,e)=>{const n=se.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>se.createElement("svg",{ref:c,...vv,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${wv(t)}`,a].join(" "),...u},[...e.map(([h,m])=>se.createElement(h,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=$t("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=$t("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=$t("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=$t("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=$t("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=$t("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=$t("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=$t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=$t("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=$t("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=$t("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=$t("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=$t("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Dv({rate:t,depth:e,target:n,onChange:r,className:s}){const i=l=>r({rate:Number(l.target.value)}),o=l=>r({depth:Number(l.target.value)}),a=l=>r({target:l.target.value});return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(Iv,{className:"w-3.5 h-3.5 text-lime-400"}),"LFO"]}),accent:"mod",className:s,titleSize:"lg",children:[O.jsxs("div",{className:"mb-3",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Rate: ",O.jsxs("span",{className:"opacity-100 font-mono",children:[t.toFixed(2)," Hz"]})]}),O.jsx("input",{type:"range",min:.01,max:20,step:.01,value:t,onChange:i,className:"w-full accent-lime-400"})]}),O.jsxs("div",{className:"mb-3",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Depth: ",O.jsx("span",{className:"opacity-100 font-mono",children:e.toFixed(2)})]}),O.jsx("input",{type:"range",min:0,max:1,step:.001,value:e,onChange:o,className:"w-full accent-lime-400"})]}),O.jsxs("div",{className:"mb-1",children:[O.jsx("label",{className:"text-xs opacity-80 block mb-1",children:"Target"}),O.jsxs("select",{value:n,onChange:a,className:"bg-gray-700 text-xs p-1 rounded w-full",children:[O.jsx("option",{value:"none",children:"(None)"}),O.jsx("option",{value:"ringFreq",children:"Ring Freq"}),O.jsx("option",{value:"pixelate",children:"Pixelate Size"}),O.jsx("option",{value:"delay",children:"Delay Time"}),O.jsx("option",{value:"feedback",children:"Feedback Amt"}),O.jsx("option",{value:"masterVol",children:"Master Volume"})]})]})]})}function Rv({intensity:t,stepMs:e,onIntensity:n,onStepMs:r}){return O.jsxs("div",{style:{marginBottom:"1rem"},children:[O.jsx("h3",{children:"MicroLoop"}),O.jsxs("label",{children:["Random: ",t.toFixed(2)]}),O.jsx("input",{type:"range",min:0,max:1,step:.01,value:t,onChange:s=>n(parseFloat(s.target.value))}),O.jsxs("label",{children:["Step: ",e," ms"]}),O.jsx("input",{type:"range",min:10,max:1e3,step:1,value:e,onChange:s=>r(parseInt(s.target.value,10))})]})}function Pv({visible:t,onClick:e}){return t?O.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",zIndex:9999,cursor:"pointer",userSelect:"none"},onClick:e,onPointerDown:e,children:[O.jsx("h1",{children:"Audio-Visual Ambientalizer"}),O.jsx("p",{children:"Clicca per avviare audio & visual."}),O.jsx("p",{style:{fontSize:"0.8em",opacity:.7},children:"(please, proceed)"}),O.jsx("button",{style:{marginTop:"1rem",padding:"0.4rem 20rem"},children:"Start"})]}):null}function Bo(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xg={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function o(u,c){if(!s[u]){if(!r[u]){var h=typeof Bo=="function"&&Bo;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var f=s[u]={exports:{}};r[u][0].call(f.exports,function(g){var p=r[u][1][g];return o(p||g)},f,f.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Bo=="function"&&Bo,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var u,c,h,m,f,g,p,y=[],d=0,_=l.length,v=_,S=i.getTypeOf(l)!=="string";d<l.length;)v=_-d,h=S?(u=l[d++],c=d<_?l[d++]:0,d<_?l[d++]:0):(u=l.charCodeAt(d++),c=d<_?l.charCodeAt(d++):0,d<_?l.charCodeAt(d++):0),m=u>>2,f=(3&u)<<4|c>>4,g=1<v?(15&c)<<2|h>>6:64,p=2<v?63&h:64,y.push(a.charAt(m)+a.charAt(f)+a.charAt(g)+a.charAt(p));return y.join("")},s.decode=function(l){var u,c,h,m,f,g,p=0,y=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var _,v=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&v--,l.charAt(l.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=o.uint8array?new Uint8Array(0|v):new Array(0|v);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(m=a.indexOf(l.charAt(p++)))>>4,c=(15&m)<<4|(f=a.indexOf(l.charAt(p++)))>>2,h=(3&f)<<6|(g=a.indexOf(l.charAt(p++))),_[y++]=u,f!==64&&(_[y++]=c),g!==64&&(_[y++]=h);return _}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,m,f,g){this.compressedSize=c,this.uncompressedSize=h,this.crc32=m,this.compression=f,this.compressedContent=g}u.prototype={getContentWorker:function(){var c=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,m){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,c,h,m){var f=o,g=m+h;u^=-1;for(var p=m;p<g;p++)u=u>>>8^f[255&(u^c[p])];return-1^u}(0|l,a,a.length,0):function(u,c,h,m){var f=o,g=m+h;u^=-1;for(var p=m;p<g;p++)u=u>>>8^f[255&(u^c.charCodeAt(p))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function c(h,m){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}s.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},s.compressWorker=function(h){return new c("Deflate",h)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(f,g){var p,y="";for(p=0;p<g;p++)y+=String.fromCharCode(255&f),f>>>=8;return y}function o(f,g,p,y,d,_){var v,S,k=f.file,E=f.compression,C=_!==u.utf8encode,N=a.transformTo("string",_(k.name)),I=a.transformTo("string",u.utf8encode(k.name)),D=k.comment,V=a.transformTo("string",_(D)),T=a.transformTo("string",u.utf8encode(D)),P=I.length!==k.name.length,x=T.length!==D.length,B="",Q="",U="",q=k.dir,z=k.date,H={crc32:0,compressedSize:0,uncompressedSize:0};g&&!p||(H.crc32=f.crc32,H.compressedSize=f.compressedSize,H.uncompressedSize=f.uncompressedSize);var R=0;g&&(R|=8),C||!P&&!x||(R|=2048);var F=0,ne=0;q&&(F|=16),d==="UNIX"?(ne=798,F|=function(G,ie){var fe=G;return G||(fe=ie?16893:33204),(65535&fe)<<16}(k.unixPermissions,q)):(ne=20,F|=function(G){return 63&(G||0)}(k.dosPermissions)),v=z.getUTCHours(),v<<=6,v|=z.getUTCMinutes(),v<<=5,v|=z.getUTCSeconds()/2,S=z.getUTCFullYear()-1980,S<<=4,S|=z.getUTCMonth()+1,S<<=5,S|=z.getUTCDate(),P&&(Q=i(1,1)+i(c(N),4)+I,B+="up"+i(Q.length,2)+Q),x&&(U=i(1,1)+i(c(V),4)+T,B+="uc"+i(U.length,2)+U);var J="";return J+=`
\0`,J+=i(R,2),J+=E.magic,J+=i(v,2),J+=i(S,2),J+=i(H.crc32,4),J+=i(H.compressedSize,4),J+=i(H.uncompressedSize,4),J+=i(N.length,2),J+=i(B.length,2),{fileRecord:h.LOCAL_FILE_HEADER+J+N+B,dirRecord:h.CENTRAL_FILE_HEADER+i(ne,2)+J+i(V.length,2)+"\0\0\0\0"+i(F,4)+i(y,4)+N+B+V}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function m(f,g,p,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=p,this.encodeFileName=y,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(m,l),m.prototype.push=function(f){var g=f.meta.percent||0,p=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:p?(g+100*(p-y-1))/p:100}}))},m.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var g=this.streamFiles&&!f.file.dir;if(g){var p=o(f,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(f){this.accumulate=!1;var g=this.streamFiles&&!f.file.dir,p=o(f,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),g)this.push({data:function(y){return h.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var f=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var p=this.bytesWritten-f,y=function(d,_,v,S,k){var E=a.transformTo("string",k(S));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(_,4)+i(v,4)+i(E.length,2)+E}(this.dirRecords.length,p,f,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(f){this._sources.push(f);var g=this;return f.on("data",function(p){g.processChunk(p)}),f.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),f.on("error",function(p){g.error(p)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(f){var g=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var p=0;p<g.length;p++)try{g[p].error(f)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,g=0;g<f.length;g++)f[g].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{a.forEach(function(m,f){h++;var g=function(_,v){var S=_||v,k=i[S];if(!k)throw new Error(S+" is not a valid compression method !");return k}(f.options.compression,l.compression),p=f.options.compressionOptions||l.compressionOptions||{},y=f.dir,d=f.date;f._compressWorker(g,p).withStreamInfo("file",{name:m,dir:y,date:d,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(m){c.error(m)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(m){return new o.Promise(function(f,g){var p=m.decompressed.getContentWorker().pipe(new u);p.on("error",function(y){g(y)}).on("end",function(){p.streamInfo.crc32!==m.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(m,f){var g=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,f.optimizedBinaryString,f.base64).then(function(p){var y=new l(f);return y.load(p),y}).then(function(p){var y=[o.Promise.resolve(p)],d=p.files;if(f.checkCRC32)for(var _=0;_<d.length;_++)y.push(h(d[_]));return o.Promise.all(y)}).then(function(p){for(var y=p.shift(),d=y.files,_=0;_<d.length;_++){var v=d[_],S=v.fileNameStr,k=i.resolve(v.fileNameStr);g.file(k,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:f.createFolders}),v.dir||(g.file(k).unsafeOriginalName=S)}return y.zipComment.length&&(g.comment=y.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,l,u){i.call(this,l),this._helper=a;var c=this;a.on("data",function(h,m){c.push(h)||c._helper.pause(),u&&u(m)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(k,E,C){var N,I=a.getTypeOf(E),D=a.extend(C||{},c);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(k=d(k)),D.createFolders&&(N=y(k))&&_.call(this,N,!0);var V=I==="string"&&D.binary===!1&&D.base64===!1;C&&C.binary!==void 0||(D.binary=!V),(E instanceof h&&E.uncompressedSize===0||D.dir||!E||E.length===0)&&(D.base64=!1,D.binary=!0,E="",D.compression="STORE",I="string");var T=null;T=E instanceof h||E instanceof l?E:g.isNode&&g.isStream(E)?new p(k,E):a.prepareContent(k,E,D.binary,D.optimizedBinaryString,D.base64);var P=new m(k,T,D);this.files[k]=P}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),m=n("./zipObject"),f=n("./generate"),g=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),y=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var E=k.lastIndexOf("/");return 0<E?k.substring(0,E):""},d=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},_=function(k,E){return E=E!==void 0?E:c.createFolders,k=d(k),this.files[k]||i.call(this,k,null,{dir:!0,createFolders:E}),this.files[k]};function v(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var E,C,N;for(E in this.files)N=this.files[E],(C=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&k(C,N)},filter:function(k){var E=[];return this.forEach(function(C,N){k(C,N)&&E.push(N)}),E},file:function(k,E,C){if(arguments.length!==1)return k=this.root+k,i.call(this,k,E,C),this;if(v(k)){var N=k;return this.filter(function(D,V){return!V.dir&&N.test(D)})}var I=this.files[this.root+k];return I&&!I.dir?I:null},folder:function(k){if(!k)return this;if(v(k))return this.filter(function(I,D){return D.dir&&k.test(I)});var E=this.root+k,C=_.call(this,E),N=this.clone();return N.root=C.name,N},remove:function(k){k=this.root+k;var E=this.files[k];if(E||(k.slice(-1)!=="/"&&(k+="/"),E=this.files[k]),E&&!E.dir)delete this.files[k];else for(var C=this.filter(function(I,D){return D.name.slice(0,k.length)===k}),N=0;N<C.length;N++)delete this.files[C[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var E,C={};try{if((C=a.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var N=C.comment||this.comment||"";E=f.generateWorker(this,C,N)}catch(I){(E=new l("error")).error(I)}return new u(E,C.type||"string",C.mimeType)},generateAsync:function(k,E){return this.generateInternalStream(k).accumulate(E)},generateNodeStream:function(k,E){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(E)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===u&&this.data[m+2]===c&&this.data[m+3]===h)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),m=this.readData(4);return l===m[0]&&u===m[1]&&c===m[2]&&h===m[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(h){var m=i.getTypeOf(h);return i.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(h):o.uint8array?new c(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=i.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(g,p){return new c.Promise(function(y,d){var _=[],v=g._internalType,S=g._outputType,k=g._mimeType;g.on("data",function(E,C){_.push(E),p&&p(C)}).on("error",function(E){_=[],d(E)}).on("end",function(){try{var E=function(C,N,I){switch(C){case"blob":return i.newBlob(i.transformTo("arraybuffer",N),I);case"base64":return l.encode(N);default:return i.transformTo(C,N)}}(S,function(C,N){var I,D=0,V=null,T=0;for(I=0;I<N.length;I++)T+=N[I].length;switch(C){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(V=new Uint8Array(T),I=0;I<N.length;I++)V.set(N[I],D),D+=N[I].length;return V;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+C+"'")}}(v,_),k);y(E)}catch(C){d(C)}_=[]}).resume()})}function f(g,p,y){var d=p;switch(p){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=p,this._mimeType=y,i.checkSupport(d),this._worker=g.pipe(new o(d)),g.lock()}catch(_){this._worker=new a("error"),this._worker.error(_)}}f.prototype={accumulate:function(g){return m(this,g)},on:function(g,p){var y=this;return g==="data"?this._worker.on(g,function(d){p.call(y,d.data,d.meta)}):this._worker.on(g,function(){i.delay(p,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}s.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(g){var p,y,d,_,v,S=g.length,k=0;for(_=0;_<S;_++)(64512&(y=g.charCodeAt(_)))==55296&&_+1<S&&(64512&(d=g.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(d-56320),_++),k+=y<128?1:y<2048?2:y<65536?3:4;for(p=o.uint8array?new Uint8Array(k):new Array(k),_=v=0;v<k;_++)(64512&(y=g.charCodeAt(_)))==55296&&_+1<S&&(64512&(d=g.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(d-56320),_++),y<128?p[v++]=y:(y<2048?p[v++]=192|y>>>6:(y<65536?p[v++]=224|y>>>12:(p[v++]=240|y>>>18,p[v++]=128|y>>>12&63),p[v++]=128|y>>>6&63),p[v++]=128|63&y);return p}(f)},s.utf8decode=function(f){return o.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(g){var p,y,d,_,v=g.length,S=new Array(2*v);for(p=y=0;p<v;)if((d=g[p++])<128)S[y++]=d;else if(4<(_=u[d]))S[y++]=65533,p+=_-1;else{for(d&=_===2?31:_===3?15:7;1<_&&p<v;)d=d<<6|63&g[p++],_--;1<_?S[y++]=65533:d<65536?S[y++]=d:(d-=65536,S[y++]=55296|d>>10&1023,S[y++]=56320|1023&d)}return S.length!==y&&(S.subarray?S=S.subarray(0,y):S.length=y),i.applyFromCharCode(S)}(f=i.transformTo(o.uint8array?"uint8array":"array",f))},i.inherits(h,l),h.prototype.processChunk=function(f){var g=i.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=g;(g=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),g.set(p,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var y=function(_,v){var S;for((v=v||_.length)>_.length&&(v=_.length),S=v-1;0<=S&&(192&_[S])==128;)S--;return S<0||S===0?v:S+u[_[S]]>v?S:v}(g),d=g;y!==g.length&&(o.uint8array?(d=g.subarray(0,y),this.leftOver=g.subarray(y,g.length)):(d=g.slice(0,y),this.leftOver=g.slice(y,g.length))),this.push({data:s.utf8decode(d),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(m,l),m.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(p){return p}function c(p,y){for(var d=0;d<p.length;++d)y[d]=255&p.charCodeAt(d);return y}n("setimmediate"),s.newBlob=function(p,y){s.checkSupport("blob");try{return new Blob([p],{type:y})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(p),d.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(p,y,d){var _=[],v=0,S=p.length;if(S<=d)return String.fromCharCode.apply(null,p);for(;v<S;)y==="array"||y==="nodebuffer"?_.push(String.fromCharCode.apply(null,p.slice(v,Math.min(v+d,S)))):_.push(String.fromCharCode.apply(null,p.subarray(v,Math.min(v+d,S)))),v+=d;return _.join("")},stringifyByChar:function(p){for(var y="",d=0;d<p.length;d++)y+=String.fromCharCode(p[d]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function m(p){var y=65536,d=s.getTypeOf(p),_=!0;if(d==="uint8array"?_=h.applyCanBeUsed.uint8array:d==="nodebuffer"&&(_=h.applyCanBeUsed.nodebuffer),_)for(;1<y;)try{return h.stringifyByChunk(p,d,y)}catch{y=Math.floor(y/2)}return h.stringifyByChar(p)}function f(p,y){for(var d=0;d<p.length;d++)y[d]=p[d];return y}s.applyFromCharCode=m;var g={};g.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return g.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,a.allocBuffer(p.length))}},g.array={string:m,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},g.arraybuffer={string:function(p){return m(new Uint8Array(p))},array:function(p){return f(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},g.uint8array={string:m,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},g.nodebuffer={string:m,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return g.nodebuffer.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:u},s.transformTo=function(p,y){if(y=y||"",!p)return y;s.checkSupport(p);var d=s.getTypeOf(y);return g[d][p](y)},s.resolve=function(p){for(var y=p.split("/"),d=[],_=0;_<y.length;_++){var v=y[_];v==="."||v===""&&_!==0&&_!==y.length-1||(v===".."?d.pop():d.push(v))}return d.join("/")},s.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(p)?"nodebuffer":i.uint8array&&p instanceof Uint8Array?"uint8array":i.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(p){if(!i[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(p){var y,d,_="";for(d=0;d<(p||"").length;d++)_+="\\x"+((y=p.charCodeAt(d))<16?"0":"")+y.toString(16).toUpperCase();return _},s.delay=function(p,y,d){setImmediate(function(){p.apply(d||null,y||[])})},s.inherits=function(p,y){function d(){}d.prototype=y.prototype,p.prototype=new d},s.extend=function(){var p,y,d={};for(p=0;p<arguments.length;p++)for(y in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],y)&&d[y]===void 0&&(d[y]=arguments[p][y]);return d},s.prepareContent=function(p,y,d,_,v){return l.Promise.resolve(y).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,E){var C=new FileReader;C.onload=function(N){k(N.target.result)},C.onerror=function(N){E(N.target.error)},C.readAsArrayBuffer(S)}):S}).then(function(S){var k=s.getTypeOf(S);return k?(k==="arraybuffer"?S=s.transformTo("uint8array",S):k==="string"&&(v?S=o.decode(S):d&&_!==!0&&(S=function(E){return c(E,i.uint8array?new Uint8Array(E.length):new Array(E.length))}(S))),S):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(h)+")")}},isSignature:function(h,m){var f=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===m;return this.reader.setIndex(f),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",f=o.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,f,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),m=this.reader.readInt(4),f=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var g=m-f;if(0<g)this.isSignature(m,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function m(f,g){this.options=f,this.loadOptions=g}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var g,p;if(f.skip(22),this.fileNameLength=f.readInt(2),p=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(y){for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)&&c[d].magic===y)return c[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var g=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(g),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var g,p,y,d=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<d;)g=f.readInt(2),p=f.readInt(2),y=f.readData(p),this.extraFields[g]={id:g,length:p,value:y};f.setIndex(d)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var p=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var d=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var g=i(f.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var g=i(f.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(g,p,y){this.name=g,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=p,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");i.prototype={internalStream:function(g){var p=null,y="string";try{if(!g)throw new Error("No output type specified.");var d=(y=g.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),p=this._decompressWorker();var _=!this._dataBinary;_&&!d&&(p=p.pipe(new l.Utf8EncodeWorker)),!_&&d&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(v){(p=new c("error")).error(v)}return new o(p,y,"")},async:function(g,p){return this.internalStream(g).accumulate(p)},nodeStream:function(g,p){return this.internalStream(g||"nodebuffer").toNodejsStream(p)},_compressWorker:function(g,p){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(y,g,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)i.prototype[h[f]]=m;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,c=new l(g),h=i.document.createTextNode("");c.observe(h,{characterData:!0}),o=function(){h.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var p=i.document.createElement("script");p.onreadystatechange=function(){g(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},i.document.documentElement.appendChild(p)}:function(){setTimeout(g,0)};else{var m=new i.MessageChannel;m.port1.onmessage=g,o=function(){m.port2.postMessage(0)}}var f=[];function g(){var p,y;a=!0;for(var d=f.length;d;){for(y=f,f=[],p=-1;++p<d;)y[p]();d=f.length}a=!1}r.exports=function(p){f.push(p)!==1||a||o()}}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,d!==o&&p(this,d)}function m(d,_,v){this.promise=d,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function f(d,_,v){i(function(){var S;try{S=_(v)}catch(k){return a.reject(d,k)}S===d?a.reject(d,new TypeError("Cannot resolve promise with itself")):a.resolve(d,S)})}function g(d){var _=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof _=="function")return function(){_.apply(d,arguments)}}function p(d,_){var v=!1;function S(C){v||(v=!0,a.reject(d,C))}function k(C){v||(v=!0,a.resolve(d,C))}var E=y(function(){_(k,S)});E.status==="error"&&S(E.value)}function y(d,_){var v={};try{v.value=d(_),v.status="success"}catch(S){v.status="error",v.value=S}return v}(r.exports=h).prototype.finally=function(d){if(typeof d!="function")return this;var _=this.constructor;return this.then(function(v){return _.resolve(d()).then(function(){return v})},function(v){return _.resolve(d()).then(function(){throw v})})},h.prototype.catch=function(d){return this.then(null,d)},h.prototype.then=function(d,_){if(typeof d!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var v=new this.constructor(o);return this.state!==c?f(v,this.state===u?d:_,this.outcome):this.queue.push(new m(v,d,_)),v},m.prototype.callFulfilled=function(d){a.resolve(this.promise,d)},m.prototype.otherCallFulfilled=function(d){f(this.promise,this.onFulfilled,d)},m.prototype.callRejected=function(d){a.reject(this.promise,d)},m.prototype.otherCallRejected=function(d){f(this.promise,this.onRejected,d)},a.resolve=function(d,_){var v=y(g,_);if(v.status==="error")return a.reject(d,v.value);var S=v.value;if(S)p(d,S);else{d.state=u,d.outcome=_;for(var k=-1,E=d.queue.length;++k<E;)d.queue[k].callFulfilled(_)}return d},a.reject=function(d,_){d.state=l,d.outcome=_;for(var v=-1,S=d.queue.length;++v<S;)d.queue[v].callRejected(_);return d},h.resolve=function(d){return d instanceof this?d:a.resolve(new this(o),d)},h.reject=function(d){var _=new this(o);return a.reject(_,d)},h.all=function(d){var _=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,S=!1;if(!v)return this.resolve([]);for(var k=new Array(v),E=0,C=-1,N=new this(o);++C<v;)I(d[C],C);return N;function I(D,V){_.resolve(D).then(function(T){k[V]=T,++E!==v||S||(S=!0,a.resolve(N,k))},function(T){S||(S=!0,a.reject(N,T))})}},h.race=function(d){var _=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,S=!1;if(!v)return this.resolve([]);for(var k=-1,E=new this(o);++k<v;)C=d[k],_.resolve(C).then(function(N){S||(S=!0,a.resolve(E,N))},function(N){S||(S=!0,a.reject(E,N))});var C;return E}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,m=-1,f=0,g=8;function p(d){if(!(this instanceof p))return new p(d);this.options=o.assign({level:m,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},d||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=i.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(v!==h)throw new Error(l[v]);if(_.header&&i.deflateSetHeader(this.strm,_.header),_.dictionary){var S;if(S=typeof _.dictionary=="string"?a.string2buf(_.dictionary):c.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(v=i.deflateSetDictionary(this.strm,S))!==h)throw new Error(l[v]);this._dict_set=!0}}function y(d,_){var v=new p(_);if(v.push(d,!0),v.err)throw v.msg||l[v.err];return v.result}p.prototype.push=function(d,_){var v,S,k=this.strm,E=this.options.chunkSize;if(this.ended)return!1;S=_===~~_?_:_===!0?4:0,typeof d=="string"?k.input=a.string2buf(d):c.call(d)==="[object ArrayBuffer]"?k.input=new Uint8Array(d):k.input=d,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(E),k.next_out=0,k.avail_out=E),(v=i.deflate(k,S))!==1&&v!==h)return this.onEnd(v),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(k.output,k.next_out))):this.onData(o.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&v!==1);return S===4?(v=i.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===h):S!==2||(this.onEnd(h),!(k.avail_out=0))},p.prototype.onData=function(d){this.chunks.push(d)},p.prototype.onEnd=function(d){d===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},s.Deflate=p,s.deflate=y,s.deflateRaw=function(d,_){return(_=_||{}).raw=!0,y(d,_)},s.gzip=function(d,_){return(_=_||{}).gzip=!0,y(d,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),m=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||p&&p.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,y.windowBits);if(d!==l.Z_OK)throw new Error(u[d]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function g(p,y){var d=new f(y);if(d.push(p,!0),d.err)throw d.msg||u[d.err];return d.result}f.prototype.push=function(p,y){var d,_,v,S,k,E,C=this.strm,N=this.options.chunkSize,I=this.options.dictionary,D=!1;if(this.ended)return!1;_=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?C.input=a.binstring2buf(p):m.call(p)==="[object ArrayBuffer]"?C.input=new Uint8Array(p):C.input=p,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(N),C.next_out=0,C.avail_out=N),(d=i.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(E=typeof I=="string"?a.string2buf(I):m.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,d=i.inflateSetDictionary(this.strm,E)),d===l.Z_BUF_ERROR&&D===!0&&(d=l.Z_OK,D=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&d!==l.Z_STREAM_END&&(C.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(C.output,C.next_out),S=C.next_out-v,k=a.buf2string(C.output,v),C.next_out=S,C.avail_out=N-S,S&&o.arraySet(C.output,C.output,v,S,0),this.onData(k)):this.onData(o.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(D=!0)}while((0<C.avail_in||C.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},s.Inflate=f,s.inflate=g,s.inflateRaw=function(p,y){return(y=y||{}).raw=!0,g(p,y)},s.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},s.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,h,m){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),m);else for(var f=0;f<h;f++)l[m+f]=u[c+f]},flattenChunks:function(l){var u,c,h,m,f,g;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(g=new Uint8Array(h),u=m=0,c=l.length;u<c;u++)f=l[u],g.set(f,m),m+=f.length;return g}},a={arraySet:function(l,u,c,h,m){for(var f=0;f<h;f++)l[m+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,m){if(m<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,m));for(var f="",g=0;g<m;g++)f+=String.fromCharCode(h[g]);return f}l[254]=l[254]=1,s.string2buf=function(h){var m,f,g,p,y,d=h.length,_=0;for(p=0;p<d;p++)(64512&(f=h.charCodeAt(p)))==55296&&p+1<d&&(64512&(g=h.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),p++),_+=f<128?1:f<2048?2:f<65536?3:4;for(m=new i.Buf8(_),p=y=0;y<_;p++)(64512&(f=h.charCodeAt(p)))==55296&&p+1<d&&(64512&(g=h.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),p++),f<128?m[y++]=f:(f<2048?m[y++]=192|f>>>6:(f<65536?m[y++]=224|f>>>12:(m[y++]=240|f>>>18,m[y++]=128|f>>>12&63),m[y++]=128|f>>>6&63),m[y++]=128|63&f);return m},s.buf2binstring=function(h){return c(h,h.length)},s.binstring2buf=function(h){for(var m=new i.Buf8(h.length),f=0,g=m.length;f<g;f++)m[f]=h.charCodeAt(f);return m},s.buf2string=function(h,m){var f,g,p,y,d=m||h.length,_=new Array(2*d);for(f=g=0;f<d;)if((p=h[f++])<128)_[g++]=p;else if(4<(y=l[p]))_[g++]=65533,f+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&f<d;)p=p<<6|63&h[f++],y--;1<y?_[g++]=65533:p<65536?_[g++]=p:(p-=65536,_[g++]=55296|p>>10&1023,_[g++]=56320|1023&p)}return c(_,g)},s.utf8border=function(h,m){var f;for((m=m||h.length)>h.length&&(m=h.length),f=m-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?m:f+l[h[f]]>m?f:m}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,l){for(var u=65535&i|0,c=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=i,h=u+l;o^=-1;for(var m=u;m<h;m++)o=o>>>8^c[255&(o^a[m])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,m=4,f=0,g=-2,p=-1,y=4,d=2,_=8,v=9,S=286,k=30,E=19,C=2*S+1,N=15,I=3,D=258,V=D+I+1,T=42,P=113,x=1,B=2,Q=3,U=4;function q(w,j){return w.msg=c[j],j}function z(w){return(w<<1)-(4<w?9:0)}function H(w){for(var j=w.length;0<=--j;)w[j]=0}function R(w){var j=w.state,L=j.pending;L>w.avail_out&&(L=w.avail_out),L!==0&&(o.arraySet(w.output,j.pending_buf,j.pending_out,L,w.next_out),w.next_out+=L,j.pending_out+=L,w.total_out+=L,w.avail_out-=L,j.pending-=L,j.pending===0&&(j.pending_out=0))}function F(w,j){a._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,j),w.block_start=w.strstart,R(w.strm)}function ne(w,j){w.pending_buf[w.pending++]=j}function J(w,j){w.pending_buf[w.pending++]=j>>>8&255,w.pending_buf[w.pending++]=255&j}function G(w,j){var L,A,b=w.max_chain_length,M=w.strstart,$=w.prev_length,Z=w.nice_match,W=w.strstart>w.w_size-V?w.strstart-(w.w_size-V):0,Y=w.window,re=w.w_mask,te=w.prev,ce=w.strstart+D,Me=Y[M+$-1],ge=Y[M+$];w.prev_length>=w.good_match&&(b>>=2),Z>w.lookahead&&(Z=w.lookahead);do if(Y[(L=j)+$]===ge&&Y[L+$-1]===Me&&Y[L]===Y[M]&&Y[++L]===Y[M+1]){M+=2,L++;do;while(Y[++M]===Y[++L]&&Y[++M]===Y[++L]&&Y[++M]===Y[++L]&&Y[++M]===Y[++L]&&Y[++M]===Y[++L]&&Y[++M]===Y[++L]&&Y[++M]===Y[++L]&&Y[++M]===Y[++L]&&M<ce);if(A=D-(ce-M),M=ce-D,$<A){if(w.match_start=j,Z<=($=A))break;Me=Y[M+$-1],ge=Y[M+$]}}while((j=te[j&re])>W&&--b!=0);return $<=w.lookahead?$:w.lookahead}function ie(w){var j,L,A,b,M,$,Z,W,Y,re,te=w.w_size;do{if(b=w.window_size-w.lookahead-w.strstart,w.strstart>=te+(te-V)){for(o.arraySet(w.window,w.window,te,te,0),w.match_start-=te,w.strstart-=te,w.block_start-=te,j=L=w.hash_size;A=w.head[--j],w.head[j]=te<=A?A-te:0,--L;);for(j=L=te;A=w.prev[--j],w.prev[j]=te<=A?A-te:0,--L;);b+=te}if(w.strm.avail_in===0)break;if($=w.strm,Z=w.window,W=w.strstart+w.lookahead,Y=b,re=void 0,re=$.avail_in,Y<re&&(re=Y),L=re===0?0:($.avail_in-=re,o.arraySet(Z,$.input,$.next_in,re,W),$.state.wrap===1?$.adler=l($.adler,Z,re,W):$.state.wrap===2&&($.adler=u($.adler,Z,re,W)),$.next_in+=re,$.total_in+=re,re),w.lookahead+=L,w.lookahead+w.insert>=I)for(M=w.strstart-w.insert,w.ins_h=w.window[M],w.ins_h=(w.ins_h<<w.hash_shift^w.window[M+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[M+I-1])&w.hash_mask,w.prev[M&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=M,M++,w.insert--,!(w.lookahead+w.insert<I)););}while(w.lookahead<V&&w.strm.avail_in!==0)}function fe(w,j){for(var L,A;;){if(w.lookahead<V){if(ie(w),w.lookahead<V&&j===h)return x;if(w.lookahead===0)break}if(L=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,L=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),L!==0&&w.strstart-L<=w.w_size-V&&(w.match_length=G(w,L)),w.match_length>=I)if(A=a._tr_tally(w,w.strstart-w.match_start,w.match_length-I),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=I){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,L=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else A=a._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(A&&(F(w,!1),w.strm.avail_out===0))return x}return w.insert=w.strstart<I-1?w.strstart:I-1,j===m?(F(w,!0),w.strm.avail_out===0?Q:U):w.last_lit&&(F(w,!1),w.strm.avail_out===0)?x:B}function K(w,j){for(var L,A,b;;){if(w.lookahead<V){if(ie(w),w.lookahead<V&&j===h)return x;if(w.lookahead===0)break}if(L=0,w.lookahead>=I&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,L=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=I-1,L!==0&&w.prev_length<w.max_lazy_match&&w.strstart-L<=w.w_size-V&&(w.match_length=G(w,L),w.match_length<=5&&(w.strategy===1||w.match_length===I&&4096<w.strstart-w.match_start)&&(w.match_length=I-1)),w.prev_length>=I&&w.match_length<=w.prev_length){for(b=w.strstart+w.lookahead-I,A=a._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-I),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=b&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+I-1])&w.hash_mask,L=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=I-1,w.strstart++,A&&(F(w,!1),w.strm.avail_out===0))return x}else if(w.match_available){if((A=a._tr_tally(w,0,w.window[w.strstart-1]))&&F(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return x}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(A=a._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<I-1?w.strstart:I-1,j===m?(F(w,!0),w.strm.avail_out===0?Q:U):w.last_lit&&(F(w,!1),w.strm.avail_out===0)?x:B}function pe(w,j,L,A,b){this.good_length=w,this.max_lazy=j,this.nice_length=L,this.max_chain=A,this.func=b}function Ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*k+1)),this.bl_tree=new o.Buf16(2*(2*E+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(N+1),this.heap=new o.Buf16(2*S+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(w){var j;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=d,(j=w.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?T:P,w.adler=j.wrap===2?0:1,j.last_flush=h,a._tr_init(j),f):q(w,g)}function He(w){var j=ye(w);return j===f&&function(L){L.window_size=2*L.w_size,H(L.head),L.max_lazy_match=i[L.level].max_lazy,L.good_match=i[L.level].good_length,L.nice_match=i[L.level].nice_length,L.max_chain_length=i[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=I-1,L.match_available=0,L.ins_h=0}(w.state),j}function tt(w,j,L,A,b,M){if(!w)return g;var $=1;if(j===p&&(j=6),A<0?($=0,A=-A):15<A&&($=2,A-=16),b<1||v<b||L!==_||A<8||15<A||j<0||9<j||M<0||y<M)return q(w,g);A===8&&(A=9);var Z=new Ne;return(w.state=Z).strm=w,Z.wrap=$,Z.gzhead=null,Z.w_bits=A,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=b+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+I-1)/I),Z.window=new o.Buf8(2*Z.w_size),Z.head=new o.Buf16(Z.hash_size),Z.prev=new o.Buf16(Z.w_size),Z.lit_bufsize=1<<b+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new o.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=j,Z.strategy=M,Z.method=L,He(w)}i=[new pe(0,0,0,0,function(w,j){var L=65535;for(L>w.pending_buf_size-5&&(L=w.pending_buf_size-5);;){if(w.lookahead<=1){if(ie(w),w.lookahead===0&&j===h)return x;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var A=w.block_start+L;if((w.strstart===0||w.strstart>=A)&&(w.lookahead=w.strstart-A,w.strstart=A,F(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-V&&(F(w,!1),w.strm.avail_out===0))return x}return w.insert=0,j===m?(F(w,!0),w.strm.avail_out===0?Q:U):(w.strstart>w.block_start&&(F(w,!1),w.strm.avail_out),x)}),new pe(4,4,8,4,fe),new pe(4,5,16,8,fe),new pe(4,6,32,32,fe),new pe(4,4,16,16,K),new pe(8,16,32,32,K),new pe(8,16,128,128,K),new pe(8,32,128,256,K),new pe(32,128,258,1024,K),new pe(32,258,258,4096,K)],s.deflateInit=function(w,j){return tt(w,j,_,15,8,0)},s.deflateInit2=tt,s.deflateReset=He,s.deflateResetKeep=ye,s.deflateSetHeader=function(w,j){return w&&w.state?w.state.wrap!==2?g:(w.state.gzhead=j,f):g},s.deflate=function(w,j){var L,A,b,M;if(!w||!w.state||5<j||j<0)return w?q(w,g):g;if(A=w.state,!w.output||!w.input&&w.avail_in!==0||A.status===666&&j!==m)return q(w,w.avail_out===0?-5:g);if(A.strm=w,L=A.last_flush,A.last_flush=j,A.status===T)if(A.wrap===2)w.adler=0,ne(A,31),ne(A,139),ne(A,8),A.gzhead?(ne(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),ne(A,255&A.gzhead.time),ne(A,A.gzhead.time>>8&255),ne(A,A.gzhead.time>>16&255),ne(A,A.gzhead.time>>24&255),ne(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),ne(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(ne(A,255&A.gzhead.extra.length),ne(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(w.adler=u(w.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(ne(A,0),ne(A,0),ne(A,0),ne(A,0),ne(A,0),ne(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),ne(A,3),A.status=P);else{var $=_+(A.w_bits-8<<4)<<8;$|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&($|=32),$+=31-$%31,A.status=P,J(A,$),A.strstart!==0&&(J(A,w.adler>>>16),J(A,65535&w.adler)),w.adler=1}if(A.status===69)if(A.gzhead.extra){for(b=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>b&&(w.adler=u(w.adler,A.pending_buf,A.pending-b,b)),R(w),b=A.pending,A.pending!==A.pending_buf_size));)ne(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>b&&(w.adler=u(w.adler,A.pending_buf,A.pending-b,b)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){b=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>b&&(w.adler=u(w.adler,A.pending_buf,A.pending-b,b)),R(w),b=A.pending,A.pending===A.pending_buf_size)){M=1;break}M=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,ne(A,M)}while(M!==0);A.gzhead.hcrc&&A.pending>b&&(w.adler=u(w.adler,A.pending_buf,A.pending-b,b)),M===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){b=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>b&&(w.adler=u(w.adler,A.pending_buf,A.pending-b,b)),R(w),b=A.pending,A.pending===A.pending_buf_size)){M=1;break}M=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,ne(A,M)}while(M!==0);A.gzhead.hcrc&&A.pending>b&&(w.adler=u(w.adler,A.pending_buf,A.pending-b,b)),M===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&R(w),A.pending+2<=A.pending_buf_size&&(ne(A,255&w.adler),ne(A,w.adler>>8&255),w.adler=0,A.status=P)):A.status=P),A.pending!==0){if(R(w),w.avail_out===0)return A.last_flush=-1,f}else if(w.avail_in===0&&z(j)<=z(L)&&j!==m)return q(w,-5);if(A.status===666&&w.avail_in!==0)return q(w,-5);if(w.avail_in!==0||A.lookahead!==0||j!==h&&A.status!==666){var Z=A.strategy===2?function(W,Y){for(var re;;){if(W.lookahead===0&&(ie(W),W.lookahead===0)){if(Y===h)return x;break}if(W.match_length=0,re=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,re&&(F(W,!1),W.strm.avail_out===0))return x}return W.insert=0,Y===m?(F(W,!0),W.strm.avail_out===0?Q:U):W.last_lit&&(F(W,!1),W.strm.avail_out===0)?x:B}(A,j):A.strategy===3?function(W,Y){for(var re,te,ce,Me,ge=W.window;;){if(W.lookahead<=D){if(ie(W),W.lookahead<=D&&Y===h)return x;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=I&&0<W.strstart&&(te=ge[ce=W.strstart-1])===ge[++ce]&&te===ge[++ce]&&te===ge[++ce]){Me=W.strstart+D;do;while(te===ge[++ce]&&te===ge[++ce]&&te===ge[++ce]&&te===ge[++ce]&&te===ge[++ce]&&te===ge[++ce]&&te===ge[++ce]&&te===ge[++ce]&&ce<Me);W.match_length=D-(Me-ce),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=I?(re=a._tr_tally(W,1,W.match_length-I),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(re=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),re&&(F(W,!1),W.strm.avail_out===0))return x}return W.insert=0,Y===m?(F(W,!0),W.strm.avail_out===0?Q:U):W.last_lit&&(F(W,!1),W.strm.avail_out===0)?x:B}(A,j):i[A.level].func(A,j);if(Z!==Q&&Z!==U||(A.status=666),Z===x||Z===Q)return w.avail_out===0&&(A.last_flush=-1),f;if(Z===B&&(j===1?a._tr_align(A):j!==5&&(a._tr_stored_block(A,0,0,!1),j===3&&(H(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),R(w),w.avail_out===0))return A.last_flush=-1,f}return j!==m?f:A.wrap<=0?1:(A.wrap===2?(ne(A,255&w.adler),ne(A,w.adler>>8&255),ne(A,w.adler>>16&255),ne(A,w.adler>>24&255),ne(A,255&w.total_in),ne(A,w.total_in>>8&255),ne(A,w.total_in>>16&255),ne(A,w.total_in>>24&255)):(J(A,w.adler>>>16),J(A,65535&w.adler)),R(w),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?f:1)},s.deflateEnd=function(w){var j;return w&&w.state?(j=w.state.status)!==T&&j!==69&&j!==73&&j!==91&&j!==103&&j!==P&&j!==666?q(w,g):(w.state=null,j===P?q(w,-3):f):g},s.deflateSetDictionary=function(w,j){var L,A,b,M,$,Z,W,Y,re=j.length;if(!w||!w.state||(M=(L=w.state).wrap)===2||M===1&&L.status!==T||L.lookahead)return g;for(M===1&&(w.adler=l(w.adler,j,re,0)),L.wrap=0,re>=L.w_size&&(M===0&&(H(L.head),L.strstart=0,L.block_start=0,L.insert=0),Y=new o.Buf8(L.w_size),o.arraySet(Y,j,re-L.w_size,L.w_size,0),j=Y,re=L.w_size),$=w.avail_in,Z=w.next_in,W=w.input,w.avail_in=re,w.next_in=0,w.input=j,ie(L);L.lookahead>=I;){for(A=L.strstart,b=L.lookahead-(I-1);L.ins_h=(L.ins_h<<L.hash_shift^L.window[A+I-1])&L.hash_mask,L.prev[A&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=A,A++,--b;);L.strstart=A,L.lookahead=I-1,ie(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=I-1,L.match_available=0,w.next_in=Z,w.input=W,w.avail_in=$,L.wrap=M,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,l,u,c,h,m,f,g,p,y,d,_,v,S,k,E,C,N,I,D,V,T,P,x,B;a=i.state,l=i.next_in,x=i.input,u=l+(i.avail_in-5),c=i.next_out,B=i.output,h=c-(o-i.avail_out),m=c+(i.avail_out-257),f=a.dmax,g=a.wsize,p=a.whave,y=a.wnext,d=a.window,_=a.hold,v=a.bits,S=a.lencode,k=a.distcode,E=(1<<a.lenbits)-1,C=(1<<a.distbits)-1;e:do{v<15&&(_+=x[l++]<<v,v+=8,_+=x[l++]<<v,v+=8),N=S[_&E];t:for(;;){if(_>>>=I=N>>>24,v-=I,(I=N>>>16&255)===0)B[c++]=65535&N;else{if(!(16&I)){if(!(64&I)){N=S[(65535&N)+(_&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}D=65535&N,(I&=15)&&(v<I&&(_+=x[l++]<<v,v+=8),D+=_&(1<<I)-1,_>>>=I,v-=I),v<15&&(_+=x[l++]<<v,v+=8,_+=x[l++]<<v,v+=8),N=k[_&C];n:for(;;){if(_>>>=I=N>>>24,v-=I,!(16&(I=N>>>16&255))){if(!(64&I)){N=k[(65535&N)+(_&(1<<I)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(V=65535&N,v<(I&=15)&&(_+=x[l++]<<v,(v+=8)<I&&(_+=x[l++]<<v,v+=8)),f<(V+=_&(1<<I)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(_>>>=I,v-=I,(I=c-h)<V){if(p<(I=V-I)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(P=d,(T=0)===y){if(T+=g-I,I<D){for(D-=I;B[c++]=d[T++],--I;);T=c-V,P=B}}else if(y<I){if(T+=g+y-I,(I-=y)<D){for(D-=I;B[c++]=d[T++],--I;);if(T=0,y<D){for(D-=I=y;B[c++]=d[T++],--I;);T=c-V,P=B}}}else if(T+=y-I,I<D){for(D-=I;B[c++]=d[T++],--I;);T=c-V,P=B}for(;2<D;)B[c++]=P[T++],B[c++]=P[T++],B[c++]=P[T++],D-=3;D&&(B[c++]=P[T++],1<D&&(B[c++]=P[T++]))}else{for(T=c-V;B[c++]=B[T++],B[c++]=B[T++],B[c++]=B[T++],2<(D-=3););D&&(B[c++]=B[T++],1<D&&(B[c++]=B[T++]))}break}}break}}while(l<u&&c<m);l-=D=v>>3,_&=(1<<(v-=D<<3))-1,i.next_in=l,i.next_out=c,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=c<m?m-c+257:257-(c-m),a.hold=_,a.bits=v}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,m=0,f=-2,g=1,p=852,y=592;function d(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(T){var P;return T&&T.state?(P=T.state,T.total_in=T.total_out=P.total=0,T.msg="",P.wrap&&(T.adler=1&P.wrap),P.mode=g,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new i.Buf32(p),P.distcode=P.distdyn=new i.Buf32(y),P.sane=1,P.back=-1,m):f}function S(T){var P;return T&&T.state?((P=T.state).wsize=0,P.whave=0,P.wnext=0,v(T)):f}function k(T,P){var x,B;return T&&T.state?(B=T.state,P<0?(x=0,P=-P):(x=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?f:(B.window!==null&&B.wbits!==P&&(B.window=null),B.wrap=x,B.wbits=P,S(T))):f}function E(T,P){var x,B;return T?(B=new _,(T.state=B).window=null,(x=k(T,P))!==m&&(T.state=null),x):f}var C,N,I=!0;function D(T){if(I){var P;for(C=new i.Buf32(512),N=new i.Buf32(32),P=0;P<144;)T.lens[P++]=8;for(;P<256;)T.lens[P++]=9;for(;P<280;)T.lens[P++]=7;for(;P<288;)T.lens[P++]=8;for(u(c,T.lens,0,288,C,0,T.work,{bits:9}),P=0;P<32;)T.lens[P++]=5;u(h,T.lens,0,32,N,0,T.work,{bits:5}),I=!1}T.lencode=C,T.lenbits=9,T.distcode=N,T.distbits=5}function V(T,P,x,B){var Q,U=T.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new i.Buf8(U.wsize)),B>=U.wsize?(i.arraySet(U.window,P,x-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(B<(Q=U.wsize-U.wnext)&&(Q=B),i.arraySet(U.window,P,x-B,Q,U.wnext),(B-=Q)?(i.arraySet(U.window,P,x-B,B,0),U.wnext=B,U.whave=U.wsize):(U.wnext+=Q,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=Q))),0}s.inflateReset=S,s.inflateReset2=k,s.inflateResetKeep=v,s.inflateInit=function(T){return E(T,15)},s.inflateInit2=E,s.inflate=function(T,P){var x,B,Q,U,q,z,H,R,F,ne,J,G,ie,fe,K,pe,Ne,ye,He,tt,w,j,L,A,b=0,M=new i.Buf8(4),$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return f;(x=T.state).mode===12&&(x.mode=13),q=T.next_out,Q=T.output,H=T.avail_out,U=T.next_in,B=T.input,z=T.avail_in,R=x.hold,F=x.bits,ne=z,J=H,j=m;e:for(;;)switch(x.mode){case g:if(x.wrap===0){x.mode=13;break}for(;F<16;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(2&x.wrap&&R===35615){M[x.check=0]=255&R,M[1]=R>>>8&255,x.check=a(x.check,M,2,0),F=R=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&R)<<8)+(R>>8))%31){T.msg="incorrect header check",x.mode=30;break}if((15&R)!=8){T.msg="unknown compression method",x.mode=30;break}if(F-=4,w=8+(15&(R>>>=4)),x.wbits===0)x.wbits=w;else if(w>x.wbits){T.msg="invalid window size",x.mode=30;break}x.dmax=1<<w,T.adler=x.check=1,x.mode=512&R?10:12,F=R=0;break;case 2:for(;F<16;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(x.flags=R,(255&x.flags)!=8){T.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){T.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=R>>8&1),512&x.flags&&(M[0]=255&R,M[1]=R>>>8&255,x.check=a(x.check,M,2,0)),F=R=0,x.mode=3;case 3:for(;F<32;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}x.head&&(x.head.time=R),512&x.flags&&(M[0]=255&R,M[1]=R>>>8&255,M[2]=R>>>16&255,M[3]=R>>>24&255,x.check=a(x.check,M,4,0)),F=R=0,x.mode=4;case 4:for(;F<16;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}x.head&&(x.head.xflags=255&R,x.head.os=R>>8),512&x.flags&&(M[0]=255&R,M[1]=R>>>8&255,x.check=a(x.check,M,2,0)),F=R=0,x.mode=5;case 5:if(1024&x.flags){for(;F<16;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}x.length=R,x.head&&(x.head.extra_len=R),512&x.flags&&(M[0]=255&R,M[1]=R>>>8&255,x.check=a(x.check,M,2,0)),F=R=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(z<(G=x.length)&&(G=z),G&&(x.head&&(w=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),i.arraySet(x.head.extra,B,U,G,w)),512&x.flags&&(x.check=a(x.check,B,G,U)),z-=G,U+=G,x.length-=G),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(z===0)break e;for(G=0;w=B[U+G++],x.head&&w&&x.length<65536&&(x.head.name+=String.fromCharCode(w)),w&&G<z;);if(512&x.flags&&(x.check=a(x.check,B,G,U)),z-=G,U+=G,w)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(z===0)break e;for(G=0;w=B[U+G++],x.head&&w&&x.length<65536&&(x.head.comment+=String.fromCharCode(w)),w&&G<z;);if(512&x.flags&&(x.check=a(x.check,B,G,U)),z-=G,U+=G,w)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;F<16;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(R!==(65535&x.check)){T.msg="header crc mismatch",x.mode=30;break}F=R=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),T.adler=x.check=0,x.mode=12;break;case 10:for(;F<32;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}T.adler=x.check=d(R),F=R=0,x.mode=11;case 11:if(x.havedict===0)return T.next_out=q,T.avail_out=H,T.next_in=U,T.avail_in=z,x.hold=R,x.bits=F,2;T.adler=x.check=1,x.mode=12;case 12:if(P===5||P===6)break e;case 13:if(x.last){R>>>=7&F,F-=7&F,x.mode=27;break}for(;F<3;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}switch(x.last=1&R,F-=1,3&(R>>>=1)){case 0:x.mode=14;break;case 1:if(D(x),x.mode=20,P!==6)break;R>>>=2,F-=2;break e;case 2:x.mode=17;break;case 3:T.msg="invalid block type",x.mode=30}R>>>=2,F-=2;break;case 14:for(R>>>=7&F,F-=7&F;F<32;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if((65535&R)!=(R>>>16^65535)){T.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&R,F=R=0,x.mode=15,P===6)break e;case 15:x.mode=16;case 16:if(G=x.length){if(z<G&&(G=z),H<G&&(G=H),G===0)break e;i.arraySet(Q,B,U,G,q),z-=G,U+=G,H-=G,q+=G,x.length-=G;break}x.mode=12;break;case 17:for(;F<14;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(x.nlen=257+(31&R),R>>>=5,F-=5,x.ndist=1+(31&R),R>>>=5,F-=5,x.ncode=4+(15&R),R>>>=4,F-=4,286<x.nlen||30<x.ndist){T.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;F<3;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}x.lens[$[x.have++]]=7&R,R>>>=3,F-=3}for(;x.have<19;)x.lens[$[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,L={bits:x.lenbits},j=u(0,x.lens,0,19,x.lencode,0,x.work,L),x.lenbits=L.bits,j){T.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;pe=(b=x.lencode[R&(1<<x.lenbits)-1])>>>16&255,Ne=65535&b,!((K=b>>>24)<=F);){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(Ne<16)R>>>=K,F-=K,x.lens[x.have++]=Ne;else{if(Ne===16){for(A=K+2;F<A;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(R>>>=K,F-=K,x.have===0){T.msg="invalid bit length repeat",x.mode=30;break}w=x.lens[x.have-1],G=3+(3&R),R>>>=2,F-=2}else if(Ne===17){for(A=K+3;F<A;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}F-=K,w=0,G=3+(7&(R>>>=K)),R>>>=3,F-=3}else{for(A=K+7;F<A;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}F-=K,w=0,G=11+(127&(R>>>=K)),R>>>=7,F-=7}if(x.have+G>x.nlen+x.ndist){T.msg="invalid bit length repeat",x.mode=30;break}for(;G--;)x.lens[x.have++]=w}}if(x.mode===30)break;if(x.lens[256]===0){T.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,L={bits:x.lenbits},j=u(c,x.lens,0,x.nlen,x.lencode,0,x.work,L),x.lenbits=L.bits,j){T.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,L={bits:x.distbits},j=u(h,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,L),x.distbits=L.bits,j){T.msg="invalid distances set",x.mode=30;break}if(x.mode=20,P===6)break e;case 20:x.mode=21;case 21:if(6<=z&&258<=H){T.next_out=q,T.avail_out=H,T.next_in=U,T.avail_in=z,x.hold=R,x.bits=F,l(T,J),q=T.next_out,Q=T.output,H=T.avail_out,U=T.next_in,B=T.input,z=T.avail_in,R=x.hold,F=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;pe=(b=x.lencode[R&(1<<x.lenbits)-1])>>>16&255,Ne=65535&b,!((K=b>>>24)<=F);){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(pe&&!(240&pe)){for(ye=K,He=pe,tt=Ne;pe=(b=x.lencode[tt+((R&(1<<ye+He)-1)>>ye)])>>>16&255,Ne=65535&b,!(ye+(K=b>>>24)<=F);){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}R>>>=ye,F-=ye,x.back+=ye}if(R>>>=K,F-=K,x.back+=K,x.length=Ne,pe===0){x.mode=26;break}if(32&pe){x.back=-1,x.mode=12;break}if(64&pe){T.msg="invalid literal/length code",x.mode=30;break}x.extra=15&pe,x.mode=22;case 22:if(x.extra){for(A=x.extra;F<A;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}x.length+=R&(1<<x.extra)-1,R>>>=x.extra,F-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;pe=(b=x.distcode[R&(1<<x.distbits)-1])>>>16&255,Ne=65535&b,!((K=b>>>24)<=F);){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(!(240&pe)){for(ye=K,He=pe,tt=Ne;pe=(b=x.distcode[tt+((R&(1<<ye+He)-1)>>ye)])>>>16&255,Ne=65535&b,!(ye+(K=b>>>24)<=F);){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}R>>>=ye,F-=ye,x.back+=ye}if(R>>>=K,F-=K,x.back+=K,64&pe){T.msg="invalid distance code",x.mode=30;break}x.offset=Ne,x.extra=15&pe,x.mode=24;case 24:if(x.extra){for(A=x.extra;F<A;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}x.offset+=R&(1<<x.extra)-1,R>>>=x.extra,F-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){T.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(H===0)break e;if(G=J-H,x.offset>G){if((G=x.offset-G)>x.whave&&x.sane){T.msg="invalid distance too far back",x.mode=30;break}ie=G>x.wnext?(G-=x.wnext,x.wsize-G):x.wnext-G,G>x.length&&(G=x.length),fe=x.window}else fe=Q,ie=q-x.offset,G=x.length;for(H<G&&(G=H),H-=G,x.length-=G;Q[q++]=fe[ie++],--G;);x.length===0&&(x.mode=21);break;case 26:if(H===0)break e;Q[q++]=x.length,H--,x.mode=21;break;case 27:if(x.wrap){for(;F<32;){if(z===0)break e;z--,R|=B[U++]<<F,F+=8}if(J-=H,T.total_out+=J,x.total+=J,J&&(T.adler=x.check=x.flags?a(x.check,Q,J,q-J):o(x.check,Q,J,q-J)),J=H,(x.flags?R:d(R))!==x.check){T.msg="incorrect data check",x.mode=30;break}F=R=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;F<32;){if(z===0)break e;z--,R+=B[U++]<<F,F+=8}if(R!==(4294967295&x.total)){T.msg="incorrect length check",x.mode=30;break}F=R=0}x.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return f}return T.next_out=q,T.avail_out=H,T.next_in=U,T.avail_in=z,x.hold=R,x.bits=F,(x.wsize||J!==T.avail_out&&x.mode<30&&(x.mode<27||P!==4))&&V(T,T.output,T.next_out,J-T.avail_out)?(x.mode=31,-4):(ne-=T.avail_in,J-=T.avail_out,T.total_in+=ne,T.total_out+=J,x.total+=J,x.wrap&&J&&(T.adler=x.check=x.flags?a(x.check,Q,J,T.next_out-J):o(x.check,Q,J,T.next_out-J)),T.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(ne==0&&J===0||P===4)&&j===m&&(j=-5),j)},s.inflateEnd=function(T){if(!T||!T.state)return f;var P=T.state;return P.window&&(P.window=null),T.state=null,m},s.inflateGetHeader=function(T,P){var x;return T&&T.state&&2&(x=T.state).wrap?((x.head=P).done=!1,m):f},s.inflateSetDictionary=function(T,P){var x,B=P.length;return T&&T.state?(x=T.state).wrap!==0&&x.mode!==11?f:x.mode===11&&o(1,P,B,0)!==x.check?-3:V(T,P,B,B)?(x.mode=31,-4):(x.havedict=1,m):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,h,m,f,g,p,y,d){var _,v,S,k,E,C,N,I,D,V=d.bits,T=0,P=0,x=0,B=0,Q=0,U=0,q=0,z=0,H=0,R=0,F=null,ne=0,J=new i.Buf16(16),G=new i.Buf16(16),ie=null,fe=0;for(T=0;T<=15;T++)J[T]=0;for(P=0;P<f;P++)J[h[m+P]]++;for(Q=V,B=15;1<=B&&J[B]===0;B--);if(B<Q&&(Q=B),B===0)return g[p++]=20971520,g[p++]=20971520,d.bits=1,0;for(x=1;x<B&&J[x]===0;x++);for(Q<x&&(Q=x),T=z=1;T<=15;T++)if(z<<=1,(z-=J[T])<0)return-1;if(0<z&&(c===0||B!==1))return-1;for(G[1]=0,T=1;T<15;T++)G[T+1]=G[T]+J[T];for(P=0;P<f;P++)h[m+P]!==0&&(y[G[h[m+P]]++]=P);if(C=c===0?(F=ie=y,19):c===1?(F=o,ne-=257,ie=a,fe-=257,256):(F=l,ie=u,-1),T=x,E=p,q=P=R=0,S=-1,k=(H=1<<(U=Q))-1,c===1&&852<H||c===2&&592<H)return 1;for(;;){for(N=T-q,D=y[P]<C?(I=0,y[P]):y[P]>C?(I=ie[fe+y[P]],F[ne+y[P]]):(I=96,0),_=1<<T-q,x=v=1<<U;g[E+(R>>q)+(v-=_)]=N<<24|I<<16|D|0,v!==0;);for(_=1<<T-1;R&_;)_>>=1;if(_!==0?(R&=_-1,R+=_):R=0,P++,--J[T]==0){if(T===B)break;T=h[m+y[P]]}if(Q<T&&(R&k)!==S){for(q===0&&(q=Q),E+=x,z=1<<(U=T-q);U+q<B&&!((z-=J[U+q])<=0);)U++,z<<=1;if(H+=1<<U,c===1&&852<H||c===2&&592<H)return 1;g[S=R&k]=Q<<24|U<<16|E-p|0}}return R!==0&&(g[E+R]=T-q<<24|64<<16|0),d.bits=Q,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function l(b){for(var M=b.length;0<=--M;)b[M]=0}var u=0,c=29,h=256,m=h+1+c,f=30,g=19,p=2*m+1,y=15,d=16,_=7,v=256,S=16,k=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(m+2));l(V);var T=new Array(2*f);l(T);var P=new Array(512);l(P);var x=new Array(256);l(x);var B=new Array(c);l(B);var Q,U,q,z=new Array(f);function H(b,M,$,Z,W){this.static_tree=b,this.extra_bits=M,this.extra_base=$,this.elems=Z,this.max_length=W,this.has_stree=b&&b.length}function R(b,M){this.dyn_tree=b,this.max_code=0,this.stat_desc=M}function F(b){return b<256?P[b]:P[256+(b>>>7)]}function ne(b,M){b.pending_buf[b.pending++]=255&M,b.pending_buf[b.pending++]=M>>>8&255}function J(b,M,$){b.bi_valid>d-$?(b.bi_buf|=M<<b.bi_valid&65535,ne(b,b.bi_buf),b.bi_buf=M>>d-b.bi_valid,b.bi_valid+=$-d):(b.bi_buf|=M<<b.bi_valid&65535,b.bi_valid+=$)}function G(b,M,$){J(b,$[2*M],$[2*M+1])}function ie(b,M){for(var $=0;$|=1&b,b>>>=1,$<<=1,0<--M;);return $>>>1}function fe(b,M,$){var Z,W,Y=new Array(y+1),re=0;for(Z=1;Z<=y;Z++)Y[Z]=re=re+$[Z-1]<<1;for(W=0;W<=M;W++){var te=b[2*W+1];te!==0&&(b[2*W]=ie(Y[te]++,te))}}function K(b){var M;for(M=0;M<m;M++)b.dyn_ltree[2*M]=0;for(M=0;M<f;M++)b.dyn_dtree[2*M]=0;for(M=0;M<g;M++)b.bl_tree[2*M]=0;b.dyn_ltree[2*v]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function pe(b){8<b.bi_valid?ne(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Ne(b,M,$,Z){var W=2*M,Y=2*$;return b[W]<b[Y]||b[W]===b[Y]&&Z[M]<=Z[$]}function ye(b,M,$){for(var Z=b.heap[$],W=$<<1;W<=b.heap_len&&(W<b.heap_len&&Ne(M,b.heap[W+1],b.heap[W],b.depth)&&W++,!Ne(M,Z,b.heap[W],b.depth));)b.heap[$]=b.heap[W],$=W,W<<=1;b.heap[$]=Z}function He(b,M,$){var Z,W,Y,re,te=0;if(b.last_lit!==0)for(;Z=b.pending_buf[b.d_buf+2*te]<<8|b.pending_buf[b.d_buf+2*te+1],W=b.pending_buf[b.l_buf+te],te++,Z===0?G(b,W,M):(G(b,(Y=x[W])+h+1,M),(re=C[Y])!==0&&J(b,W-=B[Y],re),G(b,Y=F(--Z),$),(re=N[Y])!==0&&J(b,Z-=z[Y],re)),te<b.last_lit;);G(b,v,M)}function tt(b,M){var $,Z,W,Y=M.dyn_tree,re=M.stat_desc.static_tree,te=M.stat_desc.has_stree,ce=M.stat_desc.elems,Me=-1;for(b.heap_len=0,b.heap_max=p,$=0;$<ce;$++)Y[2*$]!==0?(b.heap[++b.heap_len]=Me=$,b.depth[$]=0):Y[2*$+1]=0;for(;b.heap_len<2;)Y[2*(W=b.heap[++b.heap_len]=Me<2?++Me:0)]=1,b.depth[W]=0,b.opt_len--,te&&(b.static_len-=re[2*W+1]);for(M.max_code=Me,$=b.heap_len>>1;1<=$;$--)ye(b,Y,$);for(W=ce;$=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ye(b,Y,1),Z=b.heap[1],b.heap[--b.heap_max]=$,b.heap[--b.heap_max]=Z,Y[2*W]=Y[2*$]+Y[2*Z],b.depth[W]=(b.depth[$]>=b.depth[Z]?b.depth[$]:b.depth[Z])+1,Y[2*$+1]=Y[2*Z+1]=W,b.heap[1]=W++,ye(b,Y,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(ge,Tt){var rn,Gt,Dn,We,Jn,si,Ft=Tt.dyn_tree,yo=Tt.max_code,ii=Tt.stat_desc.static_tree,vo=Tt.stat_desc.has_stree,oi=Tt.stat_desc.extra_bits,wo=Tt.stat_desc.extra_base,Rn=Tt.stat_desc.max_length,os=0;for(We=0;We<=y;We++)ge.bl_count[We]=0;for(Ft[2*ge.heap[ge.heap_max]+1]=0,rn=ge.heap_max+1;rn<p;rn++)Rn<(We=Ft[2*Ft[2*(Gt=ge.heap[rn])+1]+1]+1)&&(We=Rn,os++),Ft[2*Gt+1]=We,yo<Gt||(ge.bl_count[We]++,Jn=0,wo<=Gt&&(Jn=oi[Gt-wo]),si=Ft[2*Gt],ge.opt_len+=si*(We+Jn),vo&&(ge.static_len+=si*(ii[2*Gt+1]+Jn)));if(os!==0){do{for(We=Rn-1;ge.bl_count[We]===0;)We--;ge.bl_count[We]--,ge.bl_count[We+1]+=2,ge.bl_count[Rn]--,os-=2}while(0<os);for(We=Rn;We!==0;We--)for(Gt=ge.bl_count[We];Gt!==0;)yo<(Dn=ge.heap[--rn])||(Ft[2*Dn+1]!==We&&(ge.opt_len+=(We-Ft[2*Dn+1])*Ft[2*Dn],Ft[2*Dn+1]=We),Gt--)}}(b,M),fe(Y,Me,b.bl_count)}function w(b,M,$){var Z,W,Y=-1,re=M[1],te=0,ce=7,Me=4;for(re===0&&(ce=138,Me=3),M[2*($+1)+1]=65535,Z=0;Z<=$;Z++)W=re,re=M[2*(Z+1)+1],++te<ce&&W===re||(te<Me?b.bl_tree[2*W]+=te:W!==0?(W!==Y&&b.bl_tree[2*W]++,b.bl_tree[2*S]++):te<=10?b.bl_tree[2*k]++:b.bl_tree[2*E]++,Y=W,Me=(te=0)===re?(ce=138,3):W===re?(ce=6,3):(ce=7,4))}function j(b,M,$){var Z,W,Y=-1,re=M[1],te=0,ce=7,Me=4;for(re===0&&(ce=138,Me=3),Z=0;Z<=$;Z++)if(W=re,re=M[2*(Z+1)+1],!(++te<ce&&W===re)){if(te<Me)for(;G(b,W,b.bl_tree),--te!=0;);else W!==0?(W!==Y&&(G(b,W,b.bl_tree),te--),G(b,S,b.bl_tree),J(b,te-3,2)):te<=10?(G(b,k,b.bl_tree),J(b,te-3,3)):(G(b,E,b.bl_tree),J(b,te-11,7));Y=W,Me=(te=0)===re?(ce=138,3):W===re?(ce=6,3):(ce=7,4)}}l(z);var L=!1;function A(b,M,$,Z){J(b,(u<<1)+(Z?1:0),3),function(W,Y,re,te){pe(W),ne(W,re),ne(W,~re),i.arraySet(W.pending_buf,W.window,Y,re,W.pending),W.pending+=re}(b,M,$)}s._tr_init=function(b){L||(function(){var M,$,Z,W,Y,re=new Array(y+1);for(W=Z=0;W<c-1;W++)for(B[W]=Z,M=0;M<1<<C[W];M++)x[Z++]=W;for(x[Z-1]=W,W=Y=0;W<16;W++)for(z[W]=Y,M=0;M<1<<N[W];M++)P[Y++]=W;for(Y>>=7;W<f;W++)for(z[W]=Y<<7,M=0;M<1<<N[W]-7;M++)P[256+Y++]=W;for($=0;$<=y;$++)re[$]=0;for(M=0;M<=143;)V[2*M+1]=8,M++,re[8]++;for(;M<=255;)V[2*M+1]=9,M++,re[9]++;for(;M<=279;)V[2*M+1]=7,M++,re[7]++;for(;M<=287;)V[2*M+1]=8,M++,re[8]++;for(fe(V,m+1,re),M=0;M<f;M++)T[2*M+1]=5,T[2*M]=ie(M,5);Q=new H(V,C,h+1,m,y),U=new H(T,N,0,f,y),q=new H(new Array(0),I,0,g,_)}(),L=!0),b.l_desc=new R(b.dyn_ltree,Q),b.d_desc=new R(b.dyn_dtree,U),b.bl_desc=new R(b.bl_tree,q),b.bi_buf=0,b.bi_valid=0,K(b)},s._tr_stored_block=A,s._tr_flush_block=function(b,M,$,Z){var W,Y,re=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(te){var ce,Me=4093624447;for(ce=0;ce<=31;ce++,Me>>>=1)if(1&Me&&te.dyn_ltree[2*ce]!==0)return o;if(te.dyn_ltree[18]!==0||te.dyn_ltree[20]!==0||te.dyn_ltree[26]!==0)return a;for(ce=32;ce<h;ce++)if(te.dyn_ltree[2*ce]!==0)return a;return o}(b)),tt(b,b.l_desc),tt(b,b.d_desc),re=function(te){var ce;for(w(te,te.dyn_ltree,te.l_desc.max_code),w(te,te.dyn_dtree,te.d_desc.max_code),tt(te,te.bl_desc),ce=g-1;3<=ce&&te.bl_tree[2*D[ce]+1]===0;ce--);return te.opt_len+=3*(ce+1)+5+5+4,ce}(b),W=b.opt_len+3+7>>>3,(Y=b.static_len+3+7>>>3)<=W&&(W=Y)):W=Y=$+5,$+4<=W&&M!==-1?A(b,M,$,Z):b.strategy===4||Y===W?(J(b,2+(Z?1:0),3),He(b,V,T)):(J(b,4+(Z?1:0),3),function(te,ce,Me,ge){var Tt;for(J(te,ce-257,5),J(te,Me-1,5),J(te,ge-4,4),Tt=0;Tt<ge;Tt++)J(te,te.bl_tree[2*D[Tt]+1],3);j(te,te.dyn_ltree,ce-1),j(te,te.dyn_dtree,Me-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,re+1),He(b,b.dyn_ltree,b.dyn_dtree)),K(b),Z&&pe(b)},s._tr_tally=function(b,M,$){return b.pending_buf[b.d_buf+2*b.last_lit]=M>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&M,b.pending_buf[b.l_buf+b.last_lit]=255&$,b.last_lit++,M===0?b.dyn_ltree[2*$]++:(b.matches++,M--,b.dyn_ltree[2*(x[$]+h+1)]++,b.dyn_dtree[2*F(M)]++),b.last_lit===b.lit_bufsize-1},s._tr_align=function(b){J(b,2,3),G(b,v,V),function(M){M.bi_valid===16?(ne(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var l,u,c,h,m=1,f={},g=!1,p=o.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(o);y=y&&y.setTimeout?y:o,l={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){_(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,k=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=k,S}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",v,!1):o.attachEvent("onmessage",v),function(S){o.postMessage(h+S,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(S){_(S.data)},function(S){c.port2.postMessage(S)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(S){var k=p.createElement("script");k.onreadystatechange=function(){_(S),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(S){setTimeout(_,0,S)},y.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var k=new Array(arguments.length-1),E=0;E<k.length;E++)k[E]=arguments[E+1];var C={callback:S,args:k};return f[m]=C,l(m),m++},y.clearImmediate=d}function d(S){delete f[S]}function _(S){if(g)setTimeout(_,0,S);else{var k=f[S];if(k){g=!0;try{(function(E){var C=E.callback,N=E.args;switch(N.length){case 0:C();break;case 1:C(N[0]);break;case 2:C(N[0],N[1]);break;case 3:C(N[0],N[1],N[2]);break;default:C.apply(a,N)}})(k)}finally{d(S),g=!1}}}}function v(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(h)===0&&_(+S.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(xg);var Fv=xg.exports;const jv=ap(Fv);function zv({renderFrame:t,getAudioStream:e}){const[n,r]=se.useState(10),[s,i]=se.useState(10),[o,a]=se.useState(!1),l=async()=>{if(!o){a(!0);try{const h=document.createElement("canvas");h.width=1024,h.height=1024;const m=h.getContext("2d",{willReadFrequently:!0}),f=Math.max(1,Math.floor(n*s)),g=new jv,p=e();let y=[],d=null;p&&(d=new MediaRecorder(p,{mimeType:"audio/webm"}),d.ondataavailable=k=>{k.data.size>0&&y.push(k.data)},d.start());for(let k=0;k<f;k++){const E=k/s;t(m,1024,1024,performance.now()/1e3+E);const C=await new Promise(N=>h.toBlob(I=>N(I),"image/png"));g.file(`frame_${String(k).padStart(5,"0")}.png`,C),await new Promise(N=>setTimeout(N,0))}if(d){await new Promise(E=>{d.onstop=()=>E(),d.stop()});const k=new Blob(y,{type:"audio/webm"});g.file("audio.webm",k)}const _=await g.generateAsync({type:"blob"}),v=URL.createObjectURL(_),S=document.createElement("a");S.href=v,S.download="WebAff_Offline.zip",S.click()}finally{a(!1)}}};return O.jsxs("div",{style:{marginTop:"1rem",padding:"0.5rem",border:"1px solid #444"},children:[O.jsx("h3",{children:"Offline Render (PNG+Audio)"}),O.jsxs("label",{children:["Durata (s): ",n]}),O.jsx("input",{type:"range",min:1,max:600,step:1,value:n,onChange:u=>r(parseInt(u.target.value,10))}),O.jsxs("label",{children:["FPS: ",s]}),O.jsx("input",{type:"range",min:1,max:60,step:1,value:s,onChange:u=>i(parseInt(u.target.value,10))}),O.jsx("div",{style:{marginTop:"0.5rem"},children:O.jsx("button",{disabled:o,onClick:l,children:o?"Rendering...":"Render Offline"})})]})}const xi=(t,e,n)=>t<e?e:t>n?n:t,wf=(t,e,n)=>(t-e)/(n-e),Lv=t=>120-120*xi(t,0,1),xf=t=>t-90,kr=({value:t,min:e=0,max:n=100,step:r=1,defaultValue:s,onChange:i,label:o,sizePx:a=96,format:l,ticks:u=12,preventContextMenu:c=!0,sensitivity:h=150,sweepStartDeg:m=-120,sweepEndDeg:f=120,modValue:g,showModArc:p=!0})=>{const y=se.useRef(null),d=se.useRef(null),_=xi(wf(t,e,n),0,1),S=`hsl(${Lv(_)} 100% 50%)`,k=g!==void 0,E=k?xi(wf(g,e,n),0,1):0,C=se.useCallback(b=>{const M=xi(b,e,n),$=Math.round((M-e)/r)*r+e;return xi($,e,n)},[e,n,r]),N=b=>{b.preventDefault(),d.current={startY:b.clientY,startX:b.clientX,startVal:t},window.addEventListener("mousemove",I),window.addEventListener("mouseup",D,{once:!0})},I=b=>{const M=d.current;if(!M)return;const $=M.startY-b.clientY,Z=b.clientX-M.startX,W=$+Z*.25,Y=n-e,re=M.startVal+W/h*Y;i(C(re))},D=b=>{d.current=null,window.removeEventListener("mousemove",I)};se.useEffect(()=>()=>window.removeEventListener("mousemove",I),[]);const V=b=>{b.preventDefault();let M=b.deltaY>0?-r:r;b.shiftKey&&(M/=10),b.altKey&&(M*=10),i(C(t+M))},T=()=>{i(C(s!==void 0?s:e))},P=b=>{if(!c)return;b.preventDefault();const M=window.prompt("Immetti valore:",String(t));if(M===null)return;const $=parseFloat(M);Number.isNaN($)||i(C($))},x=l?l(t):String(t),B={width:a,height:a,position:"relative",cursor:"ns-resize"},Q={position:"absolute",inset:0,borderRadius:"50%",background:"#1a1a1a",boxShadow:"0 0 6px rgba(0,0,0,.8) inset,0 0 4px rgba(0,0,0,.9)",border:"2px solid #666"},U=Math.round(a*.1),q={position:"absolute",inset:U,borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, #2b2b2b 0%, #1a1a1a 60%, #000 100%)"},z=m+(f-m)*_,R={position:"absolute",top:"50%",left:"50%",width:2,height:a/2-U-6,background:"#fff",borderRadius:2,transform:`translate(-50%,-100%) rotate(${z}deg)`,transformOrigin:"50% 100%"},F={position:"absolute",inset:0,borderRadius:"50%",background:"linear-gradient(135deg, rgba(255,255,255,.12) 0%, rgba(255,255,255,0) 60%)",pointerEvents:"none"},ne=a,J=4,G=ne/2,ie=G-J/2,fe=f-m,K=xf(m),pe=fe*_,Ne=K+pe,ye=pe>180?1:0,He=Wo(G,G,ie,K),tt=Wo(G,G,ie,Ne),w=`M ${He.x} ${He.y} A ${ie} ${ie} 0 ${ye} 1 ${tt.x} ${tt.y}`;let j,L=0;if(k&&p){const b=fe*E,M=K+b;L=b>180?1:0;const $=Wo(G,G,ie,K),Z=Wo(G,G,ie,M);j=`M ${$.x} ${$.y} A ${ie} ${ie} 0 ${L} 1 ${Z.x} ${Z.y}`}const A=[];if(u>0)for(let b=0;b<=u;b++){const M=b/u,$=xf(m+fe*M),Z=G+Math.cos($*Math.PI/180)*ie,W=G+Math.sin($*Math.PI/180)*ie,Y=G+Math.cos($*Math.PI/180)*(ie-4),re=G+Math.sin($*Math.PI/180)*(ie-4);A.push(O.jsx("line",{x1:Z,y1:W,x2:Y,y2:re,stroke:"#555",strokeWidth:1,strokeLinecap:"round"},b))}return O.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,userSelect:"none"},onContextMenu:P,children:[O.jsxs("div",{ref:y,style:B,onMouseDown:N,onDoubleClick:T,onWheel:V,children:[O.jsx("div",{style:Q}),O.jsx("div",{style:q}),O.jsxs("svg",{width:ne,height:ne,style:{position:"absolute",inset:0,pointerEvents:"none"},children:[A,k&&p&&O.jsx("path",{d:j,stroke:"hsl(190 100% 60% / .6)",strokeWidth:J,fill:"none",strokeLinecap:"round"}),_>0&&O.jsx("path",{d:w,stroke:S,strokeWidth:J,fill:"none",strokeLinecap:"round"})]}),O.jsx("div",{style:R}),O.jsx("div",{style:F})]}),o!==void 0&&O.jsxs("div",{style:{textAlign:"center",lineHeight:1.15},children:[O.jsx("div",{style:{fontSize:12,color:"#ccc"},children:o}),O.jsx("div",{style:{fontSize:12,color:"#fff"},children:x})]})]})};function Wo(t,e,n,r){const s=r*Math.PI/180;return{x:t+Math.cos(s)*n,y:e+Math.sin(s)*n}}const kf={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",emerald:"from-emerald-500 to-emerald-600",orange:"from-orange-500 to-orange-600",pink:"from-pink-500 to-pink-600"};function mh({value:t,min:e=0,max:n=100,step:r=1,onChange:s,label:i,vertical:o=!1,color:a="blue",format:l}){const u=(t-e)/(n-e)*100,c=l?l(t):t;return O.jsxs("div",{className:`flex ${o?"flex-col h-32":"flex-row"} items-center gap-3 w-full`,children:[!o&&i&&O.jsx("div",{className:"text-xs text-gray-400 font-medium min-w-fit",children:i}),O.jsxs("div",{className:`relative ${o?"w-2 flex-1":"flex-1 h-2"} bg-gray-700 rounded-full`,children:[O.jsx("div",{className:`absolute ${kf[a]} rounded-full transition-all duration-150 ${o?"bottom-0 left-0 right-0":"top-0 left-0 bottom-0"}`,style:o?{height:`${u}%`}:{width:`${u}%`}}),O.jsx("input",{type:"range",min:e,max:n,step:r,value:t,onChange:h=>s(parseFloat(h.target.value)),className:"absolute inset-0 opacity-0 cursor-pointer","aria-label":typeof i=="string"?i:void 0}),O.jsx("div",{className:`absolute w-4 h-4 ${kf[a]} rounded-full border-2 border-white shadow-lg transition-all duration-150 pointer-events-none`,style:o?{left:"50%",bottom:`${u}%`,transform:"translate(-50%,50%)"}:{top:"50%",left:`${u}%`,transform:"translate(-50%,-50%)"}})]}),o&&i&&O.jsx("div",{className:"text-xs text-gray-400 font-medium text-center",children:i}),!o&&O.jsx("div",{className:"text-xs text-gray-300 min-w-fit",children:c})]})}function Vv({freq:t,mix:e,wave:n,order:r,maxOrder:s,onFreqChange:i,onMixChange:o,onWaveChange:a,onOrderChange:l,modFreq:u}){return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(Mv,{className:"w-3.5 h-3.5 text-orange-400"}),"Ring Mod"]}),accent:"fx",children:[O.jsx("div",{className:"mb-3 flex justify-center",children:O.jsx(kr,{label:"Freq",value:t,min:1,max:2e3,step:1,defaultValue:440,onChange:i,sizePx:96,ticks:12,sweepStartDeg:-120,sweepEndDeg:120,format:c=>`${Math.round(c)}Hz`,modValue:u})}),O.jsx("div",{className:"mb-3",children:O.jsx(mh,{label:"Mix",value:e,min:0,max:1,step:.01,onChange:o,color:"purple",format:c=>c.toFixed(2)})}),O.jsxs("div",{className:"mt-2 mb-3",children:[O.jsx("label",{className:"text-xs opacity-80 block mb-1",children:"Wave"}),O.jsxs("select",{className:"bg-gray-700 text-xs p-1 rounded w-full",value:n,onChange:c=>a(c.target.value),children:[O.jsx("option",{value:"sine",children:"Sine"}),O.jsx("option",{value:"square",children:"Square"}),O.jsx("option",{value:"saw",children:"Saw"}),O.jsx("option",{value:"tri",children:"Tri"})]})]}),O.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[O.jsx("span",{children:"Chain Pos"}),O.jsx("input",{type:"number",min:1,max:s,value:r,onChange:c=>l(Number(c.target.value)),className:"w-16 bg-gray-700 text-xs p-1 rounded"}),O.jsxs("span",{children:["/ ",s]})]})]})}function Bv({value:t,mix:e,order:n,maxOrder:r,onChange:s,onMixChange:i,onOrderChange:o,modScale:a}){return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(kv,{className:"w-3.5 h-3.5 text-cyan-400"}),"Pixelate"]}),accent:"img",children:[O.jsx("div",{className:"mb-3 flex justify-center",children:O.jsx(kr,{label:"Size",value:t,min:1,max:256,step:1,defaultValue:4,onChange:s,sizePx:96,ticks:8,sweepStartDeg:-120,sweepEndDeg:120,format:l=>`${Math.round(l)}`,modValue:a})}),O.jsx("div",{className:"mb-3",children:O.jsx(mh,{label:"Mix",value:e,min:0,max:1,step:.01,onChange:i,color:"cyan",format:l=>l.toFixed(2)})}),O.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[O.jsx("span",{children:"Chain Pos"}),O.jsx("input",{type:"number",min:1,max:r,value:n,onChange:l=>o(Number(l.target.value)),className:"w-16 bg-gray-700 text-xs p-1 rounded"}),O.jsxs("span",{children:["/ ",r]})]})]})}function Wv({time:t,mix:e,order:n,maxOrder:r,onChange:s,onMixChange:i,onOrderChange:o}){return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(Sv,{className:"w-3.5 h-3.5 text-emerald-400"}),"Delay"]}),accent:"fx",children:[O.jsx("div",{className:"mb-3 flex justify-center",children:O.jsx(kr,{label:"Time",value:t,min:0,max:1,step:.001,defaultValue:.2,onChange:s,sizePx:96,ticks:12,sweepStartDeg:-120,sweepEndDeg:120,format:a=>`${(a*1e3).toFixed(0)}ms`})}),O.jsx("div",{className:"mb-3",children:O.jsx(mh,{label:"Mix",value:e,min:0,max:1,step:.01,onChange:i,color:"emerald",format:a=>a.toFixed(2)})}),O.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[O.jsx("span",{children:"Chain Pos"}),O.jsx("input",{type:"number",min:1,max:r,value:n,onChange:a=>o(Number(a.target.value)),className:"w-16 bg-gray-700 text-xs p-1 rounded"}),O.jsxs("span",{children:["/ ",r]})]})]})}function Uv({value:t,order:e,maxOrder:n,onChange:r,onOrderChange:s}){return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(wg,{className:"w-3.5 h-3.5 text-pink-400"}),"Feedback"]}),accent:"fx",children:[O.jsx("div",{className:"mb-3 flex justify-center",children:O.jsx(kr,{label:"Amt",value:t,min:0,max:1,step:.001,defaultValue:0,onChange:r,sizePx:72,ticks:8,sweepStartDeg:-120,sweepEndDeg:120,format:i=>i.toFixed(2)})}),O.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[O.jsx("span",{children:"Chain Pos"}),O.jsx("input",{type:"number",min:1,max:n,value:e,onChange:i=>s(Number(i.target.value)),className:"w-16 bg-gray-700 text-xs p-1 rounded"}),O.jsxs("span",{children:["/ ",n]})]})]})}function qv({amount:t,onAmountChange:e}){return O.jsx(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(xv,{className:"w-3.5 h-3.5 text-yellow-300"}),"Edge Boost"]}),accent:"img",children:O.jsx("div",{className:"flex justify-center",children:O.jsx(kr,{label:"Amt",value:t,min:0,max:1,step:.001,defaultValue:0,onChange:e,sizePx:72,ticks:8,sweepStartDeg:-120,sweepEndDeg:120,format:n=>n.toFixed(2)})})})}function $v({levels:t,dither:e,onLevelsChange:n,onDitherChange:r}){const s=Math.max(2,Math.min(32,Math.round(t||0)));return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(bv,{className:"w-3.5 h-3.5 text-fuchsia-300"}),"Posterize"]}),accent:"img",children:[O.jsx("div",{className:"mb-3 flex justify-center",children:O.jsx(kr,{label:"Levels",value:s,min:2,max:32,step:1,defaultValue:8,onChange:i=>n(Math.round(i)),sizePx:72,ticks:6,sweepStartDeg:-120,sweepEndDeg:120,format:i=>`${Math.round(i)}`})}),O.jsxs("label",{className:"text-xs flex items-center gap-2",children:[O.jsx("input",{type:"checkbox",checked:e,onChange:i=>r(i.target.checked)}),"Dither"]})]})}function Gv({scale:t,depth:e,onScaleChange:n,onDepthChange:r}){return O.jsx(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(Nv,{className:"w-3.5 h-3.5 text-indigo-300"}),"Fractal Warp"]}),accent:"fx",children:O.jsxs("div",{className:"mb-3 flex justify-center gap-4",children:[O.jsx(kr,{label:"Scale",value:t,min:0,max:1,step:.001,defaultValue:.3,onChange:n,sizePx:72,ticks:8,sweepStartDeg:-120,sweepEndDeg:120,format:s=>s.toFixed(2)}),O.jsx(kr,{label:"Depth",value:e,min:0,max:1,step:.001,defaultValue:0,onChange:r,sizePx:72,ticks:8,sweepStartDeg:-120,sweepEndDeg:120,format:s=>s.toFixed(2)})]})})}function Hv({contrast:t,threshold:e,gamma:n,preserve:r,onContrastChange:s,onThresholdChange:i,onGammaChange:o,onPreserveChange:a,onNewSquares:l,className:u}){const c=g=>s(Number(g.target.value)),h=g=>i(Number(g.target.value)),m=g=>o(Number(g.target.value)),f=g=>a(g.target.checked);return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(Cv,{className:"w-3.5 h-3.5 text-cyan-400"}),"Global Image"]}),accent:"img",className:u,titleSize:"lg",children:[O.jsxs("div",{className:"mb-3",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Contrast: ",O.jsx("span",{className:"font-mono opacity-100",children:t.toFixed(2)})]}),O.jsx("input",{type:"range",min:0,max:3,step:.01,value:t,onChange:c,className:"w-full accent-cyan-400"})]}),O.jsxs("div",{className:"mb-3",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Threshold: ",O.jsx("span",{className:"font-mono opacity-100",children:e.toFixed(2)})]}),O.jsx("input",{type:"range",min:0,max:1,step:.01,value:e,onChange:h,className:"w-full accent-cyan-400"})]}),O.jsxs("div",{className:"mb-3",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Gamma: ",O.jsx("span",{className:"font-mono opacity-100",children:n.toFixed(2)})]}),O.jsx("input",{type:"range",min:.1,max:4,step:.01,value:n,onChange:m,className:"w-full accent-cyan-400"})]}),O.jsxs("label",{className:"text-xs opacity-80 flex items-center gap-2 mb-3 select-none",children:[O.jsx("input",{type:"checkbox",checked:r,onChange:f}),"Preserve Bright"]}),O.jsxs("button",{type:"button",onClick:l,className:"mt-1 inline-flex items-center gap-1 px-2 py-1 rounded bg-gray-600 hover:bg-gray-500 text-xs",children:[O.jsx(wg,{className:"w-3 h-3"}),"New Squares"]})]})}function Zv({low:t,mid:e,high:n,volume:r,gateThresh:s,gateRelease:i,gateOpen:o,gateLevel:a,fadeDur:l,onLowChange:u,onMidChange:c,onHighChange:h,onVolumeChange:m,onGateThreshChange:f,onGateReleaseChange:g,onFadeDurChange:p,onFadeIn:y,onFadeOut:d,className:_}){const v=V=>u(Number(V.target.value)),S=V=>c(Number(V.target.value)),k=V=>h(Number(V.target.value)),E=V=>m(Number(V.target.value)),C=V=>f(Number(V.target.value)),N=V=>g(Number(V.target.value)),I=V=>p(Number(V.target.value)),D=(Math.max(-100,Math.min(0,a))- -100)/100;return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(Av,{className:"w-3.5 h-3.5 text-amber-400"}),"Master / EQ"]}),accent:"master",className:_,titleSize:"xl",children:[O.jsxs("div",{className:"mb-4",children:[O.jsx("h4",{className:"text-xs uppercase opacity-70 mb-2",children:"EQ"}),O.jsxs("div",{className:"mb-2",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Low: ",O.jsxs("span",{className:"font-mono opacity-100",children:[t.toFixed(1)," dB"]})]}),O.jsx("input",{type:"range",min:-24,max:24,step:.1,value:t,onChange:v,className:"w-full accent-amber-400"})]}),O.jsxs("div",{className:"mb-2",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Mid: ",O.jsxs("span",{className:"font-mono opacity-100",children:[e.toFixed(1)," dB"]})]}),O.jsx("input",{type:"range",min:-24,max:24,step:.1,value:e,onChange:S,className:"w-full accent-amber-400"})]}),O.jsxs("div",{className:"mb-3",children:[O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["High: ",O.jsxs("span",{className:"font-mono opacity-100",children:[n.toFixed(1)," dB"]})]}),O.jsx("input",{type:"range",min:-24,max:24,step:.1,value:n,onChange:k,className:"w-full accent-amber-400"})]})]}),O.jsxs("div",{className:"mb-4",children:[O.jsx("h4",{className:"text-xs uppercase opacity-70 mb-2",children:"Master Volume"}),O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:[r.toFixed(1)," dB"]}),O.jsx("input",{type:"range",min:-60,max:0,step:.1,value:r,onChange:E,className:"w-full accent-amber-400"})]}),O.jsxs("div",{className:"mb-4",children:[O.jsx("h4",{className:"text-xs uppercase opacity-70 mb-2",children:"Noise Gate"}),O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Threshold: ",O.jsxs("span",{className:"font-mono opacity-100",children:[s.toFixed(0)," dB"]})]}),O.jsx("input",{type:"range",min:-100,max:0,step:1,value:s,onChange:C,className:"w-full accent-amber-400 mb-2"}),O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Release: ",O.jsxs("span",{className:"font-mono opacity-100",children:[i.toFixed(2),"s"]})]}),O.jsx("input",{type:"range",min:0,max:2,step:.01,value:i,onChange:N,className:"w-full accent-amber-400 mb-2"}),O.jsx("div",{className:"h-2 w-full bg-gray-700 rounded overflow-hidden mb-1",children:O.jsx("div",{className:`h-full ${o?"bg-green-500":"bg-red-500"}`,style:{width:`${(D*100).toFixed(1)}%`}})}),O.jsxs("div",{className:"text-[10px] opacity-60 font-mono text-right",children:[a===-1/0?"-inf":a.toFixed(1)," dB"]})]}),O.jsxs("div",{className:"mb-2",children:[O.jsx("h4",{className:"text-xs uppercase opacity-70 mb-2",children:"Fade"}),O.jsxs("label",{className:"text-xs opacity-80 block mb-1",children:["Duration: ",O.jsxs("span",{className:"font-mono opacity-100",children:[l.toFixed(1),"s"]})]}),O.jsx("input",{type:"range",min:0,max:10,step:.1,value:l,onChange:I,className:"w-full accent-amber-400 mb-2"}),O.jsxs("div",{className:"flex gap-2",children:[O.jsxs("button",{type:"button",onClick:y,className:"flex-1 inline-flex items-center justify-center gap-1 px-2 py-1 rounded bg-green-600 hover:bg-green-500 text-[11px]",children:[O.jsx(Ev,{className:"w-3 h-3"}),"Fade In"]}),O.jsxs("button",{type:"button",onClick:d,className:"flex-1 inline-flex items-center justify-center gap-1 px-2 py-1 rounded bg-red-600 hover:bg-red-500 text-[11px]",children:[O.jsx(Ov,{className:"w-3 h-3"}),"Fade Out"]})]})]})]})}function Qv({enabled:t,setEnabled:e,mode:n,setMode:r,voiceCount:s,setVoiceCount:i,voices:o,onVoiceChange:a,align:l,setAlign:u,className:c}){const h=(p,y)=>a(p,{enabled:y}),m=(p,y)=>a(p,{semitones:y}),f=(p,y)=>a(p,{mix:y}),g=[];for(let p=0;p<s;p++){const y=o[p]??{enabled:!1,semitones:0,mix:.5};g.push(O.jsx(Xv,{index:p,cfg:y,onEnabled:d=>h(p,d),onSemitones:d=>m(p,d),onMix:d=>f(p,d)},p))}return O.jsxs(yn,{title:O.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.jsx(Tv,{className:"w-3.5 h-3.5 text-lime-400"}),"Harmonizer"]}),accent:"mod",className:c,titleSize:"lg",children:[O.jsxs("label",{className:"text-xs opacity-80 flex items-center gap-2 mb-3 select-none",children:[O.jsx("input",{type:"checkbox",checked:t,onChange:p=>e(p.target.checked)}),"Enabled"]}),O.jsxs("div",{className:"flex gap-2 mb-3 text-xs",children:[O.jsxs("div",{className:"flex-1",children:[O.jsx("label",{className:"opacity-80 block mb-1",children:"Mode"}),O.jsxs("select",{value:n,onChange:p=>r(p.target.value),className:"bg-gray-700 text-xs p-1 rounded w-full",children:[O.jsx("option",{value:"intervals",children:"Intervals"}),O.jsx("option",{value:"chord",children:"Chord"})]})]}),O.jsxs("div",{className:"w-20",children:[O.jsx("label",{className:"opacity-80 block mb-1",children:"Voices"}),O.jsx("input",{type:"number",min:1,max:3,value:s,onChange:p=>i(Number(p.target.value)),className:"bg-gray-700 text-xs p-1 rounded w-full text-center"})]})]}),O.jsxs("label",{className:"text-xs opacity-80 flex items-center gap-2 mb-4 select-none",children:[O.jsx("input",{type:"checkbox",checked:l,onChange:p=>u(p.target.checked)}),"Align Playback Position"]}),O.jsx("div",{className:"space-y-3",children:g})]})}function Xv({index:t,cfg:e,onEnabled:n,onSemitones:r,onMix:s}){const{enabled:i,semitones:o,mix:a}=e,l=h=>r(Number(h.target.value)),u=h=>r(Number(h.target.value)),c=h=>s(Number(h.target.value));return O.jsxs("div",{className:"p-2 rounded bg-black/40 border border-lime-500/20",children:[O.jsx("div",{className:"flex items-center gap-2 mb-2",children:O.jsxs("label",{className:"text-xs opacity-80 flex items-center gap-2 select-none",children:[O.jsx("input",{type:"checkbox",checked:i,onChange:h=>n(h.target.checked)}),"V",t+1]})}),O.jsxs("div",{className:"mb-2",children:[O.jsxs("label",{className:"text-[11px] opacity-80 block mb-1",children:["Semitones: ",O.jsx("span",{className:"font-mono opacity-100",children:o})]}),O.jsx("input",{type:"range",min:-24,max:24,step:1,value:o,onChange:l,className:"w-full accent-lime-400"}),O.jsx("input",{type:"number",min:-24,max:24,step:1,value:o,onChange:u,className:"mt-1 w-16 bg-gray-700 text-xs p-1 rounded text-center"})]}),O.jsxs("div",{children:[O.jsxs("label",{className:"text-[11px] opacity-80 block mb-1",children:["Mix: ",O.jsx("span",{className:"font-mono opacity-100",children:a.toFixed(2)})]}),O.jsx("input",{type:"range",min:0,max:1,step:.01,value:a,onChange:c,className:"w-full accent-lime-400"})]})]})}const hu=[{label:"Auto (vp9/opus)",value:"video/webm;codecs=vp9,opus"},{label:"vp8/vorbis",value:"video/webm;codecs=vp8,vorbis"},{label:"webm (browser default)",value:"video/webm"},{label:"raw default",value:""}];function Yv({canvasRef:t,getAudioStream:e}){const[n,r]=se.useState(60),[s,i]=se.useState(!1),[o,a]=se.useState(hu[0].value),l=se.useRef(null),u=se.useRef([]),c=se.useRef(),h=()=>{if(o&&MediaRecorder.isTypeSupported(o))return o;for(const y of hu)if(y.value&&MediaRecorder.isTypeSupported(y.value))return y.value;return""},m=()=>{if(s)return;const y=t.current;if(!y)return;const _=y.captureStream(30),v=e();if(v){const S=new MediaStream;_.getVideoTracks().forEach(k=>S.addTrack(k)),v.getAudioTracks().forEach(k=>S.addTrack(k)),f(S)}else f(_)},f=y=>{u.current=[];const d=h(),_=d?{mimeType:d}:{},v=new MediaRecorder(y,_);l.current=v,v.ondataavailable=S=>{S.data.size>0&&u.current.push(S.data)},v.onstop=p,v.start(),i(!0),c.current=window.setTimeout(g,n*1e3)},g=()=>{if(!s)return;const y=l.current;y&&(y.stop(),i(!1),c.current!==void 0&&(clearTimeout(c.current),c.current=void 0))},p=()=>{const y=new Blob(u.current,{type:"video/webm"}),d=URL.createObjectURL(y),_=document.createElement("a");_.href=d,_.download="WebAff_Capture.webm",_.click()};return O.jsxs("div",{style:{marginTop:"1rem",padding:"0.5rem",border:"1px solid #444"},children:[O.jsx("h3",{children:"Record (A/V)"}),O.jsxs("label",{children:["Durata (s): ",n]}),O.jsx("input",{type:"range",min:1,max:600,step:1,value:n,onChange:y=>r(parseInt(y.target.value,10))}),O.jsxs("div",{style:{marginTop:"0.25rem"},children:[O.jsx("label",{children:"Codec: "}),O.jsx("select",{value:o,onChange:y=>a(y.target.value),children:hu.map(y=>O.jsx("option",{value:y.value,children:y.label},y.value))})]}),O.jsx("div",{style:{marginTop:"0.5rem"},children:s?O.jsx("button",{onClick:g,children:"Stop"}):O.jsx("button",{onClick:m,children:"Rec"})})]})}const kg="15.1.22",Sf=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Cf=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),hc=(t,e)=>({startTime:e,type:"setValue",value:t}),Sg=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Cg=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Cs=t=>t.type==="exponentialRampToValue",Ra=t=>t.type==="linearRampToValue",ir=t=>Cs(t)||Ra(t),gh=t=>t.type==="setValue",jn=t=>t.type==="setValueCurve",Pa=(t,e,n,r)=>{const s=t[e];return s===void 0?r:ir(s)||gh(s)?s.value:jn(s)?s.values[s.values.length-1]:Cg(n,Pa(t,e-1,s.startTime,r),s)},Tf=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:ir(n)?[n.endTime,n.value]:gh(n)?[n.startTime,n.value]:jn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Pa(t,e-1,n.startTime,s)],dc=t=>t.type==="cancelAndHold",fc=t=>t.type==="cancelScheduledValues",nr=t=>dc(t)||fc(t)?t.cancelTime:Cs(t)||Ra(t)?t.endTime:t.startTime,bf=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,Ef=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),Kv=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},Jv=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return Kv(r,s)},Uo=t=>t.type==="setTarget";class e1{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=nr(e);if(dc(e)||fc(e)){const r=this._automationEvents.findIndex(i=>fc(e)&&jn(i)?i.startTime+i.duration>=n:nr(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),dc(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&ir(s)){if(i!==void 0&&Uo(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:jn(i)?i.startTime+i.duration:nr(i),a=i===void 0?this._defaultValue:jn(i)?i.values[i.values.length-1]:i.value,l=Cs(s)?bf(n,o,a,s):Ef(n,o,a,s),u=Cs(s)?Sf(l,n,this._currenTime):Cf(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&Uo(i)&&this._automationEvents.push(hc(this.getValue(n),n)),i!==void 0&&jn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const m=u*h%1;c[h]=i.values[h-1]*(1-m)+i.values[h]*m}this._automationEvents[this._automationEvents.length-1]=Sg(c,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>nr(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&jn(s)&&nr(s)+s.duration>n)return!1;const i=Cs(e)?Sf(e.value,e.endTime,this._currenTime):Ra(e)?Cf(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(jn(e)&&n+e.duration>nr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>nr(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];Uo(s)&&r.unshift(hc(Pa(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>nr(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&Uo(i)&&(r===void 0||!ir(r)||r.insertTime>e))return Cg(e,Pa(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&gh(i)&&(r===void 0||!ir(r)))return i.value;if(i!==void 0&&jn(i)&&(r===void 0||!ir(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Jv(e,i):i.values[i.values.length-1];if(i!==void 0&&ir(i)&&(r===void 0||!ir(r)))return i.value;if(r!==void 0&&Cs(r)){const[o,a]=Tf(this._automationEvents,s,i,r,this._defaultValue);return bf(e,o,a,r)}if(r!==void 0&&Ra(r)){const[o,a]=Tf(this._automationEvents,s,i,r,this._defaultValue);return Ef(e,o,a,r)}return this._defaultValue}}const t1=t=>({cancelTime:t,type:"cancelAndHold"}),n1=t=>({cancelTime:t,type:"cancelScheduledValues"}),r1=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),s1=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),i1=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),o1=()=>new DOMException("","AbortError"),a1=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},l1=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},u1=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Us=new WeakSet,Tg=new WeakMap,_h=new WeakMap,bg=new WeakMap,yh=new WeakMap,dl=new WeakMap,Eg=new WeakMap,pc=new WeakMap,mc=new WeakMap,gc=new WeakMap,Ng={construct(){return Ng}},c1=t=>{try{const e=new Proxy(t,Ng);new e}catch{return!1}return!0},Nf=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Af=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(Nf);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(Nf)}return[n.join(";"),r]},Of=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},If=t=>{if(!c1(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},h1=(t,e,n,r,s,i,o,a,l,u,c,h,m)=>{let f=0;return(g,p,y={credentials:"omit"})=>{const d=c.get(g);if(d!==void 0&&d.has(p))return Promise.resolve();const _=u.get(g);if(_!==void 0){const k=_.get(p);if(k!==void 0)return k}const v=i(g),S=v.audioWorklet===void 0?s(p).then(([k,E])=>{const[C,N]=Af(k,E),I=`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${N}
})})(window,'_AWGS')`;return n(I)}).then(()=>{const k=m._AWGS.pop();if(k===void 0)throw new SyntaxError;r(v.currentTime,v.sampleRate,()=>k(class{},void 0,(E,C)=>{if(E.trim()==="")throw e();const N=mc.get(v);if(N!==void 0){if(N.has(E))throw e();If(C),Of(C.parameterDescriptors),N.set(E,C)}else If(C),Of(C.parameterDescriptors),mc.set(v,new Map([[E,C]]))},v.sampleRate,void 0,void 0))}):Promise.all([s(p),Promise.resolve(t(h,h))]).then(([[k,E],C])=>{const N=f+1;f=N;const[I,D]=Af(k,E),x=`${I};((AudioWorkletProcessor,registerProcessor)=>{${D}
})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${N}',class extends AudioWorkletProcessor{process(){return !1}})`,B=new Blob([x],{type:"application/javascript; charset=utf-8"}),Q=URL.createObjectURL(B);return v.audioWorklet.addModule(Q,y).then(()=>{if(a(v))return v;const U=o(v);return U.audioWorklet.addModule(Q,y).then(()=>U)}).then(U=>{if(l===null)throw new SyntaxError;try{new l(U,`__sac${N}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Q))});return _===void 0?u.set(g,new Map([[p,S]])):_.set(p,S),S.then(()=>{const k=c.get(g);k===void 0?c.set(g,new Set([p])):k.add(p)}).finally(()=>{const k=u.get(g);k!==void 0&&k.delete(p)}),S}},gn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},fl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Ag=(t,e,n,r)=>{const s=gn(t,e),i=fl(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},ro=t=>gn(Eg,t),qs=t=>{if(Us.has(t))throw new Error("The AudioNode is already stored.");Us.add(t),ro(t).forEach(e=>e(!0))},Og=t=>"port"in t,so=t=>{if(!Us.has(t))throw new Error("The AudioNode is not stored.");Us.delete(t),ro(t).forEach(e=>e(!1))},_c=(t,e)=>{!Og(t)&&e.every(n=>n.size===0)&&so(t)},d1=(t,e,n,r,s,i,o,a,l,u,c,h,m)=>{const f=new WeakMap;return(g,p,y,d,_)=>{const{activeInputs:v,passiveInputs:S}=i(p),{outputs:k}=i(g),E=a(g),C=N=>{const I=l(p),D=l(g);if(N){const V=Ag(S,g,y,d);t(v,g,V,!1),!_&&!h(g)&&n(D,I,y,d),m(p)&&qs(p)}else{const V=r(v,g,y,d);e(S,d,V,!1),!_&&!h(g)&&s(D,I,y,d);const T=o(p);if(T===0)c(p)&&_c(p,v);else{const P=f.get(p);P!==void 0&&clearTimeout(P),f.set(p,setTimeout(()=>{c(p)&&_c(p,v)},T*1e3))}}};return u(k,[p,y,d],N=>N[0]===p&&N[1]===y&&N[2]===d,!0)?(E.add(C),c(g)?t(v,g,[y,d,C],!0):e(S,d,[g,y,C],!0),!0):!1}},f1=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},p1=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},m1=t=>(e,n)=>{t(e).add(n)},g1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},_1=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...g1,...l},h=r(u,c),m=i(u)?e():null;super(a,!1,h,m),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},_t=(t,e)=>t.context===e,y1=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!_t(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},Fa=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},On=()=>new DOMException("","IndexSizeError"),vh=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?On():r}})(t.getChannelData)},v1={numberOfChannels:1},w1=(t,e,n,r,s,i,o,a)=>{let l=null;return class Ig{constructor(c){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:m,sampleRate:f}={...v1,...c};l===null&&(l=new s(1,1,44100));const g=r!==null&&e(i,i)?new r({length:h,numberOfChannels:m,sampleRate:f}):l.createBuffer(m,h,f);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),vh(g)):e(Fa,()=>Fa(g))||a(g),t.add(g),g}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===Ig.prototype||t.has(c)}}},At=-34028234663852886e22,vt=-At,Wn=t=>Us.has(t),x1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},k1=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),m={...x1,...c},f=s(h,m),g=o(h),p=g?e():null;super(u,!1,f,p),this._audioBufferSourceNodeRenderer=p,this._isBufferNullified=!1,this._isBufferSet=m.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,g,f.playbackRate,vt,At)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){qs(this);const m=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",m),Wn(this)&&so(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",m)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},S1=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const m=_t(h,c);if(!m){const f={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,f),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),m?await t(c,u.playbackRate,h.playbackRate):await r(c,u.playbackRate,h.playbackRate),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},C1=t=>"playbackRate"in t,T1=t=>"frequency"in t&&"gain"in t,b1=t=>"offset"in t,E1=t=>!("frequency"in t)&&"gain"in t,N1=t=>"detune"in t&&"frequency"in t&&!("gain"in t),A1=t=>"pan"in t,wt=t=>gn(Tg,t),io=t=>gn(bg,t),yc=(t,e)=>{const{activeInputs:n}=wt(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||yc(i,[...e,t])}));const r=C1(t)?[t.playbackRate]:Og(t)?Array.from(t.parameters.values()):T1(t)?[t.Q,t.detune,t.frequency,t.gain]:b1(t)?[t.offset]:E1(t)?[t.gain]:N1(t)?[t.detune,t.frequency]:A1(t)?[t.pan]:[];for(const s of r){const i=io(s);i!==void 0&&i.activeInputs.forEach(([o])=>yc(o,e))}Wn(t)&&so(t)},Mg=t=>{yc(t.destination,[])},O1=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),I1=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(h===null)throw r();if(!O1(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:m}=c,{sampleRate:f}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:m==="balanced"?512/f:m==="interactive"||m===void 0?256/f:m==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(m*f/128)))*128/f,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",g)};h.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Mg(this)}))}createMediaElementSource(c){return new s(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const m=()=>{this._nativeAudioContext.removeEventListener("statechange",m),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",m)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},M1=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),m=o(h),f=s(h,c,m),g=m?e(a):null;super(u,!1,f,g),this._isNodeOfNativeOfflineAudioContext=m,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},D1=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},R1=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const k=new Float32Array(1),E=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=o(u);let N=!1,I=[0,0,-1,0,1,0],D=[0,0,0];const V=()=>{if(N)return;N=!0;const B=r(u,256,9,0);B.onaudioprocess=({inputBuffer:Q})=>{const U=[i(Q,k,0),i(Q,k,1),i(Q,k,2),i(Q,k,3),i(Q,k,4),i(Q,k,5)];U.some((z,H)=>z!==I[H])&&(c.setOrientation(...U),I=U);const q=[i(Q,k,6),i(Q,k,7),i(Q,k,8)];q.some((z,H)=>z!==D[H])&&(c.setPosition(...q),D=q)},E.connect(B)},T=B=>Q=>{Q!==I[B]&&(I[B]=Q,c.setOrientation(...I))},P=B=>Q=>{Q!==D[B]&&(D[B]=Q,c.setPosition(...D))},x=(B,Q,U)=>{const q=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q});q.connect(E,0,B),q.start(),Object.defineProperty(q.offset,"defaultValue",{get(){return Q}});const z=t({context:l},C,q.offset,vt,At);return a(z,"value",H=>()=>H.call(z),H=>R=>{try{H.call(z,R)}catch(F){if(F.code!==9)throw F}V(),C&&U(R)}),z.cancelAndHoldAtTime=(H=>C?()=>{throw s()}:(...R)=>{const F=H.apply(z,R);return V(),F})(z.cancelAndHoldAtTime),z.cancelScheduledValues=(H=>C?()=>{throw s()}:(...R)=>{const F=H.apply(z,R);return V(),F})(z.cancelScheduledValues),z.exponentialRampToValueAtTime=(H=>C?()=>{throw s()}:(...R)=>{const F=H.apply(z,R);return V(),F})(z.exponentialRampToValueAtTime),z.linearRampToValueAtTime=(H=>C?()=>{throw s()}:(...R)=>{const F=H.apply(z,R);return V(),F})(z.linearRampToValueAtTime),z.setTargetAtTime=(H=>C?()=>{throw s()}:(...R)=>{const F=H.apply(z,R);return V(),F})(z.setTargetAtTime),z.setValueAtTime=(H=>C?()=>{throw s()}:(...R)=>{const F=H.apply(z,R);return V(),F})(z.setValueAtTime),z.setValueCurveAtTime=(H=>C?()=>{throw s()}:(...R)=>{const F=H.apply(z,R);return V(),F})(z.setValueCurveAtTime),z};return{forwardX:x(0,0,T(0)),forwardY:x(1,0,T(1)),forwardZ:x(2,-1,T(2)),positionX:x(6,0,P(0)),positionY:x(7,0,P(1)),positionZ:x(8,0,P(2)),upX:x(3,0,T(3)),upY:x(4,1,T(4)),upZ:x(5,0,T(5))}},{forwardX:m,forwardY:f,forwardZ:g,positionX:p,positionY:y,positionZ:d,upX:_,upY:v,upZ:S}=c.forwardX===void 0?h():c;return{get forwardX(){return m},get forwardY(){return f},get forwardZ(){return g},get positionX(){return p},get positionY(){return y},get positionZ(){return d},get upX(){return _},get upY(){return v},get upZ(){return S}}},ja=t=>"context"in t,oo=t=>ja(t[0]),ns=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Mf=(t,e,[n,r],s)=>{ns(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},Df=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):ns(i,[n,r],o=>o[0]===n,s)},Ks=t=>"inputs"in t,za=(t,e,n,r)=>{if(Ks(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},Dg=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},P1=(t,e,n)=>fl(t,r=>r[0]===e&&r[1]===n),Rg=(t,e)=>{if(!ro(t).delete(e))throw new Error("Missing the expected event listener.")},Pg=(t,e,n)=>{const r=gn(t,e),s=fl(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},La=(t,e,n,r)=>{Ks(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},ze=t=>gn(_h,t),Qi=t=>gn(yh,t),Xr=t=>pc.has(t),aa=t=>!Us.has(t),Rf=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),du=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},Va=t=>"context"in t,F1=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=Va(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{Va(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},j1=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=io(e),{outputs:o}=wt(t),a=ro(t),l=u=>{const c=ze(t),h=Qi(e);if(u){const m=Pg(i,t,n);Mf(s,t,m,!1),!r&&!Xr(t)&&c.connect(h,n)}else{const m=P1(s,t,n);Df(i,m,!1),!r&&!Xr(t)&&c.disconnect(h,n)}};return ns(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),Wn(t)?Mf(s,t,[n,l],!0):Df(i,[t,n,l],!0),!0):!1},z1=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=wt(e),o=Dg(s[r],t,n);return o===null?[Ag(i,t,n,r)[2],!1]:[o[2],!0]},L1=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=io(e),i=Dg(r,t,n);return i===null?[Pg(s,t,n)[1],!1]:[i[2],!0]},wh=(t,e,n,r,s)=>{const[i,o]=z1(t,n,r,s);if(i!==null&&(Rg(t,i),o&&!e&&!Xr(t)&&La(ze(t),ze(n),r,s)),Wn(n)){const{activeInputs:a}=wt(n);_c(n,a)}},xh=(t,e,n,r)=>{const[s,i]=L1(t,n,r);s!==null&&(Rg(t,s),i&&!e&&!Xr(t)&&ze(t).disconnect(Qi(n),r))},V1=(t,e)=>{const n=wt(t),r=[];for(const s of n.outputs)oo(s)?wh(t,e,...s):xh(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},B1=(t,e,n)=>{const r=wt(t),s=[];for(const i of r.outputs)i[1]===n&&(oo(i)?wh(t,e,...i):xh(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},W1=(t,e,n,r,s)=>{const i=wt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(oo(o)?wh(t,e,...o):xh(t,e,...o),i.outputs.delete(o),o[0]))},U1=(t,e,n,r,s,i,o,a,l,u,c,h,m,f,g,p)=>class extends u{constructor(d,_,v,S){super(v),this._context=d,this._nativeAudioNode=v;const k=c(d);h(k)&&n(Rf,()=>Rf(k,p))!==!0&&F1(v),_h.set(this,v),Eg.set(this,new Set),d.state!=="closed"&&_&&qs(this),t(this,S,v)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(d){this._nativeAudioNode.channelCount=d}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(d){this._nativeAudioNode.channelCountMode=d}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(d){this._nativeAudioNode.channelInterpretation=d}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(d,_=0,v=0){if(_<0||_>=this._nativeAudioNode.numberOfOutputs)throw s();const S=c(this._context),k=g(S);if(m(d)||f(d))throw i();if(ja(d)){const N=ze(d);try{const D=za(this._nativeAudioNode,N,_,v),V=aa(this);(k||V)&&this._nativeAudioNode.disconnect(...D),this.context.state!=="closed"&&!V&&aa(d)&&qs(d)}catch(D){throw D.code===12?i():D}if(e(this,d,_,v,k)){const D=l([this],d);du(D,r(k))}return d}const E=Qi(d);if(E.name==="playbackRate"&&E.maxValue===1024)throw o();try{this._nativeAudioNode.connect(E,_),(k||aa(this))&&this._nativeAudioNode.disconnect(E,_)}catch(N){throw N.code===12?i():N}if(j1(this,d,_,k)){const N=l([this],d);du(N,r(k))}}disconnect(d,_,v){let S;const k=c(this._context),E=g(k);if(d===void 0)S=V1(this,E);else if(typeof d=="number"){if(d<0||d>=this.numberOfOutputs)throw s();S=B1(this,E,d)}else{if(_!==void 0&&(_<0||_>=this.numberOfOutputs)||ja(d)&&v!==void 0&&(v<0||v>=d.numberOfInputs))throw s();if(S=W1(this,E,d,_,v),S.length===0)throw i()}for(const C of S){const N=l([this],C);du(N,a)}}},q1=(t,e,n,r,s,i,o,a,l,u,c,h,m)=>(f,g,p,y=null,d=null)=>{const _=p.value,v=new e1(_),S=g?r(v):null,k={get defaultValue(){return _},get maxValue(){return y===null?p.maxValue:y},get minValue(){return d===null?p.minValue:d},get value(){return p.value},set value(E){p.value=E,k.setValueAtTime(E,f.context.currentTime)},cancelAndHoldAtTime(E){if(typeof p.cancelAndHoldAtTime=="function")S===null&&v.flush(f.context.currentTime),v.add(s(E)),p.cancelAndHoldAtTime(E);else{const C=Array.from(v).pop();S===null&&v.flush(f.context.currentTime),v.add(s(E));const N=Array.from(v).pop();p.cancelScheduledValues(E),C!==N&&N!==void 0&&(N.type==="exponentialRampToValue"?p.exponentialRampToValueAtTime(N.value,N.endTime):N.type==="linearRampToValue"?p.linearRampToValueAtTime(N.value,N.endTime):N.type==="setValue"?p.setValueAtTime(N.value,N.startTime):N.type==="setValueCurve"&&p.setValueCurveAtTime(N.values,N.startTime,N.duration))}return k},cancelScheduledValues(E){return S===null&&v.flush(f.context.currentTime),v.add(i(E)),p.cancelScheduledValues(E),k},exponentialRampToValueAtTime(E,C){if(E===0)throw new RangeError;if(!Number.isFinite(C)||C<0)throw new RangeError;const N=f.context.currentTime;return S===null&&v.flush(N),Array.from(v).length===0&&(v.add(u(_,N)),p.setValueAtTime(_,N)),v.add(o(E,C)),p.exponentialRampToValueAtTime(E,C),k},linearRampToValueAtTime(E,C){const N=f.context.currentTime;return S===null&&v.flush(N),Array.from(v).length===0&&(v.add(u(_,N)),p.setValueAtTime(_,N)),v.add(a(E,C)),p.linearRampToValueAtTime(E,C),k},setTargetAtTime(E,C,N){return S===null&&v.flush(f.context.currentTime),v.add(l(E,C,N)),p.setTargetAtTime(E,C,N),k},setValueAtTime(E,C){return S===null&&v.flush(f.context.currentTime),v.add(u(E,C)),p.setValueAtTime(E,C),k},setValueCurveAtTime(E,C,N){const I=E instanceof Float32Array?E:new Float32Array(E);if(h!==null&&h.name==="webkitAudioContext"){const D=C+N,V=f.context.sampleRate,T=Math.ceil(C*V),P=Math.floor(D*V),x=P-T,B=new Float32Array(x);for(let U=0;U<x;U+=1){const q=(I.length-1)/N*((T+U)/V-C),z=Math.floor(q),H=Math.ceil(q);B[U]=z===H?I[z]:(1-(q-z))*I[z]+(1-(H-q))*I[H]}S===null&&v.flush(f.context.currentTime),v.add(c(B,C,N)),p.setValueCurveAtTime(B,C,N);const Q=P/V;Q<D&&m(k,B[B.length-1],Q),m(k,I[I.length-1],D)}else S===null&&v.flush(f.context.currentTime),v.add(c(I,C,N)),p.setValueCurveAtTime(I,C,N);return k}};return n.set(k,p),e.set(k,f),t(k,S),k},$1=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class Fg{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const G1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},H1=(t,e,n,r,s,i,o,a,l,u,c,h,m,f)=>class extends e{constructor(p,y,d){var _;const v=a(p),S=l(v),k=c({...G1,...d});m(k);const E=mc.get(v),C=E==null?void 0:E.get(y),N=S||v.state!=="closed"?v:(_=o(v))!==null&&_!==void 0?_:v,I=s(N,S?null:p.baseLatency,u,y,C,k),D=S?r(y,k,C):null;super(p,!0,I,D);const V=[];I.parameters.forEach((P,x)=>{const B=n(this,S,P);V.push([x,B])}),this._nativeAudioWorkletNode=I,this._onprocessorerror=null,this._parameters=new Fg(V),S&&t(v,this);const{activeInputs:T}=i(this);h(I,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(p){const y=typeof p=="function"?f(this,p):null;this._nativeAudioWorkletNode.onprocessorerror=y;const d=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=d!==null&&d===y?p:d}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ba(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const jg=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},Wa=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},Z1=(t,e)=>{const n=gn(gc,t),r=ze(e);return gn(n,r)},Q1=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=s.reduce((y,d)=>y+d,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=wt(t),m=await Z1(n,t),f=Wa(r.numberOfInputs,r.channelCount),g=Wa(r.numberOfOutputs,s),p=Array.from(t.parameters.keys()).reduce((y,d)=>({...y,[d]:new Float32Array(128)}),{});for(let y=0;y<a;y+=128){if(r.numberOfInputs>0&&e!==null)for(let d=0;d<r.numberOfInputs;d+=1)for(let _=0;_<r.channelCount;_+=1)Ba(e,f[d],_,_,y);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:d},_)=>{Ba(e,p,d,l+_,y)});for(let d=0;d<r.numberOfInputs;d+=1)for(let _=0;_<s[d];_+=1)g[d][_].byteLength===0&&(g[d][_]=new Float32Array(128));try{const d=f.map((v,S)=>h.activeInputs[S].size===0?[]:v),_=o(y/n.sampleRate,n.sampleRate,()=>m.process(d,g,p));if(c!==null)for(let v=0,S=0;v<r.numberOfOutputs;v+=1){for(let k=0;k<s[v];k+=1)jg(c,g[v],k,S+k,y);S+=s[v]}if(!_)break}catch(d){t.dispatchEvent(new ErrorEvent("processorerror",{colno:d.colno,filename:d.filename,lineno:d.lineno,message:d.message}));break}}return c},X1=(t,e,n,r,s,i,o,a,l,u,c,h,m,f,g,p)=>(y,d,_)=>{const v=new WeakMap;let S=null;const k=async(E,C)=>{let N=c(E),I=null;const D=_t(N,C),V=Array.isArray(d.outputChannelCount)?d.outputChannelCount:Array.from(d.outputChannelCount);if(h===null){const T=V.reduce((Q,U)=>Q+U,0),P=s(C,{channelCount:Math.max(1,T),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,T)}),x=[];for(let Q=0;Q<E.numberOfOutputs;Q+=1)x.push(r(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:V[Q]}));const B=o(C,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:1});B.connect=e.bind(null,x),B.disconnect=l.bind(null,x),I=[P,x,B]}else D||(N=new h(C,y));if(v.set(C,I===null?N:I[2]),I!==null){if(S===null){if(_===void 0)throw new Error("Missing the processor constructor.");if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");const U=E.channelCount*E.numberOfInputs,q=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length,z=U+q;S=Q1(E,z===0?null:await(async()=>{const R=new m(z,Math.ceil(E.context.length/128)*128,C.sampleRate),F=[],ne=[];for(let ie=0;ie<d.numberOfInputs;ie+=1)F.push(o(R,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:1})),ne.push(s(R,{channelCount:d.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:d.channelCount}));const J=await Promise.all(Array.from(E.parameters.values()).map(async ie=>{const fe=i(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ie.value});return await f(R,ie,fe.offset),fe})),G=r(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,U+q)});for(let ie=0;ie<d.numberOfInputs;ie+=1){F[ie].connect(ne[ie]);for(let fe=0;fe<d.channelCount;fe+=1)ne[ie].connect(G,fe,ie*d.channelCount+fe)}for(const[ie,fe]of J.entries())fe.connect(G,0,U+ie),fe.start(0);return G.connect(R.destination),await Promise.all(F.map(ie=>g(E,R,ie))),p(R)})(),C,d,V,_,u)}const T=await S,P=n(C,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[x,B,Q]=I;T!==null&&(P.buffer=T,P.start(0)),P.connect(x);for(let U=0,q=0;U<E.numberOfOutputs;U+=1){const z=B[U];for(let H=0;H<V[U];H+=1)x.connect(z,q+H,H);q+=V[U]}return Q}if(D)for(const[T,P]of E.parameters.entries())await t(C,P,N.parameters.get(T));else for(const[T,P]of E.parameters.entries())await f(C,P,N.parameters.get(T));return await g(E,C,N),N};return{render(E,C){a(C,E);const N=v.get(C);return N!==void 0?Promise.resolve(N):k(E,C)}}},Y1=(t,e,n,r,s,i,o,a,l,u,c,h,m,f,g,p,y,d,_,v)=>class extends g{constructor(k,E){super(k,E),this._nativeContext=k,this._audioWorklet=t===void 0?void 0:{addModule:(C,N)=>t(this,C,N)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(k,E,C){return new n({length:E,numberOfChannels:k,sampleRate:C})}createBufferSource(){return new r(this)}createChannelMerger(k=6){return new i(this,{numberOfInputs:k})}createChannelSplitter(k=6){return new o(this,{numberOfOutputs:k})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(k=1){return new c(this,{maxDelayTime:k})}createDynamicsCompressor(){return new h(this)}createGain(){return new m(this)}createIIRFilter(k,E){return new f(this,{feedback:E,feedforward:k})}createOscillator(){return new p(this)}createPanner(){return new y(this)}createPeriodicWave(k,E,C={disableNormalization:!1}){return new d(this,{...C,imag:E,real:k})}createStereoPanner(){return new _(this)}createWaveShaper(){return new v(this)}decodeAudioData(k,E,C){return u(this._nativeContext,k).then(N=>(typeof E=="function"&&E(N),N),N=>{throw typeof C=="function"&&C(N),N})}},K1={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},J1=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),m={...K1,...c},f=s(h,m),g=o(h),p=g?n():null;super(u,!1,f,p),this._Q=e(this,g,f.Q,vt,At),this._detune=e(this,g,f.detune,1200*Math.log2(vt),-1200*Math.log2(vt)),this._frequency=e(this,g,f.frequency,u.sampleRate/2,0),this._gain=e(this,g,f.gain,40*Math.log10(vt),At),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(m){throw m.code===11?r():m}if(u.length!==c.length||c.length!==h.length)throw r()}},ew=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=_t(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},tw=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},nw={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},rw=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),u={...nw,...a},c=n(l,u),h=s(l)?e():null;super(o,!1,c,h)}},sw=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!_t(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},iw={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ow=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=i({...iw,...l}),h=n(u,c),m=s(u)?e():null;super(a,!1,h,m)}},aw=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!_t(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},lw=t=>(e,n,r)=>t(n,e,r),uw=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return Va(n)?i.connect(n,0,s):i.connect(n,0)},cw=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},hw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},dw=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...hw,...u},m=r(c,h),f=i(c),g=f?n():null;super(l,!1,m,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=m,this._offset=e(this,f,m.offset,vt,At),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){qs(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Wn(this)&&so(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},fw=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const m=_t(h,c);if(!m){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,f),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),m?await t(c,u.offset,h.offset):await r(c,u.offset,h.offset),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},pw=t=>e=>(t[0]=e,t[0]),mw={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},gw=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c={...mw,...l},h=n(u,c),f=s(u)?e():null;super(a,!1,h,f),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},_w=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!_t(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),Ks(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},yw=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},vw=()=>new DOMException("","DataCloneError"),Pf=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},ww=(t,e,n,r,s,i,o,a,l,u,c)=>(h,m)=>{const f=o(h)?h:i(h);if(s.has(m)){const g=n();return Promise.reject(g)}try{s.add(m)}catch{}return e(l,()=>l(f))?f.decodeAudioData(m).then(g=>(Pf(m).catch(()=>{}),e(a,()=>a(g))||c(g),t.add(g),g)):new Promise((g,p)=>{const y=async()=>{try{await Pf(m)}catch{}},d=_=>{p(_),y()};try{f.decodeAudioData(m,_=>{typeof _.copyFromChannel!="function"&&(u(_),vh(_)),t.add(_),y().then(()=>g(_))},_=>{d(_===null?r():_)})}catch(_){d(_)}})},xw=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),m=a(h);if(c===u){if(e.delete(l),!m&&o(l)){const f=r(l),{outputs:g}=n(l);for(const p of g)if(oo(p)){const y=r(p[0]);t(f,y,p[1],p[2])}else{const y=s(p[0]);f.connect(y,p[1])}}}else e.set(l,c-u)},kw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Sw=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...kw,...u},m=r(c,h),f=i(c),g=f?n(h.maxDelayTime):null;super(l,!1,m,g),this._delayTime=e(this,f,m.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},Cw=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=_t(c,u);if(!h){const m={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,m)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await r(u,l.delayTime,c.delayTime),await s(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},Tw=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),bw=t=>(e,n)=>{t(e).delete(n)},Ew=t=>"delayTime"in t,Nw=(t,e,n)=>function r(s,i){const o=ja(i)?i:n(t,i);if(Ew(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,u)=>l.concat(u),[])},qo=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},Aw=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?qo(t,e,n).disconnect():Va(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?qo(t,e,r).disconnect(n,0):qo(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):qo(t,e,r).disconnect(n,0),Ow={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Iw=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),m={...Ow,...c},f=r(h,m),g=o(h),p=g?n():null;super(u,!1,f,p),this._attack=e(this,g,f.attack),this._knee=e(this,g,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,g,f.ratio),this._release=e(this,g,f.release),this._threshold=e(this,g,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Mw=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=_t(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Dw=()=>new DOMException("","EncodingError"),Rw=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,m,f,g)=>{if(h===a||h===t.location.href&&m===1&&f===1)return u(),r(g),!1;if(l!==null)return l(c,h,m,f,g)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",s.appendChild(i)}}),Pw=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},Fw=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},jw=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},zw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Lw=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...zw,...l},h=r(u,c),m=i(u),f=m?n():null;super(a,!1,h,f),this._gain=e(this,m,h.gain,vt,At)}get gain(){return this._gain}},Vw=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=_t(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Bw=(t,e)=>n=>e(t,n),Ww=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Uw=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},qw=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},$w=t=>e=>t.get(e),lt=()=>new DOMException("","InvalidStateError"),Gw=t=>e=>{const n=t.get(e);if(n===void 0)throw lt();return n},Hw=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},Zw=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},pl=()=>new DOMException("","InvalidAccessError"),Qw=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw pl();return e.call(t,n,r,s)})(t.getFrequencyResponse)},Xw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Yw=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=s(u),h={...Xw,...l},m=e(u,c?null:a.baseLatency,h),f=c?n(h.feedback,h.feedforward):null;super(a,!1,m,f),Qw(m),this._nativeIIRFilterNode=m,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},zg=(t,e,n,r,s,i,o,a,l,u,c)=>{const h=u.length;let m=a;for(let f=0;f<h;f+=1){let g=n[0]*u[f];for(let p=1;p<s;p+=1){const y=m-p&l-1;g+=n[p]*i[y],g-=t[p]*o[y]}for(let p=s;p<r;p+=1)g+=n[p]*i[m-p&l-1];for(let p=s;p<e;p+=1)g-=t[p]*o[m-p&l-1];i[m]=u[f],o[m]=g,m=m+1&l-1,c[f]=g}return m},Kw=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let g=0;g<o;g+=1)i[g]/=s[0];for(let g=1;g<a;g+=1)s[g]/=s[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),m=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let g=0;g<f;g+=1){const p=t.getChannelData(g),y=m.getChannelData(g);c.fill(0),h.fill(0),zg(s,o,i,a,l,c,h,0,u,p,y)}return m},Jw=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let m=null,f=e(c);const g=_t(f,h);if(h.createIIRFilter===void 0?m=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(f=h.createIIRFilter(o,i)),a.set(h,m===null?f:m),m!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const y=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await r(c,y,y.destination);const d=await s(y);return Kw(d,h,i,o)})()}const p=await l;return m.buffer=p,m.start(0),m}return await r(c,h,f),f};return{render(c,h){const m=a.get(h);return m!==void 0?Promise.resolve(m):u(c,h)}}},ex=(t,e,n,r,s,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=r(a),{outputs:h}=n(a);for(const m of h)if(oo(m)){const f=r(m[0]);e(c,f,m[1],m[2])}else{const f=s(m[0]);c.disconnect(f,m[1])}}t.set(a,l)}else t.set(a,u+l)},tx=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},nx=(t,e)=>n=>t.has(n)||e(n),rx=(t,e)=>n=>t.has(n)||e(n),sx=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},ix=t=>e=>t!==null&&e instanceof t,ox=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,ax=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,lx=(t,e)=>n=>t(n)||e(n),ux=t=>e=>t!==null&&e instanceof t,cx=t=>t!==null&&t.isSecureContext,hx=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},dx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},fx=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={...dx,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},px=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},mx=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},gx=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,dl.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Xi=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},_x=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&r(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const m of i)m[1]===a&&i.delete(m)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const m of i)m[0]===a&&(l===void 0||m[1]===l)&&(u===void 0||m[2]===u)&&i.delete(m)}const h=i.size===0;c&&h&&s()})(n.disconnect),n},Ve=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},it=(t,e)=>{Ve(t,e,"channelCount"),Ve(t,e,"channelCountMode"),Ve(t,e,"channelInterpretation")},Ff=t=>typeof t.getFloatTimeDomainData=="function",yx=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},vx=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(it(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Ve(s,r,"fftSize"),Ve(s,r,"maxDecibels"),Ve(s,r,"minDecibels"),Ve(s,r,"smoothingTimeConstant"),t(Ff,()=>Ff(s))||yx(s),s},wx=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Qe=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},xx=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw lt();e.call(t,r,s,i),n=!0}})(t.start)},kh=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},Sh=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},kx=(t,e,n,r,s,i,o,a,l,u,c)=>(h,m)=>{const f=h.createBufferSource();return it(f,m),Qe(f,m,"playbackRate"),Ve(f,m,"buffer"),Ve(f,m,"loop"),Ve(f,m,"loopEnd"),Ve(f,m,"loopStart"),e(n,()=>n(h))||xx(f),e(r,()=>r(h))||l(f),e(s,()=>s(h))||u(f,h),e(i,()=>i(h))||kh(f),e(o,()=>o(h))||c(f,h),e(a,()=>a(h))||Sh(f),t(h,f),f},Sx=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,Cx=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},Tx=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,bx=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Ex=(t,e,n,r,s)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),m=new Map;let f=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:g=>{typeof f=="function"&&h.removeEventListener("processorerror",f),f=typeof g=="function"?g:null,typeof f=="function"&&h.addEventListener("processorerror",f)}}}),h.addEventListener=(g=>(...p)=>{if(p[0]==="processorerror"){const y=typeof p[1]=="function"?p[1]:typeof p[1]=="object"&&p[1]!==null&&typeof p[1].handleEvent=="function"?p[1].handleEvent:null;if(y!==null){const d=m.get(p[1]);d!==void 0?p[1]=d:(p[1]=_=>{_.type==="error"?(Object.defineProperties(_,{type:{value:"processorerror"}}),y(_)):y(new ErrorEvent(p[0],{..._}))},m.set(y,p[1]))}}return g.call(h,"error",p[1],p[2]),g.call(h,...p)})(h.addEventListener),h.removeEventListener=(g=>(...p)=>{if(p[0]==="processorerror"){const y=m.get(p[1]);y!==void 0&&(m.delete(p[1]),p[1]=y)}return g.call(h,"error",p[1],p[2]),g.call(h,p[0],p[1],p[2])})(h.removeEventListener),c.numberOfOutputs!==0){const g=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(g).connect(i.destination),s(h,()=>g.disconnect(),()=>g.connect(i.destination))}return h}catch(h){throw h.code===11?r():h}if(u===void 0)throw r();return bx(c),e(i,o,u,c)},Lg=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Nx=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),Ax=async(t,e)=>{const n=await Nx(e);return new t(n)},Ox=(t,e,n,r)=>{let s=gc.get(t);s===void 0&&(s=new WeakMap,gc.set(t,s));const i=Ax(n,r);return s.set(e,i),i},Ix=(t,e,n,r,s,i,o,a,l,u,c,h,m)=>(f,g,p,y)=>{if(y.numberOfInputs===0&&y.numberOfOutputs===0)throw l();const d=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(d.some(j=>j<1))throw l();if(d.length!==y.numberOfOutputs)throw e();if(y.channelCountMode!=="explicit")throw l();const _=y.channelCount*y.numberOfInputs,v=d.reduce((j,L)=>j+L,0),S=p.parameterDescriptors===void 0?0:p.parameterDescriptors.length;if(_+S>6||v>6)throw l();const k=new MessageChannel,E=[],C=[];for(let j=0;j<y.numberOfInputs;j+=1)E.push(o(f,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),C.push(s(f,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const N=[];if(p.parameterDescriptors!==void 0)for(const{defaultValue:j,maxValue:L,minValue:A,name:b}of p.parameterDescriptors){const M=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:y.parameterData[b]!==void 0?y.parameterData[b]:j===void 0?0:j});Object.defineProperties(M.offset,{defaultValue:{get:()=>j===void 0?0:j},maxValue:{get:()=>L===void 0?vt:L},minValue:{get:()=>A===void 0?At:A}}),N.push(M)}const I=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+S)}),D=Lg(g,f.sampleRate),V=a(f,D,_+S,Math.max(1,v)),T=s(f,{channelCount:Math.max(1,v),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,v)}),P=[];for(let j=0;j<y.numberOfOutputs;j+=1)P.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:d[j]}));for(let j=0;j<y.numberOfInputs;j+=1){E[j].connect(C[j]);for(let L=0;L<y.channelCount;L+=1)C[j].connect(I,L,j*y.channelCount+L)}const x=new Fg(p.parameterDescriptors===void 0?[]:p.parameterDescriptors.map(({name:j},L)=>{const A=N[L];return A.connect(I,0,_+L),A.start(0),[j,A.offset]}));I.connect(V);let B=y.channelInterpretation,Q=null;const U=y.numberOfOutputs===0?[V]:P,q={get bufferSize(){return D},get channelCount(){return y.channelCount},set channelCount(j){throw n()},get channelCountMode(){return y.channelCountMode},set channelCountMode(j){throw n()},get channelInterpretation(){return B},set channelInterpretation(j){for(const L of E)L.channelInterpretation=j;B=j},get context(){return V.context},get inputs(){return E},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get onprocessorerror(){return Q},set onprocessorerror(j){typeof Q=="function"&&q.removeEventListener("processorerror",Q),Q=typeof j=="function"?j:null,typeof Q=="function"&&q.addEventListener("processorerror",Q)},get parameters(){return x},get port(){return k.port2},addEventListener(...j){return V.addEventListener(j[0],j[1],j[2])},connect:t.bind(null,U),disconnect:u.bind(null,U),dispatchEvent(...j){return V.dispatchEvent(j[0])},removeEventListener(...j){return V.removeEventListener(j[0],j[1],j[2])}},z=new Map;k.port1.addEventListener=(j=>(...L)=>{if(L[0]==="message"){const A=typeof L[1]=="function"?L[1]:typeof L[1]=="object"&&L[1]!==null&&typeof L[1].handleEvent=="function"?L[1].handleEvent:null;if(A!==null){const b=z.get(L[1]);b!==void 0?L[1]=b:(L[1]=M=>{c(f.currentTime,f.sampleRate,()=>A(M))},z.set(A,L[1]))}}return j.call(k.port1,L[0],L[1],L[2])})(k.port1.addEventListener),k.port1.removeEventListener=(j=>(...L)=>{if(L[0]==="message"){const A=z.get(L[1]);A!==void 0&&(z.delete(L[1]),L[1]=A)}return j.call(k.port1,L[0],L[1],L[2])})(k.port1.removeEventListener);let H=null;Object.defineProperty(k.port1,"onmessage",{get:()=>H,set:j=>{typeof H=="function"&&k.port1.removeEventListener("message",H),H=typeof j=="function"?j:null,typeof H=="function"&&(k.port1.addEventListener("message",H),k.port1.start())}}),p.prototype.port=k.port1;let R=null;Ox(f,q,p,y).then(j=>R=j);const ne=Wa(y.numberOfInputs,y.channelCount),J=Wa(y.numberOfOutputs,d),G=p.parameterDescriptors===void 0?[]:p.parameterDescriptors.reduce((j,{name:L})=>({...j,[L]:new Float32Array(128)}),{});let ie=!0;const fe=()=>{y.numberOfOutputs>0&&V.disconnect(T);for(let j=0,L=0;j<y.numberOfOutputs;j+=1){const A=P[j];for(let b=0;b<d[j];b+=1)T.disconnect(A,L+b,b);L+=d[j]}},K=new Map;V.onaudioprocess=({inputBuffer:j,outputBuffer:L})=>{if(R!==null){const A=h(q);for(let b=0;b<D;b+=128){for(let M=0;M<y.numberOfInputs;M+=1)for(let $=0;$<y.channelCount;$+=1)Ba(j,ne[M],$,$,b);p.parameterDescriptors!==void 0&&p.parameterDescriptors.forEach(({name:M},$)=>{Ba(j,G,M,_+$,b)});for(let M=0;M<y.numberOfInputs;M+=1)for(let $=0;$<d[M];$+=1)J[M][$].byteLength===0&&(J[M][$]=new Float32Array(128));try{const M=ne.map((Z,W)=>{if(A[W].size>0)return K.set(W,D/128),Z;const re=K.get(W);return re===void 0?[]:(Z.every(te=>te.every(ce=>ce===0))&&(re===1?K.delete(W):K.set(W,re-1)),Z)});ie=c(f.currentTime+b/f.sampleRate,f.sampleRate,()=>R.process(M,J,G));for(let Z=0,W=0;Z<y.numberOfOutputs;Z+=1){for(let Y=0;Y<d[Z];Y+=1)jg(L,J[Z],Y,W+Y,b);W+=d[Z]}}catch(M){ie=!1,q.dispatchEvent(new ErrorEvent("processorerror",{colno:M.colno,filename:M.filename,lineno:M.lineno,message:M.message}))}if(!ie){for(let M=0;M<y.numberOfInputs;M+=1){E[M].disconnect(C[M]);for(let $=0;$<y.channelCount;$+=1)C[b].disconnect(I,$,M*y.channelCount+$)}if(p.parameterDescriptors!==void 0){const M=p.parameterDescriptors.length;for(let $=0;$<M;$+=1){const Z=N[$];Z.disconnect(I,0,_+$),Z.stop()}}I.disconnect(V),V.onaudioprocess=null,pe?fe():He();break}}}};let pe=!1;const Ne=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ye=()=>V.connect(Ne).connect(f.destination),He=()=>{V.disconnect(Ne),Ne.disconnect()},tt=()=>{if(ie){He(),y.numberOfOutputs>0&&V.connect(T);for(let j=0,L=0;j<y.numberOfOutputs;j+=1){const A=P[j];for(let b=0;b<d[j];b+=1)T.connect(A,L+b,b);L+=d[j]}}pe=!0},w=()=>{ie&&(ye(),fe()),pe=!1};return ye(),m(q,tt,w)},Vg=(t,e)=>{const n=t.createBiquadFilter();return it(n,e),Qe(n,e,"Q"),Qe(n,e,"detune"),Qe(n,e,"frequency"),Qe(n,e,"gain"),Ve(n,e,"type"),n},Mx=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),it(s,r),s},Dx=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw lt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw lt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw lt()}})},ao=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return it(n,e),Dx(n),n},Rx=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return it(a,o),Qe(a,o,"offset"),e(r,()=>r(i))||kh(a),e(s,()=>s(i))||Sh(a),t(i,a),a},Js=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Px=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(s,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(g){u.channelCount=g},get channelCountMode(){return u.channelCountMode},set channelCountMode(g){u.channelCountMode=g},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(g){u.channelInterpretation=g},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(g){l.onended=g},addEventListener(...g){return l.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return l.dispatchEvent(g[0])},removeEventListener(...g){return l.removeEventListener(g[0],g[1],g[2])},start(g=0){l.start.call(l,g)},stop(g=0){l.stop.call(l,g)}},m=()=>l.connect(u),f=()=>l.disconnect(u);return t(s,l),r(Js(h,u),m,f)},Fx=(t,e)=>(n,r)=>{const s=n.createConvolver();if(it(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Ve(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},Bg=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return it(n,e),Qe(n,e,"delayTime"),n},jx=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(it(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Qe(r,n,"attack"),Qe(r,n,"knee"),Qe(r,n,"ratio"),Qe(r,n,"release"),Qe(r,n,"threshold"),r},Pt=(t,e)=>{const n=t.createGain();return it(n,e),Qe(n,e,"gain"),n},zx=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return it(s,r),s};function Lx(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Vx(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function jf(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Vx(n,e),n[0]+=t[r];return n}const Bx=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Lg(i,s.sampleRate),m=u instanceof Float64Array?u:new Float64Array(u),f=c instanceof Float64Array?c:new Float64Array(c),g=m.length,p=f.length,y=Math.min(g,p);if(g===0||g>20)throw r();if(m[0]===0)throw e();if(p===0||p>20)throw r();if(f[0]===0)throw e();if(m[0]!==1){for(let N=0;N<p;N+=1)f[N]/=m[0];for(let N=1;N<g;N+=1)m[N]/=m[0]}const d=n(s,h,o,o);d.channelCount=o,d.channelCountMode=a,d.channelInterpretation=l;const _=32,v=[],S=[],k=[];for(let N=0;N<o;N+=1){v.push(0);const I=new Float32Array(_),D=new Float32Array(_);I.fill(0),D.fill(0),S.push(I),k.push(D)}d.onaudioprocess=N=>{const I=N.inputBuffer,D=N.outputBuffer,V=I.numberOfChannels;for(let T=0;T<V;T+=1){const P=I.getChannelData(T),x=D.getChannelData(T);v[T]=zg(m,g,f,p,y,S[T],k[T],v[T],_,P,x)}};const E=s.sampleRate/2;return Js({get bufferSize(){return h},get channelCount(){return d.channelCount},set channelCount(N){d.channelCount=N},get channelCountMode(){return d.channelCountMode},set channelCountMode(N){d.channelCountMode=N},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(N){d.channelInterpretation=N},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},addEventListener(...N){return d.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return d.dispatchEvent(N[0])},getFrequencyResponse(N,I,D){if(N.length!==I.length||I.length!==D.length)throw t();const V=N.length;for(let T=0;T<V;T+=1){const P=-Math.PI*(N[T]/E),x=[Math.cos(P),Math.sin(P)],B=jf(f,x),Q=jf(m,x),U=Lx(B,Q);I[T]=Math.sqrt(U[0]*U[0]+U[1]*U[1]),D[T]=Math.atan2(U[1],U[0])}},removeEventListener(...N){return d.removeEventListener(N[0],N[1],N[2])}},d)},Wx=(t,e)=>t.createMediaElementSource(e.mediaElement),Ux=(t,e)=>{const n=t.createMediaStreamDestination();return it(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},qx=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},$x=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},Gx=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,Hx=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return it(l,a),Qe(l,a,"detune"),Qe(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Ve(l,a,"type"),e(n,()=>n(o))||kh(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||Sh(l),t(o,l),l},Zx=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(it(r,n),Qe(r,n,"orientationX"),Qe(r,n,"orientationY"),Qe(r,n,"orientationZ"),Qe(r,n,"positionX"),Qe(r,n,"positionY"),Qe(r,n,"positionZ"),Ve(r,n,"coneInnerAngle"),Ve(r,n,"coneOuterAngle"),Ve(r,n,"coneOuterGain"),Ve(r,n,"distanceModel"),Ve(r,n,"maxDistance"),Ve(r,n,"panningModel"),Ve(r,n,"refDistance"),Ve(r,n,"rolloffFactor"),r)},Qx=(t,e,n,r,s,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:m,coneOuterGain:f,distanceModel:g,maxDistance:p,orientationX:y,orientationY:d,orientationZ:_,panningModel:v,positionX:S,positionY:k,positionZ:E,refDistance:C,rolloffFactor:N,...I})=>{const D=c.createPanner();if(I.channelCount>2||I.channelCountMode==="max")throw o();it(D,I);const V={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},T=n(c,{...V,channelInterpretation:"speakers",numberOfInputs:6}),P=r(c,{...I,gain:1}),x=r(c,{...V,gain:1}),B=r(c,{...V,gain:0}),Q=r(c,{...V,gain:0}),U=r(c,{...V,gain:0}),q=r(c,{...V,gain:0}),z=r(c,{...V,gain:0}),H=s(c,256,6,1),R=i(c,{...V,curve:new Float32Array([1,1]),oversample:"none"});let F=[y,d,_],ne=[S,k,E];const J=new Float32Array(1);H.onaudioprocess=({inputBuffer:K})=>{const pe=[l(K,J,0),l(K,J,1),l(K,J,2)];pe.some((ye,He)=>ye!==F[He])&&(D.setOrientation(...pe),F=pe);const Ne=[l(K,J,3),l(K,J,4),l(K,J,5)];Ne.some((ye,He)=>ye!==ne[He])&&(D.setPosition(...Ne),ne=Ne)},Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0});const G={get bufferSize(){},get channelCount(){return D.channelCount},set channelCount(K){if(K>2)throw o();P.channelCount=K,D.channelCount=K},get channelCountMode(){return D.channelCountMode},set channelCountMode(K){if(K==="max")throw o();P.channelCountMode=K,D.channelCountMode=K},get channelInterpretation(){return D.channelInterpretation},set channelInterpretation(K){P.channelInterpretation=K,D.channelInterpretation=K},get coneInnerAngle(){return D.coneInnerAngle},set coneInnerAngle(K){D.coneInnerAngle=K},get coneOuterAngle(){return D.coneOuterAngle},set coneOuterAngle(K){D.coneOuterAngle=K},get coneOuterGain(){return D.coneOuterGain},set coneOuterGain(K){if(K<0||K>1)throw e();D.coneOuterGain=K},get context(){return D.context},get distanceModel(){return D.distanceModel},set distanceModel(K){D.distanceModel=K},get inputs(){return[P]},get maxDistance(){return D.maxDistance},set maxDistance(K){if(K<0)throw new RangeError;D.maxDistance=K},get numberOfInputs(){return D.numberOfInputs},get numberOfOutputs(){return D.numberOfOutputs},get orientationX(){return x.gain},get orientationY(){return B.gain},get orientationZ(){return Q.gain},get panningModel(){return D.panningModel},set panningModel(K){D.panningModel=K},get positionX(){return U.gain},get positionY(){return q.gain},get positionZ(){return z.gain},get refDistance(){return D.refDistance},set refDistance(K){if(K<0)throw new RangeError;D.refDistance=K},get rolloffFactor(){return D.rolloffFactor},set rolloffFactor(K){if(K<0)throw new RangeError;D.rolloffFactor=K},addEventListener(...K){return P.addEventListener(K[0],K[1],K[2])},dispatchEvent(...K){return P.dispatchEvent(K[0])},removeEventListener(...K){return P.removeEventListener(K[0],K[1],K[2])}};h!==G.coneInnerAngle&&(G.coneInnerAngle=h),m!==G.coneOuterAngle&&(G.coneOuterAngle=m),f!==G.coneOuterGain&&(G.coneOuterGain=f),g!==G.distanceModel&&(G.distanceModel=g),p!==G.maxDistance&&(G.maxDistance=p),y!==G.orientationX.value&&(G.orientationX.value=y),d!==G.orientationY.value&&(G.orientationY.value=d),_!==G.orientationZ.value&&(G.orientationZ.value=_),v!==G.panningModel&&(G.panningModel=v),S!==G.positionX.value&&(G.positionX.value=S),k!==G.positionY.value&&(G.positionY.value=k),E!==G.positionZ.value&&(G.positionZ.value=E),C!==G.refDistance&&(G.refDistance=C),N!==G.rolloffFactor&&(G.rolloffFactor=N),(F[0]!==1||F[1]!==0||F[2]!==0)&&D.setOrientation(...F),(ne[0]!==0||ne[1]!==0||ne[2]!==0)&&D.setPosition(...ne);const ie=()=>{P.connect(D),t(P,R,0,0),R.connect(x).connect(T,0,0),R.connect(B).connect(T,0,1),R.connect(Q).connect(T,0,2),R.connect(U).connect(T,0,3),R.connect(q).connect(T,0,4),R.connect(z).connect(T,0,5),T.connect(H).connect(c.destination)},fe=()=>{P.disconnect(D),a(P,R,0,0),R.disconnect(x),x.disconnect(T),R.disconnect(B),B.disconnect(T),R.disconnect(Q),Q.disconnect(T),R.disconnect(U),U.disconnect(T),R.disconnect(q),q.disconnect(T),R.disconnect(z),z.disconnect(T),T.disconnect(H),H.disconnect(c.destination)};return u(Js(G,D),ie,fe)},Xx=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},lo=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Yx=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return it(i,r),Qe(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},Kx=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(g,p,y,d)=>{const _=new Float32Array(16385),v=new Float32Array(16385);for(let I=0;I<16385;I+=1){const D=I/16384*l;_[I]=Math.cos(D),v[I]=Math.sin(D)}const S=n(g,{...u,gain:0}),k=r(g,{...c,curve:_}),E=r(g,{...c,curve:a}),C=n(g,{...u,gain:0}),N=r(g,{...c,curve:v});return{connectGraph(){p.connect(S),p.connect(E.inputs===void 0?E:E.inputs[0]),p.connect(C),E.connect(y),y.connect(k.inputs===void 0?k:k.inputs[0]),y.connect(N.inputs===void 0?N:N.inputs[0]),k.connect(S.gain),N.connect(C.gain),S.connect(d,0,0),C.connect(d,0,1)},disconnectGraph(){p.disconnect(S),p.disconnect(E.inputs===void 0?E:E.inputs[0]),p.disconnect(C),E.disconnect(y),y.disconnect(k.inputs===void 0?k:k.inputs[0]),y.disconnect(N.inputs===void 0?N:N.inputs[0]),k.disconnect(S.gain),N.disconnect(C.gain),S.disconnect(d,0,0),C.disconnect(d,0,1)}}},m=(g,p,y,d)=>{const _=new Float32Array(16385),v=new Float32Array(16385),S=new Float32Array(16385),k=new Float32Array(16385),E=Math.floor(16385/2);for(let U=0;U<16385;U+=1)if(U>E){const q=(U-E)/(16384-E)*l;_[U]=Math.cos(q),v[U]=Math.sin(q),S[U]=0,k[U]=1}else{const q=U/(16384-E)*l;_[U]=1,v[U]=0,S[U]=Math.cos(q),k[U]=Math.sin(q)}const C=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),N=n(g,{...u,gain:0}),I=r(g,{...c,curve:_}),D=n(g,{...u,gain:0}),V=r(g,{...c,curve:v}),T=r(g,{...c,curve:a}),P=n(g,{...u,gain:0}),x=r(g,{...c,curve:S}),B=n(g,{...u,gain:0}),Q=r(g,{...c,curve:k});return{connectGraph(){p.connect(C),p.connect(T.inputs===void 0?T:T.inputs[0]),C.connect(N,0),C.connect(D,0),C.connect(P,1),C.connect(B,1),T.connect(y),y.connect(I.inputs===void 0?I:I.inputs[0]),y.connect(V.inputs===void 0?V:V.inputs[0]),y.connect(x.inputs===void 0?x:x.inputs[0]),y.connect(Q.inputs===void 0?Q:Q.inputs[0]),I.connect(N.gain),V.connect(D.gain),x.connect(P.gain),Q.connect(B.gain),N.connect(d,0,0),P.connect(d,0,0),D.connect(d,0,1),B.connect(d,0,1)},disconnectGraph(){p.disconnect(C),p.disconnect(T.inputs===void 0?T:T.inputs[0]),C.disconnect(N,0),C.disconnect(D,0),C.disconnect(P,1),C.disconnect(B,1),T.disconnect(y),y.disconnect(I.inputs===void 0?I:I.inputs[0]),y.disconnect(V.inputs===void 0?V:V.inputs[0]),y.disconnect(x.inputs===void 0?x:x.inputs[0]),y.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),I.disconnect(N.gain),V.disconnect(D.gain),x.disconnect(P.gain),Q.disconnect(B.gain),N.disconnect(d,0,0),P.disconnect(d,0,0),D.disconnect(d,0,1),B.disconnect(d,0,1)}}},f=(g,p,y,d,_)=>{if(p===1)return h(g,y,d,_);if(p===2)return m(g,y,d,_);throw s()};return(g,{channelCount:p,channelCountMode:y,pan:d,..._})=>{if(y==="max")throw s();const v=t(g,{..._,channelCount:1,channelCountMode:y,numberOfInputs:2}),S=n(g,{..._,channelCount:p,channelCountMode:y,gain:1}),k=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:d});let{connectGraph:E,disconnectGraph:C}=f(g,p,S,k,v);Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"maxValue",{get:()=>1}),Object.defineProperty(k.gain,"minValue",{get:()=>-1});const N={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(T){S.channelCount!==T&&(I&&C(),{connectGraph:E,disconnectGraph:C}=f(g,T,S,k,v),I&&E()),S.channelCount=T},get channelCountMode(){return S.channelCountMode},set channelCountMode(T){if(T==="clamped-max"||T==="max")throw s();S.channelCountMode=T},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(T){S.channelInterpretation=T},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get pan(){return k.gain},addEventListener(...T){return S.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return S.dispatchEvent(T[0])},removeEventListener(...T){return S.removeEventListener(T[0],T[1],T[2])}};let I=!1;const D=()=>{E(),I=!0},V=()=>{C(),I=!1};return i(Js(N,v),D,V)}},Jx=(t,e,n,r,s,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);it(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();Ve(u,{curve:c},"curve"),Ve(u,l,"oversample");let h=null,m=!1;return o(u,"curve",p=>()=>p.call(u),p=>y=>(p.call(u,y),m&&(r(y)&&h===null?h=t(a,u):!r(y)&&h!==null&&(h(),h=null)),y)),s(u,()=>{m=!0,r(u.curve)&&(h=t(a,u))},()=>{m=!1,h!==null&&(h(),h=null)})},e2=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();it(u,l),it(c,l);const h=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1}),f=n(i,{...l,gain:1}),g=n(i,{...l,gain:-1});let p=null,y=!1,d=null;const _={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(k){h.channelCount=k,m.channelCount=k,u.channelCount=k,f.channelCount=k,c.channelCount=k,g.channelCount=k},get channelCountMode(){return u.channelCountMode},set channelCountMode(k){h.channelCountMode=k,m.channelCountMode=k,u.channelCountMode=k,f.channelCountMode=k,c.channelCountMode=k,g.channelCountMode=k},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(k){h.channelInterpretation=k,m.channelInterpretation=k,u.channelInterpretation=k,f.channelInterpretation=k,c.channelInterpretation=k,g.channelInterpretation=k},get context(){return u.context},get curve(){return d},set curve(k){if(k!==null&&k.length<2)throw e();if(k===null)u.curve=k,c.curve=k;else{const E=k.length,C=new Float32Array(E+2-E%2),N=new Float32Array(E+2-E%2);C[0]=k[0],N[0]=-k[E-1];const I=Math.ceil((E+1)/2),D=(E+1)/2-1;for(let V=1;V<I;V+=1){const T=V/I*D,P=Math.floor(T),x=Math.ceil(T);C[V]=P===x?k[P]:(1-(T-P))*k[P]+(1-(x-T))*k[x],N[V]=P===x?-k[E-1-P]:-((1-(T-P))*k[E-1-P])-(1-(x-T))*k[E-1-x]}C[I]=E%2===1?k[I-1]:(k[I-2]+k[I-1])/2,u.curve=C,c.curve=N}d=k,y&&(r(d)&&p===null?p=t(i,h):p!==null&&(p(),p=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(k){u.oversample=k,c.oversample=k},addEventListener(...k){return h.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return h.dispatchEvent(k[0])},removeEventListener(...k){return h.removeEventListener(k[0],k[1],k[2])}};o!==null&&(_.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==_.oversample&&(_.oversample=a);const v=()=>{h.connect(u).connect(f),h.connect(m).connect(c).connect(g).connect(f),y=!0,r(d)&&(p=t(i,h))},S=()=>{h.disconnect(u),u.disconnect(f),h.disconnect(m),m.disconnect(c),c.disconnect(g),g.disconnect(f),y=!1,p!==null&&(p(),p=null)};return s(Js(_,f),v,S)},Ct=()=>new DOMException("","NotSupportedError"),t2={numberOfChannels:1},n2=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:m}={...t2,...u},f=r(h,c,m);e(Xi,()=>Xi(f))||f.addEventListener("statechange",(()=>{let g=0;const p=y=>{this._state==="running"&&(g>0?(f.removeEventListener("statechange",p),y.stopImmediatePropagation(),this._waitForThePromiseToSettle(y)):g+=1)};return p})()),super(f,h),this._length=c,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Mg(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},r2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},s2=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...r2,...u},m=n(c,h),f=i(c),g=f?r():null,p=l.sampleRate/2;super(l,!1,m,g),this._detune=e(this,f,m.detune,153600,-153600),this._frequency=e(this,f,m.frequency,p,-p),this._nativeOscillatorNode=m,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){qs(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Wn(this)&&so(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},i2=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let m=n(c);const f=_t(m,h);if(!f){const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:o===null?void 0:o,type:m.type};m=e(h,g),a!==null&&m.start(a),l!==null&&m.stop(l)}return i.set(h,m),f?(await t(h,c.detune,m.detune),await t(h,c.frequency,m.frequency)):(await r(h,c.detune,m.detune),await r(h,c.frequency,m.frequency)),await s(c,h,m),m};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const m=i.get(h);return m!==void 0?Promise.resolve(m):u(c,h)}}},o2={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},a2=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...o2,...u},m=n(c,h),f=i(c),g=f?r():null;super(l,!1,m,g),this._nativePannerNode=m,this._orientationX=e(this,f,m.orientationX,vt,At),this._orientationY=e(this,f,m.orientationY,vt,At),this._orientationZ=e(this,f,m.orientationZ,vt,At),this._positionX=e(this,f,m.positionX,vt,At),this._positionY=e(this,f,m.positionY,vt,At),this._positionZ=e(this,f,m.positionZ,vt,At),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},l2=(t,e,n,r,s,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const m=async(f,g)=>{let p=null,y=i(f);const d={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation},_={...d,coneInnerAngle:y.coneInnerAngle,coneOuterAngle:y.coneOuterAngle,coneOuterGain:y.coneOuterGain,distanceModel:y.distanceModel,maxDistance:y.maxDistance,panningModel:y.panningModel,refDistance:y.refDistance,rolloffFactor:y.rolloffFactor},v=_t(y,g);if("bufferSize"in y)p=r(g,{...d,gain:1});else if(!v){const S={..._,orientationX:y.orientationX.value,orientationY:y.orientationY.value,orientationZ:y.orientationZ.value,positionX:y.positionX.value,positionY:y.positionY.value,positionZ:y.positionZ.value};y=s(g,S)}if(c.set(g,p===null?y:p),p!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=new o(6,f.context.length,g.sampleRate),T=e(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});T.connect(V.destination),h=(async()=>{const P=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(x,B)=>{const Q=n(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:B===0?1:0});return await a(V,x,Q.offset),Q}));for(let x=0;x<6;x+=1)P[x].connect(T,0,x),P[x].start(0);return u(V)})()}const S=await h,k=r(g,{...d,gain:1});await l(f,g,k);const E=[];for(let V=0;V<S.numberOfChannels;V+=1)E.push(S.getChannelData(V));let C=[E[0][0],E[1][0],E[2][0]],N=[E[3][0],E[4][0],E[5][0]],I=r(g,{...d,gain:1}),D=s(g,{..._,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:N[0],positionY:N[1],positionZ:N[2]});k.connect(I).connect(D.inputs[0]),D.connect(p);for(let V=128;V<S.length;V+=128){const T=[E[0][V],E[1][V],E[2][V]],P=[E[3][V],E[4][V],E[5][V]];if(T.some((x,B)=>x!==C[B])||P.some((x,B)=>x!==N[B])){C=T,N=P;const x=V/g.sampleRate;I.gain.setValueAtTime(0,x),I=r(g,{...d,gain:0}),D=s(g,{..._,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:N[0],positionY:N[1],positionZ:N[2]}),I.gain.setValueAtTime(1,x),k.connect(I).connect(D.inputs[0]),D.connect(p)}}return p}return v?(await t(g,f.orientationX,y.orientationX),await t(g,f.orientationY,y.orientationY),await t(g,f.orientationZ,y.orientationZ),await t(g,f.positionX,y.positionX),await t(g,f.positionY,y.positionY),await t(g,f.positionZ,y.positionZ)):(await a(g,f.orientationX,y.orientationX),await a(g,f.orientationY,y.orientationY),await a(g,f.orientationZ,y.orientationZ),await a(g,f.positionX,y.positionX),await a(g,f.positionY,y.positionY),await a(g,f.positionZ,y.positionZ)),Ks(y)?await l(f,g,y.inputs[0]):await l(f,g,y),y};return{render(f,g){const p=c.get(g);return p!==void 0?Promise.resolve(p):m(f,g)}}},u2={disableNormalization:!1},c2=(t,e,n,r)=>class Wg{constructor(i,o){const a=e(i),l=r({...u2,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Wg.prototype||n.has(i)}},h2=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),d2=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const m=await e(u).render(u,s),f=r.context.destination;!n(u)&&(r!==f||!n(r))&&m.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},f2=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,s);n(a)||c.connect(i,l)}))},p2=(t,e,n,r)=>s=>t(Xi,()=>Xi(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),m2=t=>(e,n)=>{t.set(e,n)},g2=t=>(e,n)=>t.set(e,n),_2=(t,e,n,r,s,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(c=>n(c).render(c,u)))).then(()=>s(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),vh(c)):e(i,()=>i(c))||a(c),t.add(c),c)),y2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},v2=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...y2,...l},h=n(u,c),m=i(u),f=m?r():null;super(a,!1,h,f),this._pan=e(this,m,h.pan)}get pan(){return this._pan}},w2=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=_t(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),Ks(u)?await s(a,l,u.inputs[0]):await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},x2=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},k2=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},S2=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},C2=()=>new DOMException("","UnknownError"),T2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},b2=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...T2,...u},m=n(c,h),g=i(c)?r():null;super(l,!0,m,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=m,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},E2=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!_t(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),Ks(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},N2=()=>typeof window>"u"?null:window,A2=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)r[h]=u[h+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=r[h]}},O2=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},I2=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},M2=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},Ug=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),qg=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},uo=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},D2=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),R2=t=>({...t,channelCount:t.numberOfOutputs}),P2=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},$g=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;$g(t,e,n+1e-7)}},F2=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},j2=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},z2=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Ch=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Gg=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Th=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},L2=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},V2=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},Hg=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Js(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},ei=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},B2=a1(ns),W2=f1(ns),U2=Tw(fl),Zg=new WeakMap,q2=Uw(Zg),vn=tw(new Map,new WeakMap),Nn=N2(),Qg=vx(vn,On),bh=Ww(wt),dt=d2(wt,bh,Xr),$2=y1(Qg,ze,dt),Pe=Gw(dl),Xn=Gx(Nn),De=ux(Xn),Xg=new WeakMap,Yg=Pw(ei),co=Sx(Nn),Eh=ix(co),Nh=ox(Nn),Kg=ax(Nn),Yi=Tx(Nn),Ye=U1(l1(Tg),d1(B2,W2,za,U2,La,wt,q2,ro,ze,ns,Wn,Xr,aa),vn,ex(pc,La,wt,ze,Qi,Wn),On,pl,Ct,xw(za,pc,wt,ze,Qi,Pe,Wn,De),Nw(Xg,wt,gn),Yg,Pe,Eh,Nh,Kg,De,Yi),G2=_1(Ye,$2,On,Qg,Pe,De),Ah=new WeakSet,zf=wx(Nn),Jg=pw(new Uint32Array(1)),Oh=A2(Jg,On),Ih=O2(Jg),e_=w1(Ah,vn,Ct,zf,Xn,x2(zf),Oh,Ih),ml=p1(Pt),t_=f2(bh,io,Xr),In=lw(t_),ti=kx(ml,vn,F2,j2,z2,Ch,Gg,Th,V2,I2(uo),Hg),Mn=h2(qw(io),t_),H2=S1(In,ti,ze,Mn,dt),wn=q1(u1(bg),Xg,yh,$1,t1,n1,r1,s1,i1,hc,Sg,co,$g),Z2=k1(Ye,H2,wn,lt,ti,Pe,De,ei),Q2=M1(Ye,D1,On,lt,Cx(Pt,uo),Pe,De,dt),X2=ew(In,Vg,ze,Mn,dt),rs=g2(Zg),Y2=J1(Ye,wn,X2,pl,Vg,Pe,De,rs),Ar=_x(ns,Nh),K2=M2(lt,Ar),Or=Mx(co,K2),J2=sw(Or,ze,dt),ek=rw(Ye,J2,Or,Pe,De),tk=aw(ao,ze,dt),nk=ow(Ye,tk,ao,Pe,De,R2),rk=Px(ml,ti,Pt,Ar),ni=Rx(ml,vn,rk,Ch,Th),sk=fw(In,ni,ze,Mn,dt),ik=dw(Ye,wn,sk,ni,Pe,De,ei),n_=Fx(Ct,uo),ok=_w(n_,ze,dt),ak=gw(Ye,ok,n_,Pe,De,rs),lk=Cw(In,Bg,ze,Mn,dt),uk=Sw(Ye,wn,lk,Bg,Pe,De,rs),r_=jx(Ct),ck=Mw(In,r_,ze,Mn,dt),hk=Iw(Ye,wn,ck,r_,Ct,Pe,De,rs),dk=Vw(In,Pt,ze,Mn,dt),fk=Lw(Ye,wn,dk,Pt,Pe,De),pk=Bx(pl,lt,lo,Ct),gl=p2(vn,Pt,lo,S2(Pt,Xn)),mk=Jw(ti,ze,Xn,dt,gl),gk=zx(pk),_k=Yw(Ye,gk,mk,Pe,De,rs),yk=R1(wn,Or,ni,lo,Ct,Ug,De,uo),s_=new WeakMap,vk=gx(Q2,yk,Yg,De,s_,ei),i_=Hx(ml,vn,Ch,Gg,Th,Hg),wk=i2(In,i_,ze,Mn,dt),xk=s2(Ye,wn,i_,wk,Pe,De,ei),o_=cw(ti),kk=e2(o_,lt,Pt,qg,Ar),_l=Jx(o_,lt,kk,qg,Ar,co,uo),Sk=Qx(za,lt,Or,Pt,lo,_l,Ct,La,Ug,Ar),a_=Zx(Sk),Ck=l2(In,Or,ni,Pt,a_,ze,Xn,Mn,dt,gl),Tk=a2(Ye,wn,a_,Ck,Pe,De,rs),bk=Xx(On),Ek=c2(bk,Pe,new WeakSet,P2),Nk=Kx(Or,ao,Pt,_l,Ct,Ar),l_=Yx(Nk,Ct),Ak=w2(In,l_,ze,Mn,dt),Ok=v2(Ye,wn,l_,Ak,Pe,De),Ik=E2(_l,ze,dt),Mk=b2(Ye,lt,_l,Ik,Pe,De,rs),u_=cx(Nn),Mh=Fw(Nn),c_=new WeakMap,Dk=Hw(c_,Xn),Rk=u_?h1(vn,Ct,Rw(Nn),Mh,jw(o1),Pe,Dk,De,Yi,new WeakMap,new WeakMap,k2(Yi,Xn),Nn):void 0,Pk=lx(Eh,De),Fk=ww(Ah,vn,vw,Dw,new WeakSet,Pe,Pk,Fa,Xi,Oh,Ih),h_=Y1(Rk,G2,e_,Z2,Y2,ek,nk,ik,ak,Fk,uk,hk,fk,_k,vk,xk,Tk,Ek,Ok,Mk),jk=hx(Ye,Wx,Pe,De),zk=fx(Ye,Ux,Pe,De),Lk=px(Ye,qx,Pe,De),Vk=$x(lt,De),Bk=mx(Ye,Vk,Pe),Wk=I1(h_,lt,Ct,C2,jk,zk,Lk,Bk,co),Dh=Zw(s_),Uk=m1(Dh),d_=uw(On),qk=bw(Dh),f_=Aw(On),p_=new WeakMap,$k=Bw(p_,gn),Gk=Ix(d_,On,lt,Or,ao,ni,Pt,lo,Ct,f_,Mh,$k,Ar),Hk=Ex(lt,Gk,Pt,Ct,Ar),Zk=X1(In,d_,ti,Or,ao,ni,Pt,qk,f_,Mh,ze,Yi,Xn,Mn,dt,gl),Qk=$w(c_),Xk=m2(p_),Lf=u_?H1(Uk,Ye,wn,Zk,Hk,wt,Qk,Pe,De,Yi,D2,Xk,L2,ei):void 0,Yk=yw(Ct,Xn),Kk=_2(Ah,vn,bh,Dh,gl,Fa,Oh,Ih),Jk=n2(h_,vn,lt,Yk,Kk),eS=tx(dl,Eh),tS=nx(_h,Nh),nS=rx(yh,Kg),rS=sx(dl,De);function Jt(t){return t===void 0}function we(t){return t!==void 0}function sS(t){return typeof t=="function"}function Sr(t){return typeof t=="number"}function Ur(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function iS(t){return typeof t=="boolean"}function pn(t){return Array.isArray(t)}function Hn(t){return typeof t=="string"}function $o(t){return Hn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function me(t,e){if(!t)throw new Error(e)}function Zn(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function m_(t){!t.isOffline&&t.state!=="running"&&yl('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let g_=!1,Vf=!1;function Bf(t){g_=t}function oS(t){Jt(t)&&g_&&!Vf&&(Vf=!0,yl("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let __=console;function aS(...t){__.log(...t)}function yl(...t){__.warn(...t)}function lS(t){return new Wk(t)}function uS(t,e,n){return new Jk(t,e,n)}const zt=typeof self=="object"?self:null,cS=zt&&(zt.hasOwnProperty("AudioContext")||zt.hasOwnProperty("webkitAudioContext"));function hS(t,e,n){return me(we(Lf),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(zt==null?void 0:zt.BaseAudioContext)?zt==null?void 0:zt.AudioWorkletNode:Lf)(t,e,n)}function xn(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function et(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class dS{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Yr(t){return nS(t)}function yr(t){return tS(t)}function la(t){return rS(t)}function hs(t){return eS(t)}function fS(t){return t instanceof e_}function pS(t,e){return t==="value"||Yr(e)||yr(e)||fS(e)}function Rs(t,...e){if(!e.length)return t;const n=e.shift();if(Ur(t)&&Ur(n))for(const r in n)pS(r,n[r])?t[r]=n[r]:Ur(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Rs(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Rs(t,...e)}function mS(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function ue(t,e,n=[],r){const s={},i=Array.from(e);if(Ur(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Rs(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Ur(i[0]))Rs(s,i[0]);else for(let o=0;o<n.length;o++)we(i[o])&&(s[n[o]]=i[o]);return Rs(t,s)}function gS(t){return t.constructor.getDefaults()}function Ps(t,e){return Jt(t)?e:t}function Wf(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Yn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||zt&&this.toString()===zt.TONE_DEBUG_CLASS)&&aS(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Yn.version=kg;const Rh=1e-6;function $s(t,e){return t>e+Rh}function vc(t,e){return $s(t,e)||un(t,e)}function Ua(t,e){return t+Rh<e}function un(t,e){return Math.abs(t-e)<Rh}function _S(t,e,n){return Math.max(Math.min(t,n),e)}class en extends Yn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ue(en.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(me(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];me(vc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(un(this._timeline[n].time,e)){for(let r=n;r>=0&&un(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&vc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(un(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(un(c[n],e))o=u;else break}return o}else{if(Ua(a[n],e)&&$s(l[n],e))return o;$s(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&un(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&un(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const y_=[];function vl(t){y_.push(t)}function yS(t){y_.forEach(e=>e(t))}const v_=[];function wl(t){v_.push(t)}function vS(t){v_.forEach(e=>e(t))}class ho extends Yn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{Jt(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(Jt(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Jt(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(ho.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class w_ extends ho{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class fo extends w_{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new en,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=ue(fo.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=lS({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new dS(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(yS(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return me(hs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return me(hs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return me(hs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){me(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){me(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){me(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){me(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return hS(this.rawContext,e,n)}addAudioWorkletModule(e){return et(this,void 0,void 0,function*(){me(we(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return et(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return hs(this._context)?this._context.resume():Promise.resolve()}close(){return et(this,void 0,void 0,function*(){hs(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&vS(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class wS extends w_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return et(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Se(t,e){pn(e)?e.forEach(n=>Se(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function po(t,e){pn(e)?e.forEach(n=>po(t,n)):Object.defineProperty(t,e,{writable:!0})}const Oe=()=>{};class Le extends Yn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Oe;const e=ue(Le.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Hn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Oe,onload:Oe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Xt().sampleRate}set(e){return e instanceof Le?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return et(this,void 0,void 0,function*(){const n=Le.load(e).then(r=>{this.set(r),this.onload(this)});Le.downloads.push(n);try{yield n}finally{const r=Le.downloads.indexOf(n);Le.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=pn(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Xt(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(Sr(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(Sr(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){me(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);me(r<s,"The start time must be less than the end time");const i=s-r,o=Xt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new Le(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Le().fromArray(e)}static fromUrl(e){return et(this,void 0,void 0,function*(){return yield new Le().load(e)})}static load(e){return et(this,void 0,void 0,function*(){const n=Le.baseUrl===""||Le.baseUrl.endsWith("/")?Le.baseUrl:Le.baseUrl+"/",r=yield fetch(n+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const s=yield r.arrayBuffer();return yield Xt().decodeAudioData(s)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return et(this,void 0,void 0,function*(){for(yield Promise.resolve();Le.downloads.length;)yield Le.downloads[0]})}}Le.baseUrl="";Le.downloads=[];class Ph extends fo{constructor(){super({clockSource:"offline",context:la(arguments[0])?arguments[0]:uS(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:la(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=la(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return et(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return et(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new Le(n)})}close(){return Promise.resolve()}}const x_=new wS;let Vr=x_;function Xt(){return Vr===x_&&cS&&xS(new fo),Vr}function xS(t,e=!1){e&&Vr.dispose(),hs(t)?Vr=new fo(t):la(t)?Vr=new Ph(t):Vr=t}function kS(){return Vr.resume()}if(zt&&!zt.TONE_SILENCE_LOGGING){const e=` * Tone.js v${kg} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function SS(t){return Math.pow(10,t/20)}function k_(t){return 20*(Math.log(t)/Math.LN10)}function qa(t){return Math.pow(2,t/12)}let xl=440;function CS(){return xl}function TS(t){xl=t}function wc(t){return Math.round(S_(t))}function S_(t){return 69+12*Math.log2(t/xl)}function bS(t){return xl*Math.pow(2,(t-69)/12)}class Fh extends Yn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Fh&&this.fromType(this._val),Jt(this._val))return this._noArg();if(Hn(this._val)&&Jt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Ur(this._val)){let e=0;for(const n in this._val)if(we(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(we(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Hn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class cn extends Fh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new cn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new cn(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new cn(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return wc(this.toFrequency())}_now(){return this.context.now()}}class Yt extends cn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return CS()}static set A4(e){TS(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Yt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=ES[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:Yt.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Yt(this.context,this.valueOf()*qa(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return wc(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Yt.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),NS[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return bS(e)}static ftom(e){return wc(e)}}const ES={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},NS=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Ii extends cn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Rt extends Yn{constructor(){super();const e=ue(Rt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Xt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return oS(e),new cn(this.context,e).toSeconds()}toFrequency(e){return new Yt(this.context,e).toFrequency()}toTicks(e){return new Ii(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Jt(e[r])&&delete n[r]}),n}get(){const e=gS(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];we(r)&&we(r.value)&&we(r.setValueAtTime)?e[n]=r.value:r instanceof Rt?e[n]=r._getPartialProperties(e[n]):pn(r)||Sr(r)||Hn(r)||iS(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&we(this[n])&&(this[n]&&we(this[n].value)&&we(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Rt?this[n].set(e[n]):this[n]=e[n])}),this}}class jh extends en{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Zn(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class ke extends Rt{constructor(){const e=ue(ke.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,me(we(e.param)&&(Yr(e.param)||e.param instanceof ke),"param must be an AudioParam");!Yr(e.param);)e.param=e.param._param;this._swappable=we(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new en(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,we(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Rt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return we(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return we(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return we(this.maxValue)&&we(this.minValue)&&Zn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?SS(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?k_(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return me(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return me(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=un(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return me(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);me(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),me(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return me(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));me(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&un(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){me(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class le extends Rt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return we(this.input)?Yr(this.input)||this.input instanceof ke?1:this.input.numberOfInputs:0}get numberOfOutputs(){return we(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return we(e)&&(e instanceof le||yr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();me(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return _n(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return yl("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return C_(this,e,n,r),this}chain(...e){return Cr(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),we(this.input)&&(this.input instanceof le?this.input.dispose():yr(this.input)&&this.input.disconnect()),we(this.output)&&(this.output instanceof le?this.output.dispose():yr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Cr(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof le?n.connect(r):yr(n)&&_n(n,r),r),e)}function _n(t,e,n=0,r=0){for(me(we(t),"Cannot connect from undefined node"),me(we(e),"Cannot connect to undefined node"),(e instanceof le||yr(e))&&me(e.numberOfInputs>0,"Cannot connect to node with no inputs"),me(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof le||e instanceof ke;)we(e.input)&&(e=e.input);for(;t instanceof le;)we(t.output)&&(t=t.output);Yr(e)?t.connect(e,n):t.connect(e,n,r)}function C_(t,e,n=0,r=0){if(we(e))for(;e instanceof le;)e=e.input;for(;!yr(t);)we(t.output)&&(t=t.output);Yr(e)?t.disconnect(e,n):yr(e)?t.disconnect(e,n,r):t.disconnect()}class de extends le{constructor(){const e=ue(de.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new ke({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Se(this,"gain")}static getDefaults(){return Object.assign(le.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Gs extends le{constructor(e){super(e),this.onended=Oe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new de({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(le.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Oe})}_startGain(e,n=1){me(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){me(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Oe&&(this.onended(this),this.onended=Oe,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),me(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Oe,this}}class zh extends Gs{constructor(){const e=ue(zh.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),_n(this._source,this._gainNode),this.offset=new ke({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Gs.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ee extends le{constructor(){const e=ue(Ee.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new zh({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(le.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return kl(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function kl(t,e,n,r){(e instanceof ke||Yr(e)||e instanceof Ee&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Ee&&(e.overridden=!0)),_n(t,e,n,r)}class Lh extends ke{constructor(){const e=ue(Lh.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new en(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ke.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,u=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Jt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,u=(-s-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Vh extends Ee{constructor(){const e=ue(Vh.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Lh({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ee.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Bh extends Rt{constructor(){const e=ue(Bh.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new jh,this._tickOffset=new en,this._ticksAtTime=new en,this._secondsAtTime=new en,this.frequency=new Vh({context:this.context,units:e.units,value:e.frequency}),Se(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Rt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),we(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,a=s?s.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let c=o.time;const h=this._tickOffset.get(u.time);h&&h.time>=o.time&&(a=h.ticks,c=h.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==i.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let u=i.time;const c=this._tickOffset.get(l.time);c&&c.time>=i.time&&(o=c.seconds,u=c.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),u=a-l;let c=Math.ceil(u)-u;c=un(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{r(h,Math.round(this.getTicksAtTime(h)))}catch(m){i=m;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Sl extends Rt{constructor(){const e=ue(Sl.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Oe,this._lastUpdate=0,this._state=new jh("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Bh({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Se(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Rt.getDefaults(),{callback:Oe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){m_(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ho.mixin(Sl);class vr extends le{constructor(){const e=ue(vr.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new ke({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Se(this,"delayTime")}static getDefaults(){return Object.assign(le.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class ss extends le{constructor(){const e=ue(ss.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new de({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Se(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(le.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Wh extends le{constructor(){const e=ue(Wh.getDefaults(),arguments);super(e),this.name="Destination",this.input=new ss({context:this.context}),this.output=new de({context:this.context}),this.volume=this.input.volume,Cr(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(le.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Cr(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}vl(t=>{t.destination=new Wh({context:t})});wl(t=>{t.destination.dispose()});class AS extends le{constructor(){super(...arguments),this.name="Listener",this.positionX=new ke({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ke({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ke({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ke({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ke({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ke({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ke({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ke({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ke({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(le.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}vl(t=>{t.listener=new AS({context:t})});wl(t=>{t.listener.dispose()});class Uh extends Yn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ue(Uh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Oe,onload:Oe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return me(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Oe,s=Oe){return Hn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Le(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new Le(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Ts extends Ii{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class OS extends Rt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new en,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}vl(t=>{t.draw=new OS({context:t})});wl(t=>{t.draw.dispose()});class IS extends Yn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){me(we(e.time),"Events must have a time property"),me(we(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new MS(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class MS{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class DS extends Yn{constructor(e){super(),this.name="TimelineValue",this._timeline=new en({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class An extends le{constructor(){super(ue(An.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return kl(this,e,n,r),this}}class ri extends An{constructor(){const e=ue(ri.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,pn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):sS(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ee.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));me(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class qh extends An{constructor(){const e=ue(qh.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ri({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(An.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Tr{constructor(e,n){this.id=Tr._eventId++,this._remainderTime=0;const r=Object.assign(Tr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Oe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Tr._eventId=0;class $h extends Tr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign($h.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Tr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Ua(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ts(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Ua(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ts(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);$s(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Cl extends Rt{constructor(){const e=ue(Cl.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new DS(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new en,this._repeatedEvents=new IS,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Sl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Se(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Rt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Ts(this.context,this._swingTicks*2/3).toSeconds()*s}Bf(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Bf(!1)}schedule(e,n){const r=new Tr(this,{callback:e,time:new Ii(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new $h(this,{callback:e,duration:new cn(this.context,s).toTicks(),interval:new cn(this.context,n).toTicks(),time:new Ii(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Tr(this,{callback:e,once:!0,time:new Ii(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Ts(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return we(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){pn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new cn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new cn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ts(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Ts(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,u=new de(l),c=new qh(-1),h=new de(l);s.chain(u,c,h),s=h,i=1/i,o=[u,c,h]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const a=new de(n);return s.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),po(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ho.mixin(Cl);vl(t=>{t.transport=new Cl({context:t})});wl(t=>{t.transport.dispose()});class Wt extends le{constructor(e){super(e),this.input=void 0,this._state=new jh("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Oe,this._syncedStop=Oe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ss({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Se(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(le.getDefaults(),{mute:!1,onstop:Oe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=Jt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")me($s(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(Ps(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else m_(this.context),this._start(s,n,r);return this}stop(e){let n=Jt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||we(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if($s(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Oe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Tl extends Gs{constructor(){const e=ue(Tl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,_n(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ke({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Le(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Gs.getDefaults(),{url:new Le,loop:!1,loopEnd:0,loopStart:0,onload:Oe,onerror:Oe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){me(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=Ps(n,this.loopStart):n=Ps(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;vc(o,a)&&(o=(o-l)%u+l),un(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ua(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),we(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function is(t,e){return et(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Ph(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Gh extends Gs{constructor(){const e=ue(Gh.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],_n(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ke({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ke({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Se(this,["frequency","detune"])}static getDefaults(){return Object.assign(Gs.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class qe extends Wt{constructor(){const e=ue(qe.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Ee({context:this.context,units:"frequency",value:e.frequency}),Se(this,"frequency"),this.detune=new Ee({context:this.context,units:"cents",value:e.detune}),Se(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Wt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Gh({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return qe._periodicWaveCache.find(n=>n.phase===this._phase&&mS(n.partials,this._partials));{const e=qe._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(we(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),qe._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),qe._periodicWaveCache.length>100&&qe._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Zn(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return _S(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return et(this,arguments,void 0,function*(e=1024){return is(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}qe._periodicWaveCache=[];class T_ extends An{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ri({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Kr extends Ee{constructor(){const e=ue(Kr.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new de({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ee.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class bl extends Wt{constructor(){const e=ue(bl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new T_({context:this.context}),this._modulationNode=new de({context:this.context}),this._carrier=new qe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new qe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Kr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Se(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(qe.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return et(this,arguments,void 0,function*(e=1024){return is(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class El extends Wt{constructor(){const e=ue(El.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new de({context:this.context,gain:0}),this._carrier=new qe({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ee({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new qe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Kr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Kr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Se(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(qe.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return et(this,arguments,void 0,function*(e=1024){return is(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class mo extends Wt{constructor(){const e=ue(mo.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new de({context:this.context,gain:0}),this._thresh=new ri({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Ee({context:this.context,units:"audioRange",value:e.width}),this._triangle=new qe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Se(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Wt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return et(this,arguments,void 0,function*(e=1024){return is(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Nl extends Wt{constructor(){const e=ue(Nl.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Ee({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ee({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Se(this,["frequency","detune"])}static getDefaults(){return Object.assign(qe.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(Zn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new qe({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Oe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return et(this,arguments,void 0,function*(e=1024){return is(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Al extends Wt{constructor(){const e=ue(Al.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Kr({context:this.context,value:2}),this._pulse=new mo({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new qe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Se(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Wt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return et(this,arguments,void 0,function*(e=1024){return is(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Uf={am:bl,fat:Nl,fm:El,oscillator:qe,pulse:mo,pwm:Al};class $a extends Wt{constructor(){const e=ue($a.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Ee({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ee({context:this.context,units:"cents",value:e.detune}),Se(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(qe.getDefaults(),El.getDefaults(),bl.getDefaults(),Nl.getDefaults(),mo.getDefaults(),Al.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Uf[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Uf[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Sr(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Sr(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Hn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return et(this,arguments,void 0,function*(e=1024){return is(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Ol extends Ee{constructor(){super(ue(Ol.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new de({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Cr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Ee.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Hh extends An{constructor(){const e=ue(Hh.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Kr({context:this.context,value:e.max-e.min}),this._add=this.output=new Ol({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(An.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Zh extends An{constructor(){super(ue(Zh.getDefaults(),arguments)),this.name="Zero",this._gain=new de({context:this.context}),this.output=this._gain,this.input=void 0,_n(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),C_(this.context.getConstant(0),this._gain),this}}class qr extends le{constructor(){const e=ue(qr.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=ke.prototype._fromType,this._toType=ke.prototype._toType,this._is=ke.prototype._is,this._clampValue=ke.prototype._clampValue,this._oscillator=new qe(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new de({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Ee({context:this.context,units:"audioRange",value:0}),this._zeros=new Zh({context:this.context}),this._a2g=new T_({context:this.context}),this._scaler=this.output=new Hh({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Se(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(qe.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof ke||e instanceof Ee)&&(this.convert=e.convert,this.units=e.units),kl(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function b_(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Zn(i,t,e),n.set(this,i)}})}}function Kn(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Zn(this.toSeconds(i),t,e),n.set(this,i)}})}}class go extends Wt{constructor(){const e=ue(go.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Le({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Wt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Oe,onerror:Oe,playbackRate:1,reverse:!1})}load(e){return et(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Oe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Ps(n,this._loopStart):n=Ps(n,0);const s=this.toSeconds(n),i=r;r=Ps(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Tl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Jt(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Zn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Zn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}xn([Kn(0)],go.prototype,"fadeIn",void 0);xn([Kn(0)],go.prototype,"fadeOut",void 0);class RS extends An{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new ri({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ir extends le{constructor(){const e=ue(Ir.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Ee({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(le.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Hn(e))return e;{let r;for(r in Go)if(Go[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Hn(r)&&Reflect.has(Go,r)){const s=Go[r];Ur(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(pn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(me(pn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return kl(this,e,n,r),this}asArray(){return et(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new Ph(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}xn([Kn(0)],Ir.prototype,"attack",void 0);xn([Kn(0)],Ir.prototype,"decay",void 0);xn([b_(0,1)],Ir.prototype,"sustain",void 0);xn([Kn(0)],Ir.prototype,"release",void 0);const Go=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const m=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=m/10+n*.83}s[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const m=Math.pow(n,3)*4+.2,f=Math.cos(m*Math.PI*2*n);u[e]=Math.abs(f*(1-n))}function c(m){const f=new Array(m.length);for(let g=0;g<m.length;g++)f[g]=1-m[g];return f}function h(m){return m.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:r,Out:h(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:c(s)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class Hs extends le{constructor(){const e=ue(Hs.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new ss({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Se(this,"volume")}static getDefaults(){return Object.assign(le.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Zs extends Hs{constructor(){const e=ue(Zs.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Hs.getDefaults(),{detune:0,onsilence:Oe,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof Yt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}xn([Kn(0)],Zs.prototype,"portamento",void 0);class Qh extends Ir{constructor(){super(ue(Qh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new de({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ga extends Zs{constructor(){const e=ue(Ga.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new $a(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Qh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Se(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Zs.getDefaults(),{envelope:Object.assign(Wf(Ir.getDefaults(),Object.keys(le.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Wf($a.getDefaults(),[...Object.keys(Wt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ha extends le{constructor(){const e=ue(Ha.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new ke({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new ke({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new ke({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new ke({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(le.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){me(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*19980+20;n[o]=l}const r=new Float32Array(e),s=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,r,s),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class bs extends le{constructor(){const e=ue(bs.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new de({context:this.context}),this.output=new de({context:this.context}),this._filters=[],this._filters=[],this.Q=new Ee({context:this.context,units:"positive",value:e.Q}),this.frequency=new Ee({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ee({context:this.context,units:"cents",value:e.detune}),this.gain=new Ee({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Se(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(le.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){me(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=Sr(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let s=r.indexOf(n);me(s!==-1,`rolloff can only be ${r.join(", ")}`),s+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(s);for(let i=0;i<s;i++){const o=new Ha({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,Cr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new Ha({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>r[o]*=i)}),n.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),po(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Il extends Ga{constructor(){const e=ue(Il.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Se(this,["oscillator","envelope"])}static getDefaults(){return Rs(Zs.getDefaults(),Ga.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof Yt?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}xn([b_(0)],Il.prototype,"octaves",void 0);xn([Kn(0)],Il.prototype,"pitchDecay",void 0);const Xh=new Set;function Yh(t){Xh.add(t)}function E_(t,e){const n=`registerProcessor("${t}", ${e})`;Xh.add(n)}function PS(){return Array.from(Xh).join(`
`)}class qf extends le{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Oe;const n=URL.createObjectURL(new Blob([PS()],{type:"text/javascript"})),r=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(n).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(r,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const FS=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Yh(FS);const jS=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Yh(jS);const zS=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Yh(zS);const LS="feedback-comb-filter",VS=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;E_(LS,VS);class Ml extends Hs{constructor(){const e=ue(Ml.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(me($o(r)||Sr(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),$o(r)){const i=new Yt(this.context,r).toMidi();n[i]=e.urls[r]}else Sr(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new Uh({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Hs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Oe,onerror:Oe,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=S_(new Yt(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=qa(l+a),m=new Tl({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);m.start(n,0,c.duration/h,r),pn(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(m),m.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),g=f.indexOf(m);g!==-1&&f.splice(g,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Yt(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),pn(n)?(me(pn(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(me($o(e)||isFinite(e),`note must be a pitch or midi: ${e}`),$o(e)){const s=new Yt(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}xn([Kn(0)],Ml.prototype,"attack",void 0);xn([Kn(0)],Ml.prototype,"release",void 0);class Jr extends le{constructor(){const e=ue(Jr.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new RS({context:this.context}),this.a=new de({context:this.context,gain:0}),this.b=new de({context:this.context,gain:0}),this.output=new de({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Ee({context:this.context,units:"normalRange",value:e.fade}),Se(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",_n(this._split,this.a.gain,0),_n(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(le.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Za extends le{constructor(e){super(e),this.name="Effect",this._dryWet=new Jr({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new de({context:this.context}),this.effectReturn=new de({context:this.context}),this.input=new de({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Se(this,"wet")}static getDefaults(){return Object.assign(le.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Kh extends le{constructor(){const e=ue(Kh.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new ke({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Se(this,"pan")}static getDefaults(){return Object.assign(le.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const N_="bit-crusher",BS=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;E_(N_,BS);class Jh extends Za{constructor(){const e=ue(Jh.getDefaults(),arguments,["bits"]);super(e),this.name="BitCrusher",this._bitCrusherWorklet=new ed({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Za.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class ed extends qf{constructor(){const e=ue(ed.getDefaults(),arguments);super(e),this.name="BitCrusherWorklet",this.input=new de({context:this.context}),this.output=new de({context:this.context}),this.bits=new ke({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(qf.getDefaults(),{bits:12})}_audioWorkletName(){return N_}onReady(e){Cr(this.input,e,this.output);const n=e.parameters.get("bits");this.bits.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class _o extends le{constructor(){const e=ue(_o.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(le.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Dl extends le{constructor(){const e=ue(Dl.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(le.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class $f extends le{constructor(e){super(e),this.name="StereoEffect",this.input=new de({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Jr({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new _o({context:this.context,channels:2}),this._merge=new Dl({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Se(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Cr(...e),_n(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Cr(...e),_n(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(le.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Gf extends $f{constructor(e){super(e),this.feedback=new Ee({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new de({context:this.context}),this._feedbackR=new de({context:this.context}),this._feedbackSplit=new _o({context:this.context,channels:2}),this._feedbackMerge=new Dl({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Se(this,["feedback"])}static getDefaults(){return Object.assign($f.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class td extends Gf{constructor(){const e=ue(td.getDefaults(),arguments,["frequency","delayTime","depth"]);super(e),this.name="Chorus",this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new qr({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new qr({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new vr({context:this.context}),this._delayNodeR=new vr({context:this.context}),this.frequency=this._lfoL.frequency,Se(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(Gf.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const n=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-n,0),this._lfoL.max=this._delayTime+n,this._lfoR.min=Math.max(this._delayTime-n,0),this._lfoR.max=this._delayTime+n}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Hf extends Za{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new de({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Se(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Za.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class nd extends Hf{constructor(){const e=ue(nd.getDefaults(),arguments,["pitch"]);super(e),this.name="PitchShift",this._frequency=new Ee({context:this.context}),this._delayA=new vr({maxDelay:1,context:this.context}),this._lfoA=new qr({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new vr({maxDelay:1,context:this.context}),this._lfoB=new qr({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Jr({context:this.context}),this._crossFadeLFO=new qr({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new vr({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Se(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const n=this.now();this._lfoA.start(n),this._lfoB.start(n),this._crossFadeLFO.start(n),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Hf.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let n=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,n=qa(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,n=qa(e)-1),this._frequency.value=n*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Rl extends le{constructor(){const e=ue(Rl.getDefaults(),arguments,["type","size"]);super(e),this.name="Analyser",this._analysers=[],this._buffers=[],this.input=this.output=this._gain=new de({context:this.context}),this._split=new _o({context:this.context,channels:e.channels}),this.input.connect(this._split),Zn(e.channels,1);for(let n=0;n<e.channels;n++)this._analysers[n]=this.context.createAnalyser(),this._split.connect(this._analysers[n],n,0);this.size=e.size,this.type=e.type,this.smoothing=e.smoothing}static getDefaults(){return Object.assign(le.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((e,n)=>{const r=this._buffers[n];this._type==="fft"?e.getFloatFrequencyData(r):this._type==="waveform"&&e.getFloatTimeDomainData(r)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach((n,r)=>{n.fftSize=e*2,this._buffers[r]=new Float32Array(e)})}get channels(){return this._analysers.length}get type(){return this._type}set type(e){me(e==="waveform"||e==="fft",`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(n=>n.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(e=>e.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Qa extends le{constructor(){super(ue(Qa.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Rl({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class rd extends Qa{constructor(){const e=ue(rd.getDefaults(),arguments,["smoothing"]);super(e),this.name="Meter",this.input=this.output=this._analyser=new Rl({context:this.context,size:256,type:"waveform",channels:e.channelCount}),this.smoothing=e.smoothing,this.normalRange=e.normalRange,this._rms=new Array(e.channelCount),this._rms.fill(0)}static getDefaults(){return Object.assign(Qa.getDefaults(),{smoothing:.8,normalRange:!1,channelCount:1})}getLevel(){return yl("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const e=this._analyser.getValue(),r=(this.channels===1?[e]:e).map((s,i)=>{const o=s.reduce((l,u)=>l+u*u,0),a=Math.sqrt(o/s.length);return this._rms[i]=Math.max(a,this._rms[i]*this.smoothing),this.normalRange?this._rms[i]:k_(this._rms[i])});return this.channels===1?r[0]:r}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Ke extends le{constructor(){const e=ue(Ke.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new de({context:this.context}),Ke._allSolos.has(this.context)||Ke._allSolos.set(this.context,new Set),Ke._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(le.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ke._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ke._soloed.has(this.context)||Ke._soloed.set(this.context,new Set),Ke._soloed.get(this.context).add(this)}_removeSolo(){Ke._soloed.has(this.context)&&Ke._soloed.get(this.context).delete(this)}_isSoloed(){return Ke._soloed.has(this.context)&&Ke._soloed.get(this.context).has(this)}_noSolos(){return!Ke._soloed.has(this.context)||Ke._soloed.has(this.context)&&Ke._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ke._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ke._allSolos=new Map;Ke._soloed=new Map;class sd extends le{constructor(){const e=ue(sd.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Kh({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ss({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Se(this,["pan","volume"])}static getDefaults(){return Object.assign(le.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Es extends le{constructor(){const e=ue(Es.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ke({solo:e.solo,context:this.context}),this._panVol=this.output=new sd({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Se(this,["pan","volume"])}static getDefaults(){return Object.assign(le.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Es.buses.has(e)||Es.buses.set(e,new de({context:this.context})),Es.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new de({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Es.buses=new Map;class id extends le{constructor(){const e=ue(id.getDefaults(),arguments,["lowFrequency","highFrequency"]);super(e),this.name="MultibandSplit",this.input=new de({context:this.context}),this.output=void 0,this.low=new bs({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new bs({context:this.context,frequency:0,type:"highpass"}),this.mid=new bs({context:this.context,frequency:0,type:"lowpass"}),this.high=new bs({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high],this.lowFrequency=new Ee({context:this.context,units:"frequency",value:e.lowFrequency}),this.highFrequency=new Ee({context:this.context,units:"frequency",value:e.highFrequency}),this.Q=new Ee({context:this.context,units:"positive",value:e.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Se(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(le.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),po(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class od extends le{constructor(){const e=ue(od.getDefaults(),arguments,["low","mid","high"]);super(e),this.name="EQ3",this.output=new de({context:this.context}),this._internalChannels=[],this.input=this._multibandSplit=new id({context:this.context,highFrequency:e.highFrequency,lowFrequency:e.lowFrequency}),this._lowGain=new de({context:this.context,gain:e.low,units:"decibels"}),this._midGain=new de({context:this.context,gain:e.mid,units:"decibels"}),this._highGain=new de({context:this.context,gain:e.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Se(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(le.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),po(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}function Zf(){return Xt().now()}Xt().transport;Xt().destination;Xt().destination;Xt().listener;Xt().draw;Xt();function us(t){return t<0?0:t>1?1:t}function Qf(t,e,n){return t+(e-t)*n}function WS(t){const e=Math.max(t,1e-8);return 20*Math.log10(e)}class US{constructor(e){Ce(this,"player");Ce(this,"preGain");Ce(this,"ringOsc");Ce(this,"ringScale");Ce(this,"ringOffset");Ce(this,"ringScale2");Ce(this,"ringVCA");Ce(this,"ringCross");Ce(this,"crush");Ce(this,"delay");Ce(this,"feedbackGain");Ce(this,"vol");Ce(this,"warpChorus");Ce(this,"warpXfade");Ce(this,"warpDepthCur",0);Ce(this,"warpScaleCur",0);Ce(this,"eqLow");Ce(this,"gateThresh",-60);Ce(this,"gateRelease",.1);Ce(this,"gateIn");Ce(this,"gateEnv");Ce(this,"gateVCA");Ce(this,"harmoEnabled",!1);Ce(this,"harmoVoices",[]);Ce(this,"harmoPitchShifters",[]);Ce(this,"harmoVoiceMix",[]);Ce(this,"harmoBus");Ce(this,"masterOut");Ce(this,"built",!1);Ce(this,"durationSec",0);Ce(this,"srcUrl");Ce(this,"started",!1);this.srcUrl=e,this.player=new go({url:e,autostart:!1,loop:!0}),this.player.load(e).then(n=>{const r=n.buffer;this.durationSec=r?r.duration:0}).catch(n=>console.error("AudioGraph: failed to load source",n)),this.preGain=new de(1),this.ringOsc=new qe(440,"sine"),this.ringScale=new de(1),this.ringOffset=new Ol(1),this.ringScale2=new de(.5),this.ringVCA=new de(0),this.ringCross=new Jr(0),this.crush=new Jh({bits:16}),this.delay=new vr(.2),this.feedbackGain=new de(0),this.vol=new ss(-12),this.warpChorus=new td({frequency:.1,delayTime:5,depth:0,spread:180,type:"sine",wet:1}).start(),this.warpXfade=new Jr(0),this.eqLow=new od({low:0,mid:0,high:0}),this.gateIn=new de(1),this.gateEnv=new rd,this.gateVCA=new de(1),this.gateVCA.gain.value=1,this.harmoBus=new de(0),this.masterOut=new de(1).toDestination(),this.build()}build(){this.player.connect(this.preGain),this.preGain.connect(this.ringCross.a),this.preGain.connect(this.ringVCA),this.ringVCA.connect(this.ringCross.b),this.ringOsc.connect(this.ringScale),this.ringScale.connect(this.ringOffset),this.ringOffset.connect(this.ringScale2),this.ringScale2.connect(this.ringVCA.gain),this.ringCross.connect(this.crush),this.crush.connect(this.delay),this.delay.connect(this.feedbackGain),this.feedbackGain.connect(this.delay),this.delay.connect(this.vol),this.vol.connect(this.warpXfade.a),this.vol.connect(this.warpChorus),this.warpChorus.connect(this.warpXfade.b),this.warpXfade.connect(this.eqLow),this.harmoBus.connect(this.eqLow),this.eqLow.fan(this.gateIn,this.gateEnv),this.gateIn.connect(this.gateVCA),this.gateVCA.connect(this.masterOut),this.built=!0}async start(){this.started||(await kS(),this.player.start(),this.ringOsc.start(),this.started=!0)}getStream(){}getDuration(){return this.durationSec}seek(e){if(!this.player.buffer)return;const n=this.player.buffer.duration;this.player.seek(Math.max(0,Math.min(n,e)))}seekVoice(e,n){}getGateLevel(){const e=this.gateEnv.getValue(),n=Array.isArray(e)?e[0]??0:e;return WS(n)}getGateOpen(){return this.getGateLevel()>=this.gateThresh}setGateThresh(e){this.gateThresh=e,this._applyGate()}setGateRelease(e){this.gateRelease=Math.max(.001,e),this._applyGate()}_applyGate(){this.gateVCA.gain.value=1}async fadeIn(e){const n=Zf();this.masterOut.gain.cancelScheduledValues(n),this.masterOut.gain.rampTo(1,e)}async fadeOut(e){const n=Zf();this.masterOut.gain.cancelScheduledValues(n),this.masterOut.gain.rampTo(0,e)}rebuildChain(e){}setRingMod(e,n){this.ringOsc.frequency.rampTo(e,.05);const r=us(n);this.ringCross.fade.rampTo(r,.05),this.ringScale.gain.rampTo(r,.05)}setRingWave(e){const n=e==="saw"?"sawtooth":e;this.ringOsc.type=n}setHarmoEnabled(e){this.harmoEnabled=e,this._updateHarmoRouting()}setHarmoVoices(e,n,r){this.harmoVoices=n.slice(0,3),this._updateHarmoRouting()}_updateHarmoRouting(){if(this.harmoPitchShifters.forEach((e,n)=>{try{this.harmoBus.disconnect(e)}catch{}try{e.dispose()}catch{}const r=this.harmoVoiceMix[n];if(r)try{r.dispose()}catch{}}),this.harmoPitchShifters=[],this.harmoVoiceMix=[],!this.harmoEnabled||this.harmoVoices.length===0){this.harmoBus.gain.rampTo(0,.1);return}this.harmoBus.gain.rampTo(1,.1),this.harmoVoices.forEach(e=>{if(!e.enabled||e.mix<=0)return;const n=new nd({pitch:e.semitones,windowSize:.1,delayTime:0,feedback:0}),r=new de(e.mix);this.preGain.connect(n),n.connect(r),r.connect(this.eqLow),this.harmoPitchShifters.push(n),this.harmoVoiceMix.push(r)})}setPixelateBits(e){const n=Math.max(1,Math.min(16,e|0));this.crush.set({bits:n})}setDelay(e){this.delay.delayTime.rampTo(Math.max(0,e),.05)}setFeedback(e){this.feedbackGain.gain.rampTo(us(e),.05)}setEq(e,n,r){this.eqLow.set({low:e,mid:n,high:r})}setVolume(e){this.vol.volume.rampTo(e,.05)}setDryGain(e){}setWarpLiquid(e,n){if(this.warpDepthCur=e,this.warpScaleCur=n,!this.built)return;const r=e<=0?0:Math.pow(e,.8);this.warpXfade.fade.rampTo(r,.05);const s=Qf(.05,2,1-us(n)),i=Qf(2,25,us(e)*us(n)),o=us(e);this.warpChorus.frequency.rampTo(s,.1),this.warpChorus.set({delayTime:i,depth:o})}dispose(){try{this.player.dispose()}catch{}try{this.preGain.dispose()}catch{}try{this.ringOsc.dispose()}catch{}try{this.ringScale.dispose()}catch{}try{this.ringOffset.dispose()}catch{}try{this.ringScale2.dispose()}catch{}try{this.ringVCA.dispose()}catch{}try{this.ringCross.dispose()}catch{}try{this.crush.dispose()}catch{}try{this.delay.dispose()}catch{}try{this.feedbackGain.dispose()}catch{}try{this.vol.dispose()}catch{}try{this.warpChorus.dispose()}catch{}try{this.warpXfade.dispose()}catch{}try{this.eqLow.dispose()}catch{}try{this.gateIn.dispose()}catch{}try{this.gateEnv.dispose()}catch{}try{this.gateVCA.dispose()}catch{}try{this.harmoBus.dispose()}catch{}try{this.masterOut.dispose()}catch{}this.harmoPitchShifters.forEach(e=>{try{e.dispose()}catch{}}),this.harmoVoiceMix.forEach(e=>{try{e.dispose()}catch{}})}}const hn=(t,e,n)=>Math.min(Math.max(t,e),n);function Xf(t,e){const n=t.createImageData(e.width,e.height);return n.data.set(e.data),n}function fu(t,e,n,r=["#ff004c","#ffb300","#00c8ff","#1eff00","#ff6d00","#d500f9","#00ffb3","#ffe600","#ff00c8","#006dff","#ffffff","#000000"],s=.1){t.clearRect(0,0,e,n),t.fillStyle="#000",t.fillRect(0,0,e,n);const i=Math.max(8,Math.floor(Math.min(e,n)*.02)),o=Math.max(i+1,Math.floor(Math.min(e,n)*.15)),a=Math.floor(e*n*s/(o*o));for(let l=0;l<a;l++){const u=Math.floor(i+Math.random()*(o-i)),c=Math.floor(Math.random()*(e-u)),h=Math.floor(Math.random()*(n-u));t.fillStyle=r[Math.floor(Math.random()*r.length)],t.fillRect(c,h,u,u)}return t.getImageData(0,0,e,n)}function Yf(t,e,n){n=hn(Math.floor(n),1,256);const{width:r,height:s}=e,i=document.createElement("canvas");i.width=Math.max(1,Math.floor(r/n)),i.height=Math.max(1,Math.floor(s/n));const o=i.getContext("2d"),a=document.createElement("canvas");a.width=r,a.height=s,a.getContext("2d").putImageData(e,0,0),o.imageSmoothingEnabled=!1,o.drawImage(a,0,0,i.width,i.height);const l=document.createElement("canvas");l.width=r,l.height=s;const u=l.getContext("2d");return u.imageSmoothingEnabled=!1,u.drawImage(i,0,0,r,s),u.getImageData(0,0,r,s)}function pu(t,e,n){const{width:r,height:s}=e,i=t.createImageData(r,s),o=e.data,a=i.data,l=(n%r+r)%r,u=r*4;for(let c=0;c<s;c++){const h=c*r*4,m=l*4;a.set(o.subarray(h+u-m,h+u),h),a.set(o.subarray(h,h+u-m),h+m)}return i}function Rr(t,e,n,r){const s=t.createImageData(e.width,e.height),i=e.data,o=n.data,a=s.data,l=i.length;for(let u=0;u<l;u+=4)a[u+0]=i[u+0]+(o[u+0]-i[u+0])*r,a[u+1]=i[u+1]+(o[u+1]-i[u+1])*r,a[u+2]=i[u+2]+(o[u+2]-i[u+2])*r,a[u+3]=255;return s}function Kf(t,e,n){const{width:r,height:s}=e,i=e.data,o=t.createImageData(r,s),a=o.data;function l(u,c){return(c*r+u)*4}for(let u=1;u<s-1;u++)for(let c=1;c<r-1;c++){const h=l(c,u),m=i[l(c+1,u-1)]-i[l(c-1,u-1)]+2*(i[l(c+1,u)]-i[l(c-1,u)])+i[l(c+1,u+1)]-i[l(c-1,u+1)],f=i[l(c-1,u+1)]-i[l(c-1,u-1)]+2*(i[l(c,u+1)]-i[l(c,u-1)])+i[l(c+1,u+1)]-i[l(c+1,u-1)];let g=Math.sqrt(m*m+f*f)*n*.25;g=Math.max(0,Math.min(255,g)),a[h]=a[h+1]=a[h+2]=g,a[h+3]=255}return o}function Jf(t,e,n=1,r=0,s=1,i=!0){const o=t.createImageData(e.width,e.height),a=e.data,l=o.data;for(let u=0;u<a.length;u+=4){let c=a[u],h=a[u+1],m=a[u+2];if(c=hn((c-128)*n+128,0,255),h=hn((h-128)*n+128,0,255),m=hn((m-128)*n+128,0,255),s!==1){const f=1/s;c=255*Math.pow(c/255,f),h=255*Math.pow(h/255,f),m=255*Math.pow(m/255,f)}if(r>0){const f=(c+h+m)/3;f<r*255&&(c=h=m=i?0:f)}l[u]=c,l[u+1]=h,l[u+2]=m,l[u+3]=255}return o}function ep(t,e,n,r,s,i){const{width:o,height:a}=e,l=t.createImageData(o,a),u=e.data,c=l.data,h=i*n*.001;for(let m=0;m<a;m++){const f=m/a;let g;switch(s){case"square":g=(f*n+h)%1<.5?1:-1;break;case"saw":g=(f*n+h)%1*2-1;break;case"triangle":{const y=(f*n+h)%1;g=y<.5?y*4-1:3-4*y;break}case"noise":g=Math.random()*2-1;break;default:g=Math.sin((f*n+h)*Math.PI*2)}const p=(g*.5+.5)*r;for(let y=0;y<o;y++){const d=(m*o+y)*4;c[d+0]=hn(u[d+0]*p,0,255),c[d+1]=hn(u[d+1]*p,0,255),c[d+2]=hn(u[d+2]*p,0,255),c[d+3]=255}}return l}function tp(t,e,{levels:n,dither:r=!1,ditherAmt:s=.25}){const i=e.width,o=e.height,a=t.createImageData(i,o);if(n<2)return a.data.set(e.data),a;const l=e.data,u=a.data,c=255/(n-1),h=1/c;for(let m=0;m<l.length;m+=4){let f=l[m],g=l[m+1],p=l[m+2];const y=l[m+3];if(r){const d=(qS(m)-.5)*2*s*c;f=ua(f+d),g=ua(g+d),p=ua(p+d)}u[m]=mu(f,c,h),u[m+1]=mu(g,c,h),u[m+2]=mu(p,c,h),u[m+3]=y}return a}function mu(t,e,n){return ua(Math.round(t*n)*e)}function ua(t){return t<0?0:t>255?255:t|0}function qS(t){let e=(t^2654435761)>>>0;return e^=e<<13,e^=e>>17,e^=e<<5,(e&65535)/65535}function np(t,e,n,r,s=0){const i=e.width,o=e.height,a=t.createImageData(i,o);if(r<=0||n<=0)return a.data.set(e.data),a;const l=n*r,u=e.data,c=a.data,h=s*20;for(let m=0;m<o;m++)for(let f=0;f<i;f++){const g=rp((f+h)/n,(m+17)/n),p=rp((f+333)/n,(m+h)/n),y=ip(Math.round(f+g*l),0,i-1),_=ip(Math.round(m+p*l),0,o-1)*i+y<<2,v=m*i+f<<2;c[v]=u[_],c[v+1]=u[_+1],c[v+2]=u[_+2],c[v+3]=u[_+3]}return a}function rp(t,e,n=4){let r=.5,s=1,i=0,o=0;for(let l=0;l<n;l++)i+=r*$S(t*s,e*s),o+=r,r*=.5,s*=2;return i/o*2-1}function $S(t,e){const n=Math.floor(t),r=Math.floor(e),s=t-n,i=e-r,o=Ho(n,r),a=Ho(n+1,r),l=Ho(n,r+1),u=Ho(n+1,r+1),c=sp(s),h=sp(i),m=gu(o,a,c),f=gu(l,u,c);return gu(m,f,h)}function Ho(t,e){let n=t*374761393+e*668265263;return n=(n^n<<13)>>>0,n=(n^n>>17)>>>0,n=(n^n<<5)>>>0,(n&4294967295)/4294967295}function sp(t){return t*t*(3-2*t)}function gu(t,e,n){return t+(e-t)*n}function ip(t,e,n){return t<e?e:t>n?n:t}const cs=512,Zo=512,_u=1024,op=1024;function GS(){const t=se.useRef(null),e=se.useRef(null),n=se.useRef(),r=se.useRef(null),s=se.useRef(null),i=se.useRef(null),[o,a]=se.useState([{id:"ringmod",order:1,enabled:!0},{id:"pixelate",order:2,enabled:!0},{id:"delay",order:3,enabled:!0},{id:"feedback",order:4,enabled:!0}]),l=o.length,u=se.useMemo(()=>{const X={ringmod:1,pixelate:2,delay:3,feedback:4};return o.forEach(ae=>{X[ae.id]=ae.order}),X},[o]),c=se.useMemo(()=>[...o].sort((X,ae)=>X.order-ae.order).map(X=>X.id),[o]),[h,m]=se.useState(440),[f,g]=se.useState(0),[p,y]=se.useState("sine"),[d,_]=se.useState(4),[v,S]=se.useState(0),[k,E]=se.useState(.2),[C,N]=se.useState(0),[I,D]=se.useState(0),[V,T]=se.useState(0),[P,x]=se.useState(0),[B,Q]=se.useState(!1),[U,q]=se.useState(.3),[z,H]=se.useState(0),[R,F]=se.useState(1),[ne,J]=se.useState(0),[G,ie]=se.useState(1),[fe,K]=se.useState(!0),[pe,Ne]=se.useState(!0),[ye,He]=se.useState(!1),[tt,w]=se.useState("intervals"),[j,L]=se.useState(1),[A,b]=se.useState([{enabled:!1,semitones:7,mix:.2},{enabled:!1,semitones:12,mix:.2},{enabled:!1,semitones:-12,mix:.2}]),[M,$]=se.useState(!0),Z=(X,ae)=>{b(_e=>{const he=[..._e];return he[X]={...he[X],...ae},he})},[W,Y]=se.useState(.2),[re,te]=se.useState(0),[ce,Me]=se.useState("none"),[ge,Tt]=se.useState(0),[rn,Gt]=se.useState(250),[Dn,We]=se.useState(0),[Jn,si]=se.useState(0),[Ft,yo]=se.useState(0),[ii,vo]=se.useState(-20),[oi,wo]=se.useState(-60),[Rn,os]=se.useState(.1),[Pl,A_]=se.useState(1),[O_,I_]=se.useState(!1),[M_,D_]=se.useState(-1/0),[Fl,R_]=se.useState(!1);se.useEffect(()=>{const X=document.createElement("canvas");X.width=cs,X.height=Zo,e.current=X;const ae=X.getContext("2d",{willReadFrequently:!0}),_e=new Image;_e.src="/images/digital_source.png",_e.onload=()=>{ae.drawImage(_e,0,0,cs,Zo),s.current=ae.getImageData(0,0,cs,Zo),i.current=null},_e.onerror=()=>{const he=fu(ae,cs,Zo);ae.putImageData(he,0,0),s.current=he,i.current=null}},[]),se.useEffect(()=>{n.current=new US("/audio/forest.wav")},[]);const jl=se.useCallback(async()=>{var X;Fl||(await((X=n.current)==null?void 0:X.start()),window.__webAffAudio=n.current,R_(!0),console.log("Audio context + AudioGraph started"))},[Fl]);se.useEffect(()=>{const X=async()=>{await jl()};return window.addEventListener("pointerdown",X,{once:!0}),()=>window.removeEventListener("pointerdown",X)},[jl]),se.useEffect(()=>{if(ge<=0)return;const X=n.current;if(!X)return;const ae=X.getDuration();let _e,he=performance.now();const be=()=>{const Mr=performance.now();if(Mr-he>=rn&&(he=Mr,Math.random()<ge)){const Ae=Math.random()*ae;if(X.seek(Ae),M)for(let xe=0;xe<j;xe++)X.seekVoice(xe,Ae)}_e=window.requestAnimationFrame(be)};return _e=window.requestAnimationFrame(be),()=>{_e&&cancelAnimationFrame(_e)}},[ge,rn,M,j]),se.useEffect(()=>{const X=setInterval(()=>{const ae=n.current;ae&&(I_(ae.getGateOpen()),D_(ae.getGateLevel()))},100);return()=>clearInterval(X)},[]),se.useEffect(()=>{if(ce==="none"||re===0)return;let X;const ae=()=>{const _e=performance.now()/1e3,he=(Math.sin(_e*Math.PI*2*W)*.5+.5)*re;switch(ce){case"ringFreq":m(hn(1+he*2e3,1,2e3));break;case"pixelate":_(hn(Math.round(1+he*127),1,128));break;case"delay":E(hn(he,0,1));break;case"feedback":D(hn(he,0,1));break;case"masterVol":vo(-40+he*40);break}X=requestAnimationFrame(ae)};return ae(),()=>cancelAnimationFrame(X)},[W,re,ce]);function xo(X,ae){a(_e=>{const he=[..._e],be=he.findIndex(xe=>xe.id===X);if(be<0)return _e;const[Mr]=he.splice(be,1),Ae=Math.max(0,Math.min(he.length,ae-1));return he.splice(Ae,0,Mr),he.map((xe,bt)=>({...xe,order:bt+1}))})}const P_=X=>{const ae=new Image;ae.onload=()=>{r.current=ae;const _e=e.current;if(!_e)return;const he=_e.getContext("2d",{willReadFrequently:!0});he.drawImage(ae,0,0,_e.width,_e.height),s.current=he.getImageData(0,0,_e.width,_e.height),i.current=null},ae.src=URL.createObjectURL(X)},ad=()=>{const X=e.current;if(!X)return;const ae=X.getContext("2d",{willReadFrequently:!0}),_e=fu(ae,X.width,X.height);ae.putImageData(_e,0,0),s.current=_e,i.current=null},ld=se.useRef(0);function F_(X){return X-ld.current>250?(ld.current=X,!0):!1}se.useEffect(()=>{let X;const ae=_e=>{F_(_e)&&j_(),X=requestAnimationFrame(ae)};return X=requestAnimationFrame(ae),()=>cancelAnimationFrame(X)});const j_=se.useCallback(()=>{const X=e.current;if(!X)return;const ae=X.getContext("2d",{willReadFrequently:!0}),_e=pe?s.current??ae.getImageData(0,0,X.width,X.height):i.current??ae.getImageData(0,0,X.width,X.height);let he=Xf(ae,_e);if(ge>0){const xe=Math.max(1,Math.floor(rn/1e3*X.width*.5)),bt=(Math.random()*2-1)*ge,Et=Math.floor(bt*xe);Et!==0&&(he=pu(ae,he,Et))}if(f>0&&(he=ep(ae,he,h,f,p,performance.now()/1e3)),ye){const xe=performance.now()/1e3,bt=[[255,0,0],[0,255,0],[0,0,255]],Et=he,Pn=ae.createImageData(Et.width,Et.height).data,kn=Et.data,ko=A.slice(0,j);for(let nt=0;nt<ko.length;nt++){const as=ko[nt];if(!as.enabled||as.mix<=0)continue;const[er,li,B_]=bt[nt],ud=Math.pow(2,as.semitones/12),W_=xe*ud%1;for(let Dr=0;Dr<kn.length;Dr+=4){const zl=(Math.sin(Dr/4*1e-4*ud+W_*Math.PI*2)*.5+.5)*as.mix;Pn[Dr]+=er*zl,Pn[Dr+1]+=li*zl,Pn[Dr+2]+=B_*zl,Pn[Dr+3]=255}}for(let nt=0;nt<kn.length;nt+=4)kn[nt]=Math.min(255,kn[nt]+Pn[nt]),kn[nt+1]=Math.min(255,kn[nt+1]+Pn[nt+1]),kn[nt+2]=Math.min(255,kn[nt+2]+Pn[nt+2]);he=Et}if(c.forEach(xe=>{if(xe!=="ringmod")switch(xe){case"pixelate":if(v>0){const bt=Yf(ae,he,d*(cs/_u));he=Rr(ae,he,bt,v)}break;case"delay":if(C>0){const bt=Math.floor(k*X.width*.25),Et=pu(ae,he,bt);he=Rr(ae,he,Et,C)}break;case"feedback":I>0&&i.current&&(he=Rr(ae,he,i.current,I));break}}),P>1&&(he=tp(ae,he,{levels:P,dither:B,ditherAmt:.35})),z>0){const xe=performance.now()/1e3;he=np(ae,he,cs*U,z,xe)}if(V>0){const xe=Kf(ae,he,V);he=Rr(ae,he,xe,Math.min(V*.5,1))}he=Jf(ae,he,R,ne,G,fe),ae.putImageData(he,0,0),i.current=Xf(ae,he);const be=t.current;if(be){const xe=be.getContext("2d");xe.imageSmoothingEnabled=!1,xe.clearRect(0,0,be.width,be.height),xe.drawImage(X,0,0,be.width,be.height)}const Mr=xe=>{switch(xe){case"tri":return"triangle";case"saw":return"saw";case"sq":return"square";default:return xe}},Ae=n.current;Ae&&(Ae.rebuildChain(c),Ae.setRingMod(h,f),Ae.setRingWave(Mr(p)),Ae.setHarmoEnabled(ye),Ae.setHarmoVoices(h,A.slice(0,j),M),Ae.setPixelateBits(Math.max(1,Math.round(d/16))||1),Ae.setDelay(k),Ae.setFeedback(I),Ae.setEq(Dn,Jn,Ft),Ae.setVolume(ii),Ae.setGateThresh(oi),Ae.setGateRelease(Rn),Ae.setWarpLiquid(z,U),Ae.setDryGain(1))},[c,h,f,p,ye,tt,j,A,M,ge,rn,d,v,k,C,I,V,P,B,U,z,R,ne,G,fe,pe,Dn,Jn,Ft,ii,oi,Rn]),z_=se.useCallback((X,ae,_e,he)=>{if(r.current)X.drawImage(r.current,0,0,ae,_e);else{const Ae=fu(X,ae,_e);X.putImageData(Ae,0,0)}let be=X.getImageData(0,0,ae,_e);if(f>0&&(be=ep(X,be,h,f,p,he)),ye){const Ae=[[255,0,0],[0,255,0],[0,0,255]],xe=be.data,bt=A.slice(0,j);for(let Et=0;Et<bt.length;Et++){const ai=bt[Et];if(!ai.enabled||ai.mix<=0)continue;const[Pn,kn,ko]=Ae[Et],nt=Math.pow(2,ai.semitones/12),as=he*nt%1;for(let er=0;er<xe.length;er+=4){const li=(Math.sin(er/4*1e-4*nt+as*Math.PI*2)*.5+.5)*ai.mix;xe[er]+=Pn*li,xe[er+1]+=kn*li,xe[er+2]+=ko*li}}}if(c.forEach(Ae=>{if(Ae!=="ringmod")switch(Ae){case"pixelate":if(v>0){const xe=Yf(X,be,d);be=Rr(X,be,xe,v)}break;case"delay":if(C>0){const xe=Math.floor(k*ae*.25),bt=pu(X,be,xe);be=Rr(X,be,bt,C)}break}}),P>1&&(be=tp(X,be,{levels:P,dither:B,ditherAmt:.35})),z>0&&(be=np(X,be,ae*U,z,he)),V>0){const Ae=Kf(X,be,V);be=Rr(X,be,Ae,Math.min(V*.5,1))}be=Jf(X,be,R,ne,G,fe),X.putImageData(be,0,0)},[c,h,f,p,ye,j,A,d,v,k,C,P,B,U,z,V,R,ne,G,fe]),L_=()=>{var X;return(X=n.current)==null?void 0:X.fadeIn(Pl)},V_=()=>{var X;return(X=n.current)==null?void 0:X.fadeOut(Pl)};return O.jsxs("div",{style:{display:"flex",height:"100vh",background:"#000",color:"#fff",fontFamily:"sans-serif",position:"relative"},children:[O.jsx(Pv,{visible:!Fl,onClick:jl}),O.jsxs("div",{style:{width:"25%",padding:"1rem",overflowY:"auto",borderRight:"1px solid #333"},children:[O.jsx("h2",{children:"Modulations"}),O.jsx(Dv,{rate:W,depth:re,target:ce,onChange:X=>{X.rate!==void 0&&Y(X.rate),X.depth!==void 0&&te(X.depth),X.target!==void 0&&Me(X.target)}}),O.jsx(Rv,{intensity:ge,stepMs:rn,onIntensity:Tt,onStepMs:Gt}),O.jsx("div",{style:{marginTop:"1rem"},children:O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:pe,onChange:X=>Ne(X.target.checked)})," Base-Locked"]})}),O.jsx("div",{style:{marginTop:"1rem"},children:O.jsx("input",{type:"file",accept:"image/*",onChange:X=>{var _e;const ae=(_e=X.target.files)==null?void 0:_e[0];ae&&P_(ae)}})}),O.jsx("button",{style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#444"},onClick:ad,children:"New Squares"}),O.jsx(Yv,{canvasRef:t,getAudioStream:()=>{var X;return(X=n.current)==null?void 0:X.getStream()}}),O.jsx(zv,{renderFrame:(X,ae,_e,he)=>z_(X,ae,_e,he),getAudioStream:()=>{var X;return(X=n.current)==null?void 0:X.getStream()}})]}),O.jsx("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:O.jsx("canvas",{ref:t,width:_u,height:op,style:{border:"1px solid #555",background:"#111",imageRendering:"pixelated",width:_u,height:op}})}),O.jsxs("div",{style:{width:"25%",padding:"1rem",overflowY:"auto",borderLeft:"1px solid #333"},children:[O.jsx(Qv,{enabled:ye,setEnabled:He,mode:tt,setMode:w,voiceCount:j,setVoiceCount:L,voices:A,onVoiceChange:Z,align:M,setAlign:$}),O.jsx("h2",{children:"Effects Chain"}),O.jsx(Vv,{freq:h,mix:f,wave:p,order:u.ringmod,maxOrder:l,onFreqChange:m,onMixChange:g,onWaveChange:y,onOrderChange:X=>xo("ringmod",X)}),O.jsx(Bv,{value:d,mix:v,order:u.pixelate,maxOrder:l,onChange:_,onMixChange:S,onOrderChange:X=>xo("pixelate",X)}),O.jsx(Wv,{time:k,mix:C,order:u.delay,maxOrder:l,onChange:E,onMixChange:N,onOrderChange:X=>xo("delay",X)}),O.jsx(Uv,{value:I,order:u.feedback,maxOrder:l,onChange:D,onOrderChange:X=>xo("feedback",X)}),O.jsx(qv,{amount:V,onAmountChange:T}),O.jsx($v,{levels:P,dither:B,onLevelsChange:x,onDitherChange:Q}),O.jsx(Gv,{scale:U,depth:z,onScaleChange:q,onDepthChange:H}),O.jsx(Hv,{contrast:R,threshold:ne,gamma:G,preserve:fe,onContrastChange:F,onThresholdChange:J,onGammaChange:ie,onPreserveChange:K,onNewSquares:ad}),O.jsx(Zv,{low:Dn,mid:Jn,high:Ft,volume:ii,gateThresh:oi,gateRelease:Rn,gateOpen:O_,gateLevel:M_,fadeDur:Pl,onLowChange:We,onMidChange:si,onHighChange:yo,onVolumeChange:vo,onGateThreshChange:wo,onGateReleaseChange:os,onFadeDurChange:A_,onFadeIn:L_,onFadeOut:V_})]})]})}yu.createRoot(document.getElementById("root")).render(O.jsx(o0.StrictMode,{children:O.jsx(GS,{})}));
